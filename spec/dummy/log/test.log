  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"2"}
Completed 500 Internal Server Error in 5ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateStampRateTypes (20131103141615)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "stamp_rate_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "description" varchar(255), "period_duration" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "unit" integer, "rate_type_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131103141615"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to CreateStampServiceTypes (20131103141659)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "rate_type_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131103141659"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateStampPriceRatings (20131103141711)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131103141711"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to CreateStampServices (20131103141753)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "service_type_id" integer, "external_id" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131103141753"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateStampReservations (20131103141804)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "time_slot_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131103141804"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateStampPreReservations (20131103141810)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "time_slot_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131103141810"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"2"}
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = ? LIMIT 1  [["id", "2"]]
Completed 404 Not Found in 5ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"2"}
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 2 LIMIT 1
Completed 500 Internal Server Error in 9ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"2"}
  [1m[35mStamp::Service Load (0.1ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 2 LIMIT 1
Completed 500 Internal Server Error in 7ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"3"}
  [1m[35mStamp::Service Load (0.1ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 3 LIMIT 1
Completed 500 Internal Server Error in 6ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"3"}
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 3 LIMIT 1
Completed 400 Bad Request in 6ms (Views: 0.1ms | ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Booked_slots_for_a_single_day
--------------------------------------------------------------------------
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"2"}
Completed 500 Internal Server Error in 6ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (1.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateStampTimeSlots (20131103141615)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141615"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampServiceTypes (20131103141659)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141659"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampPriceRatings (20131103141711)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141711"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampServices (20131103141753)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "stamp_service_types" ADD "service_type_id" integer
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141753"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampReservations (20131103141804)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "time_slot_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141804"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampPreReservations (20131103141810)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "time_slot_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141810"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Booked_slots_for_a_single_day
--------------------------------------------------------------------------
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"2"}
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 2 LIMIT 1
Completed 400 Bad Request in 10ms (Views: 0.1ms | ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Create_a_Service
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Create_a_Service
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Create_a_Service
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Create_a_Service
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Create_a_Service
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Create_a_Service
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Create_a_Service
-------------------------------------------------------------
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Create_a_Service
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Create_a_Service
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Booked_slots_for_a_single_day
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Booked_slots_for_a_single_day
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Booked_slots_for_a_single_day
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Booked_slots_for_a_single_day
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Booked_slots_for_a_single_day
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Booked_slots_for_a_single_day
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Create_a_Service
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Booked_slots_for_a_single_day
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Create_a_Service
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"A service"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "stamp_services" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 24 Dec 2013 15:03:31 UTC +00:00], ["name", "A service"], ["updated_at", Tue, 24 Dec 2013 15:03:31 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 28ms (Views: 0.4ms | ActiveRecord: 5.1ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"A service"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 200 OK in 30ms (Views: 0.4ms | ActiveRecord: 1.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"A service"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 200 OK in 27ms (Views: 0.4ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (1.2ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"A service"}}
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 200 OK in 234ms (Views: 2.7ms | ActiveRecord: 4.6ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.6ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"A service"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 200 OK in 19ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"A service"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 200 OK in 19ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"A service"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 200 OK in 20ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"A service"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 200 OK in 18ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"A service"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 200 OK in 53286ms (Views: 0.9ms | ActiveRecord: 1.7ms)
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"A service"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 200 OK in 17ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"A service"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 19ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"1"}}
Unpermitted parameters: service_type_id
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.8ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 14937ms (Views: 1.1ms | ActiveRecord: 3.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "time_slot_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "time_slot_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (0.7ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.7ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141810')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141804')
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateStampTimeSlots (20131103141615)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141615"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampServiceTypes (20131103141659)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141659"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampPriceRatings (20131103141711)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141711"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampServices (20131103141753)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "stamp_service_types" ADD "service_type_id" integer
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141753"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampReservations (20131103141804)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "time_slot_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141804"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampPreReservations (20131103141810)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "time_slot_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141810"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (5.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:45:48 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:45:48 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:45:48 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:45:48 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"1", "owner_id"=>"1"}}
Unpermitted parameters: service_type_id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 46ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.3ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:46:25 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:46:25 UTC +00:00]]
  [1m[36m (3.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:46:25 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:46:25 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"1", "owner_id"=>"1"}}
Unpermitted parameters: service_type_id
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.4ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.4ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:48:38 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:48:38 UTC +00:00]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 135238ms (Views: 1.5ms | ActiveRecord: 1.2ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (2565.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.6ms)[0m  begin transaction
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:48:40 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:48:40 UTC +00:00]]
  [1m[35m (640.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"1", "owner_id"=>"1"}}
Unpermitted parameters: service_type_id
Unpermitted parameters: service_type_id
  [1m[36m (0.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:49:20 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:49:20 UTC +00:00]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:49:20 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:49:20 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"1", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Wed, 25 Dec 2013 14:49:20 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 1], ["updated_at", Wed, 25 Dec 2013 14:49:20 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 42ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (2.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.9ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:50:10 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:50:10 UTC +00:00]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:50:10 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:50:10 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"1", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Wed, 25 Dec 2013 14:50:10 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 1], ["updated_at", Wed, 25 Dec 2013 14:50:10 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 44ms (Views: 0.5ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (2.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 2]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 3]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 4]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 5]]
  [1m[35m (0.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 6]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 7]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 8]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 9]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 10]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:51:44 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:51:44 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:51:44 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:51:44 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"1", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 46ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.1ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 11]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 12]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:51:50 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:51:50 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:51:50 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:51:50 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"1", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 46ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 13]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 14]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:52:15 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:52:15 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:52:15 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:52:15 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"1", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 43ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 15]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 16]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:52:27 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:52:27 UTC +00:00]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:52:27 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:52:27 UTC +00:00]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"1", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 44ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 17]]
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 18]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.0ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:53:03 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:53:03 UTC +00:00]]
  [1m[36m (3.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:53:03 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:53:03 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"1", "owner_id"=>"1"}}
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.7ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:54:35 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:54:35 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:54:35 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:54:35 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"1", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 45ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.9ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:54:42 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:54:42 UTC +00:00]]
  [1m[36m (99.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:54:43 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:54:43 UTC +00:00]]
  [1m[35m (642.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"1", "owner_id"=>"1"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_service_types"[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mStamp::ServiceType Load (0.1ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types" ORDER BY "stamp_service_types"."id" ASC LIMIT 1
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types" ORDER BY "stamp_service_types"."id" ASC LIMIT 1[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:57:16 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:57:16 UTC +00:00]]
  [1m[36m (4929.0ms)[0m  [1mcommit transaction[0m
SQLite3::BusyException: database is locked: commit transaction
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 19]]
  [1m[35m (4927.7ms)[0m  commit transaction
SQLite3::BusyException: database is locked: commit transaction
  [1m[36m (2.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.5ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 169299ms (Views: 1.5ms | ActiveRecord: 2.1ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:57:37 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:57:37 UTC +00:00]]
  [1m[36m (99.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:57:37 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:57:37 UTC +00:00]]
  [1m[35m (651.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"26", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 26 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Wed, 25 Dec 2013 14:57:37 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 26], ["updated_at", Wed, 25 Dec 2013 14:57:37 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 42ms (Views: 0.5ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 19]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 20]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 21]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 22]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 23]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 24]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 25]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 26]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:57:45 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:57:45 UTC +00:00]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:57:45 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:57:45 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"28", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 28 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Wed, 25 Dec 2013 14:57:46 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 28], ["updated_at", Wed, 25 Dec 2013 14:57:46 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 43ms (Views: 0.5ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = -1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 8ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.1ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 27]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 28]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:58:45 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:58:45 UTC +00:00]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:58:45 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:58:45 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"30", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 30 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Wed, 25 Dec 2013 14:58:45 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 30], ["updated_at", Wed, 25 Dec 2013 14:58:45 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 44ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (2.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = -1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 9ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "owner_id"=>"1"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.1ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 29]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 30]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.8ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:58:49 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:58:49 UTC +00:00]]
  [1m[36m (398.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:58:49 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:58:49 UTC +00:00]]
  [1m[35m (8.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 53ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.1ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 31]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 32]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:59:36 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:59:36 UTC +00:00]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:59:36 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:59:36 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type"=>"33"}}
Unpermitted parameters: service_type
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 46ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.1ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 33]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 34]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.5ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:59:44 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:59:44 UTC +00:00]]
  [1m[36m (699.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:59:45 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:59:45 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = -1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 46ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"36", "owner_id"=>"1"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 36 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Wed, 25 Dec 2013 14:59:45 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 36], ["updated_at", Wed, 25 Dec 2013 14:59:45 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "owner_id"=>"1"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 6ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type"=>"35"}}
Unpermitted parameters: service_type
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.1ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 35]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 36]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 26 Dec 2013 14:27:09 UTC +00:00], ["name", "Restaurant"], ["updated_at", Thu, 26 Dec 2013 14:27:09 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 26 Dec 2013 14:27:09 UTC +00:00], ["name", "Bakery"], ["updated_at", Thu, 26 Dec 2013 14:27:09 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 38 LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Thu, 26 Dec 2013 14:27:09 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 38], ["updated_at", Thu, 26 Dec 2013 14:27:09 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 37]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 38]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.9ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 26 Dec 2013 14:27:35 UTC +00:00], ["name", "Restaurant"], ["updated_at", Thu, 26 Dec 2013 14:27:35 UTC +00:00]]
  [1m[36m (100.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 26 Dec 2013 14:27:35 UTC +00:00], ["name", "Bakery"], ["updated_at", Thu, 26 Dec 2013 14:27:35 UTC +00:00]]
  [1m[35m (652.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 40 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Thu, 26 Dec 2013 14:27:35 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 40], ["updated_at", Thu, 26 Dec 2013 14:27:35 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 39]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 40]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 2]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 26 Dec 2013 14:39:01 UTC +00:00], ["name", "Restaurant"], ["updated_at", Thu, 26 Dec 2013 14:39:01 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 26 Dec 2013 14:39:01 UTC +00:00], ["name", "Bakery"], ["updated_at", Thu, 26 Dec 2013 14:39:01 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 42 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Thu, 26 Dec 2013 14:39:01 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 42], ["updated_at", Thu, 26 Dec 2013 14:39:01 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 41]]
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 42]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 3]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 26 Dec 2013 14:43:04 UTC +00:00], ["name", "Restaurant"], ["updated_at", Thu, 26 Dec 2013 14:43:04 UTC +00:00]]
  [1m[36m (2.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 26 Dec 2013 14:43:04 UTC +00:00], ["name", "Bakery"], ["updated_at", Thu, 26 Dec 2013 14:43:04 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 44 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Thu, 26 Dec 2013 14:43:04 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 44], ["updated_at", Thu, 26 Dec 2013 14:43:04 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 43]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 44]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 26 Dec 2013 14:52:04 UTC +00:00], ["name", "Restaurant"], ["updated_at", Thu, 26 Dec 2013 14:52:04 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 26 Dec 2013 14:52:04 UTC +00:00], ["name", "Bakery"], ["updated_at", Thu, 26 Dec 2013 14:52:04 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 46 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Thu, 26 Dec 2013 14:52:04 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 46], ["updated_at", Thu, 26 Dec 2013 14:52:04 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 45]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 46]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 5]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.3ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:29:21 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:29:21 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:29:21 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:29:21 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 48 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:29:21 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 48], ["updated_at", Fri, 27 Dec 2013 13:29:21 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"6"}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 47]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 48]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:29:53 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:29:53 UTC +00:00]]
  [1m[36m (2.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:29:53 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:29:53 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 50 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:29:53 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 50], ["updated_at", Fri, 27 Dec 2013 13:29:53 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"7"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 49]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 50]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 7]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.5ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:31:21 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:31:21 UTC +00:00]]
  [1m[36m (3.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:31:21 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:31:21 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 52 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:31:21 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 52], ["updated_at", Fri, 27 Dec 2013 13:31:21 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"8"}
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 51]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 52]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 8]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.9ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:31:43 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:31:43 UTC +00:00]]
  [1m[36m (3.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:31:43 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:31:43 UTC +00:00]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 54 LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:31:43 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 54], ["updated_at", Fri, 27 Dec 2013 13:31:43 UTC +00:00]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"9"}
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.5ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (1.1ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 53]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.1ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 54]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (1.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 9]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.4ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:32:11 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:32:11 UTC +00:00]]
  [1m[36m (149.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:32:11 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:32:11 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 56 LIMIT 1
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:32:11 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 56], ["updated_at", Fri, 27 Dec 2013 13:32:11 UTC +00:00]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"10"}
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.6ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (1.1ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 55]]
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 56]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 10]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.3ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:32:53 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:32:53 UTC +00:00]]
  [1m[36m (100.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:32:53 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:32:53 UTC +00:00]]
  [1m[35m (643.4ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 58 LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:32:54 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 58], ["updated_at", Fri, 27 Dec 2013 13:32:54 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"11"}
Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.2ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:34:18 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:34:18 UTC +00:00]]
  [1m[36m (3.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:34:18 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:34:18 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 60 LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:34:18 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 60], ["updated_at", Fri, 27 Dec 2013 13:34:18 UTC +00:00]]
  [1m[35m (2.2ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"id"=>"12"}
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.6ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.6ms)[0m  begin transaction
  [1m[36mSQL (1.1ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 57]]
  [1m[35m (98.7ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 58]]
  [1m[36m (649.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 59]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 60]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 12]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:36:42 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:36:42 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:36:42 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:36:42 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 62 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:36:42 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 62], ["updated_at", Fri, 27 Dec 2013 13:36:42 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 61]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 62]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 13]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.5ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:38:25 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:38:25 UTC +00:00]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:38:25 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:38:25 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 64 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:38:25 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 64], ["updated_at", Fri, 27 Dec 2013 13:38:25 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 63]]
  [1m[35m (2.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 64]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 14]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.5ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:41:29 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:41:29 UTC +00:00]]
  [1m[36m (3.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:41:29 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:41:29 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 66 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:41:29 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 66], ["updated_at", Fri, 27 Dec 2013 13:41:29 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.1ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 65]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 66]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 15]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:42:19 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:42:19 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:42:19 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:42:19 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 68 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:42:19 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 68], ["updated_at", Fri, 27 Dec 2013 13:42:19 UTC +00:00]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"68", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 68 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:42:19 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 68], ["updated_at", Fri, 27 Dec 2013 13:42:19 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.1ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 67]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 68]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 16]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:42:46 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:42:46 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:42:46 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:42:46 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 70 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:42:46 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 70], ["updated_at", Fri, 27 Dec 2013 13:42:46 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"70", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 70 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:42:46 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 70], ["updated_at", Fri, 27 Dec 2013 13:42:46 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = -1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 10ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "owner_id"=>"1"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type"=>"69"}}
Unpermitted parameters: service_type
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 69]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 70]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 17]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.3ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:42:57 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:42:57 UTC +00:00]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:42:57 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:42:57 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 72 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:42:57 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 72], ["updated_at", Fri, 27 Dec 2013 13:42:57 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 71]]
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 72]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 18]]
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:43:29 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:43:29 UTC +00:00]]
  [1m[36m (2.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:43:29 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:43:29 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 74 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:43:29 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 74], ["updated_at", Fri, 27 Dec 2013 13:43:29 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 73]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 74]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 19]]
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.7ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
SQLite3::SQLException: no such table: stamp_service_types: SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (3.6ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (1.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateStampTimeSlots (20131103141615)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141615"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampServiceTypes (20131103141659)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141659"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampPriceRatings (20131103141711)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141711"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampServices (20131103141753)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "stamp_service_types" ADD "service_type_id" integer
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141753"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampReservations (20131103141804)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "time_slot_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141804"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampPreReservations (20131103141810)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "time_slot_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141810"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:48:44 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:48:44 UTC +00:00]]
  [1m[36m (99.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:48:44 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:48:44 UTC +00:00]]
  [1m[35m (651.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 2 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:48:45 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 2], ["updated_at", Fri, 27 Dec 2013 13:48:45 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 2]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:49:05 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:49:05 UTC +00:00]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:49:05 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:49:05 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 4 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:49:05 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 4], ["updated_at", Fri, 27 Dec 2013 13:49:05 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"2"}
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 3]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 4]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 2]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.3ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:49:16 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:49:16 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:49:16 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:49:16 UTC +00:00]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 6 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:49:16 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 6], ["updated_at", Fri, 27 Dec 2013 13:49:16 UTC +00:00]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"3"}
Completed 200 OK in 23217ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.5ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:50:30 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:50:30 UTC +00:00]]
  [1m[36m (98.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:50:30 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:50:30 UTC +00:00]]
  [1m[35m (643.3ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 8 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:50:31 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 8], ["updated_at", Fri, 27 Dec 2013 13:50:31 UTC +00:00]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service"=>"4"}
Completed 200 OK in 22630ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.5ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:51:06 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:51:06 UTC +00:00]]
  [1m[36m (3.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:51:06 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:51:06 UTC +00:00]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 10 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:51:06 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 10], ["updated_at", Fri, 27 Dec 2013 13:51:06 UTC +00:00]]
  [1m[35m (3.2ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"id"=>"5"}
Completed 200 OK in 10047ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.5ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:52:21 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:52:21 UTC +00:00]]
  [1m[36m (100.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:52:21 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:52:21 UTC +00:00]]
  [1m[35m (652.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 12 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:52:21 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 12], ["updated_at", Fri, 27 Dec 2013 13:52:21 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"6"}
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 6 LIMIT 1
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 5]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 7]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 8]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 9]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 10]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 11]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 12]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 6]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types" ORDER BY "stamp_service_types"."id" ASC LIMIT 1[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 14:15:33 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 27 Dec 2013 14:15:33 UTC +00:00]]
  [1m[36m (620.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 14:15:34 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 14:15:34 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
Unpermitted parameters: service
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 49ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"14", "owner_id"=>"1"}}
Unpermitted parameters: service
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 10ms (Views: 0.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type"=>"13"}}
Unpermitted parameters: service
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 10ms (Views: 0.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "owner_id"=>"1"}}
Unpermitted parameters: service
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 8ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.1ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 13]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 14]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.1ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 14:16:18 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 27 Dec 2013 14:16:18 UTC +00:00]]
  [1m[36m (99.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (35.2ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 14:16:19 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 14:16:19 UTC +00:00]]
  [1m[35m (608.3ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
Unpermitted parameters: service
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 27015ms (Views: 1.6ms | ActiveRecord: 1.3ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type"=>"15"}}
Unpermitted parameters: service
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 22146ms (Views: 1.7ms | ActiveRecord: 1.1ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "owner_id"=>"1"}}
Unpermitted parameters: service
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.4ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.5ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 1093ms (Views: 1.7ms | ActiveRecord: 1.2ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"16", "owner_id"=>"1"}}
Unpermitted parameters: service
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 525ms (Views: 1.9ms | ActiveRecord: 1.2ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.5ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 15]]
  [1m[36m (101.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 16]]
  [1m[35m (648.9ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.4ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.3ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 14:19:09 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 27 Dec 2013 14:19:09 UTC +00:00]]
  [1m[36m (100.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 14:19:41 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 14:19:41 UTC +00:00]]
  [1m[35m (3.3ms)[0m  commit transaction
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35m (5.7ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 14:19:54 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 27 Dec 2013 14:19:54 UTC +00:00]]
  [1m[36m (599.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 14:19:55 UTC +00:00], ["name", "service type 2"], ["updated_at", Fri, 27 Dec 2013 14:19:55 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type"=>"19"}}
Unpermitted parameters: service
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 48ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "owner_id"=>"1"}}
Unpermitted parameters: service
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 9ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
Unpermitted parameters: service
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 9ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"20", "owner_id"=>"1"}}
Unpermitted parameters: service
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 11ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 17]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 18]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 19]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 20]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.8ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 14:20:14 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 27 Dec 2013 14:20:14 UTC +00:00]]
  [1m[36m (3.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 14:20:15 UTC +00:00], ["name", "service type 2"], ["updated_at", Fri, 27 Dec 2013 14:20:15 UTC +00:00]]
  [1m[35m (3.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
Unpermitted parameters: service
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.4ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.5ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 27639ms (Views: 2.9ms | ActiveRecord: 1.3ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.9ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 29 Dec 2013 14:24:06 UTC +00:00], ["name", "service type 1"], ["updated_at", Sun, 29 Dec 2013 14:24:06 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 29 Dec 2013 14:24:06 UTC +00:00], ["name", "service type 2"], ["updated_at", Sun, 29 Dec 2013 14:24:06 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"24", "owner_id"=>"1"}}
Unpermitted parameters: service
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 51ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "owner_id"=>"1"}}
Unpermitted parameters: service
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 8ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
Unpermitted parameters: service
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 10ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type"=>"23"}}
Unpermitted parameters: service
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 7ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 21]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 22]]
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 23]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 24]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 29 Dec 2013 14:24:48 UTC +00:00], ["name", "service type 1"], ["updated_at", Sun, 29 Dec 2013 14:24:48 UTC +00:00]]
  [1m[36m (3.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 29 Dec 2013 14:24:48 UTC +00:00], ["name", "service type 2"], ["updated_at", Sun, 29 Dec 2013 14:24:48 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 25]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 26]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 29 Dec 2013 14:25:21 UTC +00:00], ["name", "service type 1"], ["updated_at", Sun, 29 Dec 2013 14:25:21 UTC +00:00]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 29 Dec 2013 14:25:21 UTC +00:00], ["name", "service type 2"], ["updated_at", Sun, 29 Dec 2013 14:25:21 UTC +00:00]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 27]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 28]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 29 Dec 2013 14:25:35 UTC +00:00], ["name", "service type 1"], ["updated_at", Sun, 29 Dec 2013 14:25:35 UTC +00:00]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 29 Dec 2013 14:25:35 UTC +00:00], ["name", "service type 2"], ["updated_at", Sun, 29 Dec 2013 14:25:35 UTC +00:00]]
  [1m[35m (2.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"30", "owner_id"=>"1"}}
Unpermitted parameters: service
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 49ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 29]]
  [1m[35m (4.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 30]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 29 Dec 2013 14:26:31 UTC +00:00], ["name", "service type 1"], ["updated_at", Sun, 29 Dec 2013 14:26:31 UTC +00:00]]
  [1m[36m (98.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 29 Dec 2013 14:26:31 UTC +00:00], ["name", "service type 2"], ["updated_at", Sun, 29 Dec 2013 14:26:31 UTC +00:00]]
  [1m[35m (652.3ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 31]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 32]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 29 Dec 2013 14:26:40 UTC +00:00], ["name", "service type 1"], ["updated_at", Sun, 29 Dec 2013 14:26:40 UTC +00:00]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 29 Dec 2013 14:26:40 UTC +00:00], ["name", "service type 2"], ["updated_at", Sun, 29 Dec 2013 14:26:40 UTC +00:00]]
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"34", "owner_id"=>"1"}}
Unpermitted parameters: service
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 48ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 33]]
  [1m[35m (2.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 34]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 29 Dec 2013 14:27:08 UTC +00:00], ["name", "service type 1"], ["updated_at", Sun, 29 Dec 2013 14:27:08 UTC +00:00]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 29 Dec 2013 14:27:08 UTC +00:00], ["name", "service type 2"], ["updated_at", Sun, 29 Dec 2013 14:27:08 UTC +00:00]]
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"36", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 36 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Sun, 29 Dec 2013 14:27:09 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 36], ["updated_at", Sun, 29 Dec 2013 14:27:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 42ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (2.4ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 35]]
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 36]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 29 Dec 2013 14:27:53 UTC +00:00], ["name", "service type 1"], ["updated_at", Sun, 29 Dec 2013 14:27:53 UTC +00:00]]
  [1m[36m (2.9ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 37]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 3]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 5]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 29 Dec 2013 14:28:46 UTC +00:00], ["name", "service type 1"], ["updated_at", Sun, 29 Dec 2013 14:28:46 UTC +00:00]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.4ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 38]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 29 Dec 2013 14:30:47 UTC +00:00], ["name", "service type 1"], ["updated_at", Sun, 29 Dec 2013 14:30:47 UTC +00:00]]
  [1m[36m (3.9ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 39]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 29 Dec 2013 14:33:35 UTC +00:00], ["name", "service type 1"], ["updated_at", Sun, 29 Dec 2013 14:33:35 UTC +00:00]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 40]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.3ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 29 Dec 2013 14:33:46 UTC +00:00], ["name", "service type 1"], ["updated_at", Sun, 29 Dec 2013 14:33:46 UTC +00:00]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 41]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.3ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 29 Dec 2013 18:55:57 UTC +00:00], ["name", "service type 1"], ["updated_at", Sun, 29 Dec 2013 18:55:57 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 42]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.3ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.5ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 29 Dec 2013 18:58:38 UTC +00:00], ["name", "service type 1"], ["updated_at", Sun, 29 Dec 2013 18:58:38 UTC +00:00]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 29 Dec 2013 18:58:38 UTC +00:00], ["name", "service type 2"], ["updated_at", Sun, 29 Dec 2013 18:58:38 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 43]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 44]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.3ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36mStamp::ServiceType Load (0.1ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types" ORDER BY "stamp_service_types"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.7ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 29 Dec 2013 19:05:30 UTC +00:00], ["name", "service type 1"], ["updated_at", Sun, 29 Dec 2013 19:05:30 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.1ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 45]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.4ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 29 Dec 2013 19:06:21 UTC +00:00], ["name", "service type 1"], ["updated_at", Sun, 29 Dec 2013 19:06:21 UTC +00:00]]
  [1m[36m (2.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 46 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Sun, 29 Dec 2013 19:06:21 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 31], ["service_type_id", 46], ["updated_at", Sun, 29 Dec 2013 19:06:21 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service"=>{"service_id"=>"7"}}
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 7 LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 46]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 7]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.5ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
SQLite3::SQLException: no such table: stamp_service_types: SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36mStamp::ServiceType Load (0.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
SQLite3::SQLException: no such table: stamp_service_types: SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (1.0ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mStamp::ServiceType Load (0.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
SQLite3::SQLException: no such table: stamp_service_types: SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('0')
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mStamp::ServiceType Load (0.5ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
SQLite3::SQLException: no such table: stamp_service_types: SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
SQLite3::SQLException: no such table: stamp_service_types: SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (1.0ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('0')
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
SQLite3::SQLException: no such table: stamp_service_types: SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[35mStamp::ServiceType Load (0.1ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
SQLite3::SQLException: no such table: stamp_service_types: SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (3.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateStampTimeSlots (20131103141615)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141615"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampServiceTypes (20131103141659)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141659"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampPriceRatings (20131103141711)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141711"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampServices (20131103141753)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "stamp_service_types" ADD "service_type_id" integer
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141753"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampReservations (20131103141804)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141804"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampPreReservations (20131103141810)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141810"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (758.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 02 Jan 2014 19:46:13 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 02 Jan 2014 19:46:13 UTC +00:00]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 02 Jan 2014 19:46:14 UTC +00:00], ["name", "service type 2"], ["updated_at", Thu, 02 Jan 2014 19:46:14 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = -1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 52ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type"=>"1"}}
Unpermitted parameters: service_type
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 8ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 6ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 2]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 02 Jan 2014 19:46:32 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 02 Jan 2014 19:46:32 UTC +00:00]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 02 Jan 2014 19:46:32 UTC +00:00], ["name", "service type 2"], ["updated_at", Thu, 02 Jan 2014 19:46:32 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"service 1", "external_id"=>"external 1", "opening_hours"=>" 10:11", "closing_hours"=>" 24:11", "period_size"=>"31", "payment_method"=>"0", "owner_id"=>"1", "service_type_id"=>"4"}}
Unpermitted parameters: payment_method
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 4 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 47ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = -1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 5ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type"=>"3"}}
Unpermitted parameters: service_type
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 9ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 5ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.1ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 3]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.4ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 02 Jan 2014 19:47:36 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 02 Jan 2014 19:47:36 UTC +00:00]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 02 Jan 2014 19:47:42 UTC +00:00], ["name", "service type 2"], ["updated_at", Thu, 02 Jan 2014 19:47:42 UTC +00:00]]
  [1m[35m (101.5ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"service 1", "external_id"=>"external 1", "opening_hours"=>" 10:11", "closing_hours"=>" 24:11", "period_size"=>"31", "payment_method"=>"0", "owner_id"=>"1", "service_type_id"=>"6"}}
Unpermitted parameters: payment_method
  [1m[36m (0.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 6 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 8199ms (Views: 1.3ms | ActiveRecord: 1.7ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.0ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 02 Jan 2014 19:48:35 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 02 Jan 2014 19:48:35 UTC +00:00]]
  [1m[36m (4922.4ms)[0m  [1mcommit transaction[0m
SQLite3::BusyException: database is locked: commit transaction
  [1m[35m (2.3ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 5]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[35m (4806.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 6]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.8ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
  [1m[36m (0.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.9ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = -1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 3952ms (Views: 1.6ms | ActiveRecord: 2.1ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "owner_id"=>"1"}}
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.7ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 1236ms (Views: 1.7ms | ActiveRecord: 2.1ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type"=>"5"}}
Unpermitted parameters: service_type
  [1m[36m (0.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.4ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 712ms (Views: 2.0ms | ActiveRecord: 1.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.7ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 02 Jan 2014 19:49:02 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 02 Jan 2014 19:49:02 UTC +00:00]]
  [1m[36m (3.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 02 Jan 2014 19:49:02 UTC +00:00], ["name", "service type 2"], ["updated_at", Thu, 02 Jan 2014 19:49:02 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"service 1", "external_id"=>"external 1", "opening_hours"=>" 10:11", "closing_hours"=>" 24:11", "period_size"=>"31", "payment_method"=>"0", "owner_id"=>"1", "service_type_id"=>"8"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 8 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 19:49:02 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 8], ["updated_at", Thu, 02 Jan 2014 19:49:02 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 42ms (Views: 0.4ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 7]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 8]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.8ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 02 Jan 2014 19:49:09 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 02 Jan 2014 19:49:09 UTC +00:00]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 02 Jan 2014 19:49:09 UTC +00:00], ["name", "service type 2"], ["updated_at", Thu, 02 Jan 2014 19:49:09 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"service 1", "external_id"=>"external 1", "opening_hours"=>" 10:11", "closing_hours"=>" 24:11", "period_size"=>"31", "payment_method"=>"0", "owner_id"=>"1", "service_type_id"=>"10"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 10 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 19:49:09 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 10], ["updated_at", Thu, 02 Jan 2014 19:49:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 44ms (Views: 0.5ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 10ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type"=>"9"}}
Unpermitted parameters: service_type
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 9ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = -1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.1ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 9]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 10]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.8ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 02 Jan 2014 19:49:32 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 02 Jan 2014 19:49:32 UTC +00:00]]
  [1m[36m (717.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 11 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 19:49:33 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 11], ["updated_at", Thu, 02 Jan 2014 19:49:33 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 11 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 19:49:33 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 11], ["updated_at", Thu, 02 Jan 2014 19:49:33 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service"=>{"service_id"=>"1"}}
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 1 LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.1ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 11]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 2]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.1ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 02 Jan 2014 20:05:55 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 02 Jan 2014 20:05:55 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 12 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 20:05:55 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 12], ["updated_at", Thu, 02 Jan 2014 20:05:55 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 12 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 20:05:55 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 12], ["updated_at", Thu, 02 Jan 2014 20:05:55 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.3ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 3]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.1ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 12]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 02 Jan 2014 20:07:10 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 02 Jan 2014 20:07:10 UTC +00:00]]
  [1m[36m (2.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 13 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 20:07:10 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 13], ["updated_at", Thu, 02 Jan 2014 20:07:10 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 13 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 20:07:10 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 13], ["updated_at", Thu, 02 Jan 2014 20:07:10 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.1ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 5]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 13]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 02 Jan 2014 20:08:11 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 02 Jan 2014 20:08:11 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 14 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 20:08:11 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 14], ["updated_at", Thu, 02 Jan 2014 20:08:11 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 14 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 20:08:11 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 14], ["updated_at", Thu, 02 Jan 2014 20:08:11 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.3ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 7]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 8]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 14]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.9ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 02 Jan 2014 20:08:58 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 02 Jan 2014 20:08:58 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 15 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 20:08:58 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 15], ["updated_at", Thu, 02 Jan 2014 20:08:58 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 15 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 20:08:58 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 15], ["updated_at", Thu, 02 Jan 2014 20:08:58 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.3ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.1ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 9]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 10]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 15]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 02 Jan 2014 20:10:31 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 02 Jan 2014 20:10:31 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 16 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 20:10:31 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 16], ["updated_at", Thu, 02 Jan 2014 20:10:31 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 16 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 20:10:31 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 16], ["updated_at", Thu, 02 Jan 2014 20:10:31 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.1ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 11]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 12]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 16]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.8ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 02 Jan 2014 20:10:47 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 02 Jan 2014 20:10:47 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 17 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 20:10:47 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 17], ["updated_at", Thu, 02 Jan 2014 20:10:47 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 17 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 20:10:47 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 17], ["updated_at", Thu, 02 Jan 2014 20:10:47 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.1ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 13]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 14]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 17]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 02 Jan 2014 20:11:24 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 02 Jan 2014 20:11:24 UTC +00:00]]
  [1m[36m (6.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 18 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 20:11:24 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 18], ["updated_at", Thu, 02 Jan 2014 20:11:24 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 18 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 20:11:24 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 18], ["updated_at", Thu, 02 Jan 2014 20:11:24 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 15]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 16]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 18]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.0ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 03 Jan 2014 15:12:58 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 15:12:58 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 19 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:12:58 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 19], ["updated_at", Fri, 03 Jan 2014 15:12:58 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 19 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:12:58 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 19], ["updated_at", Fri, 03 Jan 2014 15:12:58 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.1ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 17]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 18]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 19]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20140103151101)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140103151101"]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.9ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 03 Jan 2014 15:13:37 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 15:13:37 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 20 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:13:37 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 20], ["updated_at", Fri, 03 Jan 2014 15:13:37 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 20 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:13:37 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 20], ["updated_at", Fri, 03 Jan 2014 15:13:37 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mStamp::Service Load (0.1ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 19]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 20]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 20]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:16:58 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 15:16:58 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 21 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:16:58 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 21], ["updated_at", Fri, 03 Jan 2014 15:16:58 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 21 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:16:58 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 21], ["updated_at", Fri, 03 Jan 2014 15:16:58 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:16:58 UTC +00:00], ["customer_id", 1], ["service_id", 21], ["total_price", #<BigDecimal:7ffe91e41348,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 15:16:58 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 15:16:58 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 1], ["service_id", 21], ["units", 1], ["updated_at", Fri, 03 Jan 2014 15:16:58 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service"=>{"service_id"=>"21"}}
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 21 LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.1ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 1]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 21]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 22]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.1ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 21]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (2.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.9ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:18:09 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 15:18:09 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.4ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 22 LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:18:09 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 22], ["updated_at", Fri, 03 Jan 2014 15:18:09 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 22 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:18:09 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 22], ["updated_at", Fri, 03 Jan 2014 15:18:09 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:18:09 UTC +00:00], ["customer_id", 2], ["service_id", 23], ["total_price", #<BigDecimal:7f85e9a1cdd8,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 15:18:09 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 15:18:09 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 2], ["service_id", 23], ["units", 1], ["updated_at", Fri, 03 Jan 2014 15:18:09 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service"=>{"service_id"=>"24"}}
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 24 LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.1ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 2]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 2]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 23]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 24]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.1ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 22]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (4.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:18:37 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 15:18:37 UTC +00:00]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 23 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:18:37 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 23], ["updated_at", Fri, 03 Jan 2014 15:18:37 UTC +00:00]]
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.4ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 23 LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:18:37 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 23], ["updated_at", Fri, 03 Jan 2014 15:18:37 UTC +00:00]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:18:37 UTC +00:00], ["customer_id", 3], ["service_id", 25], ["total_price", #<BigDecimal:7fb30ce1ef58,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 15:18:37 UTC +00:00]]
  [1m[35m (2.7ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 15:18:37 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 3], ["service_id", 25], ["units", 1], ["updated_at", Fri, 03 Jan 2014 15:18:37 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service"=>{"service_id"=>"26"}}
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 26 LIMIT 1[0m
Completed 200 OK in 11594ms (Views: 1.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (4930.8ms)[0m  [1mcommit transaction[0m
SQLite3::BusyException: database is locked: commit transaction
  [1m[35m (381.3ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.4ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 3]]
  [1m[35m (4927.9ms)[0m  commit transaction
SQLite3::BusyException: database is locked: commit transaction
  [1m[36m (100.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.6ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (1.1ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 3]]
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (4.2ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:19:58 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 15:19:58 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 24 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:19:58 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 24], ["updated_at", Fri, 03 Jan 2014 15:19:58 UTC +00:00]]
  [1m[35m (2.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 24 LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:19:58 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 24], ["updated_at", Fri, 03 Jan 2014 15:19:58 UTC +00:00]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:19:58 UTC +00:00], ["customer_id", 4], ["service_id", 27], ["total_price", #<BigDecimal:7fc8b5347080,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 15:19:58 UTC +00:00]]
  [1m[35m (2.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 15:19:58 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 4], ["service_id", 27], ["units", 1], ["updated_at", Fri, 03 Jan 2014 15:19:58 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service"=>{"service_id"=>"28"}}
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 28 LIMIT 1[0m
Completed 200 OK in 47448ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (1.0ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36mSQL (30.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 3]]
  [1m[35m (754.6ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 4]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (0.5ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 3]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 4]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.6ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 25]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 26]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 27]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 28]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.5ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 23]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 24]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (4.3ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:21:10 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 15:21:10 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.7ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 25 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:21:10 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 25], ["updated_at", Fri, 03 Jan 2014 15:21:10 UTC +00:00]]
  [1m[35m (3.2ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 25 LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:21:10 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 25], ["updated_at", Fri, 03 Jan 2014 15:21:10 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:21:10 UTC +00:00], ["customer_id", 5], ["service_id", 29], ["total_price", #<BigDecimal:7f9bffaaebf8,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 15:21:10 UTC +00:00]]
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 15:21:10 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 5], ["service_id", 29], ["units", 1], ["updated_at", Fri, 03 Jan 2014 15:21:10 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service"=>{"service_id"=>"30"}}
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 30 LIMIT 1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 30 LIMIT 1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 30 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations" WHERE "stamp_reservations"."service_id" = ?  [["service_id", 30]]
  [1m[36mStamp::Service Load (0.8ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 30 LIMIT 1[0m
Completed 200 OK in 49782ms (Views: 0.8ms | ActiveRecord: 1.5ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.9ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36mSQL (1.4ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 5]]
  [1m[35m (100.0ms)[0m  commit transaction
  [1m[36mStamp::Reservation Load (0.9ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.3ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 5]]
  [1m[36m (669.2ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (1.3ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.1ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 29]]
  [1m[36m (57.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (54.1ms)[0m  begin transaction
  [1m[36mSQL (9.5ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 30]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.9ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36mSQL (1.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 25]]
  [1m[35m (4.6ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (4.2ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:22:29 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 15:22:29 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 26 LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:22:29 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 26], ["updated_at", Fri, 03 Jan 2014 15:22:29 UTC +00:00]]
  [1m[35m (2.7ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.4ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 26 LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:22:29 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 26], ["updated_at", Fri, 03 Jan 2014 15:22:29 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:22:29 UTC +00:00], ["customer_id", 6], ["service_id", 32], ["total_price", #<BigDecimal:7fde39c9ca38,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 15:22:29 UTC +00:00]]
  [1m[35m (2.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 15:22:29 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 6], ["service_id", 31], ["units", 1], ["updated_at", Fri, 03 Jan 2014 15:22:29 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service"=>{"service_id"=>"32"}}
  [1m[36mStamp::Service Load (0.3ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 32 LIMIT 1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 32 LIMIT 1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 32 LIMIT 1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 32 LIMIT 1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 32 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations" WHERE "stamp_reservations"."service_id" = ?  [["service_id", 32]]
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 32 LIMIT 1[0m
  [1m[35mStamp::Service Load (0.1ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 32 LIMIT 1
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."service_id" = ?[0m  [["service_id", 32]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 32 LIMIT 1[0m
  [1m[35mStamp::Service Load (0.1ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 32 LIMIT 1
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."service_id" = ?[0m  [["service_id", 32]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE "stamp_time_slots"."reservation_id" = ? ORDER BY "stamp_time_slots"."id" ASC LIMIT 1[0m  [["reservation_id", 6]]
  [1m[35mStamp::Service Load (0.7ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 32 LIMIT 1
Completed 200 OK in 301483ms (Views: 1.1ms | ActiveRecord: 3.2ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:27:36 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 15:27:36 UTC +00:00]]
  [1m[35m (8.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 27 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:27:36 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 27], ["updated_at", Fri, 03 Jan 2014 15:27:36 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 27 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:27:36 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 27], ["updated_at", Fri, 03 Jan 2014 15:27:36 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:27:36 UTC +00:00], ["customer_id", 7], ["service_id", 34], ["total_price", #<BigDecimal:7fc72c2a8c30,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 15:27:36 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 15:27:36 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 7], ["service_id", 33], ["units", 1], ["updated_at", Fri, 03 Jan 2014 15:27:36 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service"=>{"service_id"=>"34"}}
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 34 LIMIT 1[0m
Completed 400 Bad Request in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 7]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 6]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 7]]
  [1m[35m (0.4ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.1ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 31]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 32]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 33]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 34]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 26]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 27]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.6ms)[0m  begin transaction
  [1m[36mSQL (5.2ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:32:41 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 15:32:41 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 28 LIMIT 1
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:32:41 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 28], ["updated_at", Fri, 03 Jan 2014 15:32:41 UTC +00:00]]
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 28 LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:32:41 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 28], ["updated_at", Fri, 03 Jan 2014 15:32:41 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:32:41 UTC +00:00], ["customer_id", 8], ["service_id", 36], ["total_price", #<BigDecimal:7ff37cf9cd98,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 15:32:41 UTC +00:00]]
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 15:32:41 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 8], ["service_id", 35], ["units", 1], ["updated_at", Fri, 03 Jan 2014 15:32:41 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.6ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.6ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 8]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (0.5ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35m (0.6ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 8]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 35]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (46.4ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 36]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.6ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 28]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (102.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (4.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:37:32 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 15:37:32 UTC +00:00]]
  [1m[35m (614.8ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 29 LIMIT 1
  [1m[36mSQL (2.1ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:37:32 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 29], ["updated_at", Fri, 03 Jan 2014 15:37:32 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 29 LIMIT 1
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:37:32 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 29], ["updated_at", Fri, 03 Jan 2014 15:37:32 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:37:32 UTC +00:00], ["customer_id", 9], ["service_id", 38], ["total_price", #<BigDecimal:7ff34bdc1e28,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 15:37:32 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 15:37:32 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 9], ["service_id", 37], ["units", 1], ["updated_at", Fri, 03 Jan 2014 15:37:32 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.6ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 9]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (0.7ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 9]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.6ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 37]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 38]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.6ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 29]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.8ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:38:01 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 15:38:01 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 30 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:38:01 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 30], ["updated_at", Fri, 03 Jan 2014 15:38:01 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 30 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:38:01 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 30], ["updated_at", Fri, 03 Jan 2014 15:38:01 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:38:01 UTC +00:00], ["customer_id", 10], ["service_id", 40], ["total_price", #<BigDecimal:7fbe63639420,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 15:38:01 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 15:38:01 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 10], ["service_id", 39], ["units", 1], ["updated_at", Fri, 03 Jan 2014 15:38:01 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"40", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 40 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.1ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."id" = 40 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 10]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 10]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 39]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 40]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.1ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 30]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (4.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:38:11 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 15:38:11 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 31 LIMIT 1
  [1m[36mSQL (2.1ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:38:11 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 31], ["updated_at", Fri, 03 Jan 2014 15:38:11 UTC +00:00]]
  [1m[35m (3.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 31 LIMIT 1
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:38:11 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 31], ["updated_at", Fri, 03 Jan 2014 15:38:11 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:38:11 UTC +00:00], ["customer_id", 11], ["service_id", 42], ["total_price", #<BigDecimal:7f9501efe528,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 15:38:11 UTC +00:00]]
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 15:38:11 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 11], ["service_id", 41], ["units", 1], ["updated_at", Fri, 03 Jan 2014 15:38:11 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"42", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 42 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.9ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."id" = 42 ORDER BY "stamp_time_slots"."from" ASC
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."id" = 42[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."id" = 42 ORDER BY "stamp_time_slots"."from" ASC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_time_slots"[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" ORDER BY "stamp_time_slots"."id" ASC LIMIT 1
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots" ORDER BY "stamp_time_slots"."id" ASC LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.1ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" ORDER BY "stamp_time_slots"."id" ASC LIMIT 1
Completed 200 OK in 121756ms (Views: 1.7ms | ActiveRecord: 2.6ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.7ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:40:30 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 15:40:30 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 32 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:40:30 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 32], ["updated_at", Fri, 03 Jan 2014 15:40:30 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 32 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:40:30 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 32], ["updated_at", Fri, 03 Jan 2014 15:40:30 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:40:30 UTC +00:00], ["customer_id", 12], ["service_id", 44], ["total_price", #<BigDecimal:7faccd615360,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 15:40:30 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 15:40:30 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 12], ["service_id", 43], ["units", 1], ["updated_at", Fri, 03 Jan 2014 15:40:30 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"44", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 44 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.1ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."id" = 44 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 11]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 12]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 11]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 12]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 41]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 42]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 43]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 44]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 31]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 32]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (4.2ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 18:36:08 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 18:36:08 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 33 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 18:36:08 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 33], ["updated_at", Fri, 03 Jan 2014 18:36:08 UTC +00:00]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 33 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 18:36:08 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 33], ["updated_at", Fri, 03 Jan 2014 18:36:08 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 18:36:08 UTC +00:00], ["customer_id", 13], ["service_id", 46], ["total_price", #<BigDecimal:7fb0ccae92f8,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 18:36:08 UTC +00:00]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 18:36:08 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 13], ["service_id", 46], ["units", 1], ["updated_at", Fri, 03 Jan 2014 18:36:08 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"46", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 46 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.1ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."id" = 46 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 13]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 13]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 45]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 46]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.1ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 33]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (4.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 18:36:27 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 18:36:27 UTC +00:00]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 34 LIMIT 1
  [1m[36mSQL (2.1ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 18:36:27 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 34], ["updated_at", Fri, 03 Jan 2014 18:36:27 UTC +00:00]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 34 LIMIT 1
  [1m[36mSQL (2.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 18:36:27 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 34], ["updated_at", Fri, 03 Jan 2014 18:36:27 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.9ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 18:36:27 UTC +00:00], ["customer_id", 14], ["service_id", 48], ["total_price", #<BigDecimal:7f8079bb1100,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 18:36:27 UTC +00:00]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 18:36:27 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 14], ["service_id", 48], ["units", 1], ["updated_at", Fri, 03 Jan 2014 18:36:27 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"48", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (1.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 48 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" ORDER BY "stamp_time_slots"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."id" = 48[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."id" = 48
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = 48[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."service_id" = 48
  [1m[36mStamp::TimeSlot Load (0.7ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."id" = 48 ORDER BY "stamp_time_slots"."from" ASC[0m
Completed 200 OK in 149681ms (Views: 2.3ms | ActiveRecord: 2.8ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.8ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36mSQL (1.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 14]]
  [1m[35m (3.3ms)[0m  commit transaction
  [1m[36mStamp::Reservation Load (0.6ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 14]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.6ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 47]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 48]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.5ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 34]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (4.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 18:39:12 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 18:39:12 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 35 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 18:39:12 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 35], ["updated_at", Fri, 03 Jan 2014 18:39:12 UTC +00:00]]
  [1m[35m (3.0ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 35 LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 18:39:12 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 35], ["updated_at", Fri, 03 Jan 2014 18:39:12 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 18:39:12 UTC +00:00], ["customer_id", 15], ["service_id", 50], ["total_price", #<BigDecimal:7fa292e9dd88,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 18:39:12 UTC +00:00]]
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 18:39:12 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 15], ["service_id", 50], ["units", 1], ["updated_at", Fri, 03 Jan 2014 18:39:12 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.8ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"50", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (1.1ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 50 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."service_id" = 50
  [1m[36mStamp::TimeSlot Load (1.1ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."service_id" = 50 ORDER BY "stamp_time_slots"."from" ASC[0m
Completed 200 OK in 125477ms (Views: 0.8ms | ActiveRecord: 2.4ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (1.0ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35m (0.9ms)[0m  begin transaction
  [1m[36mSQL (1.4ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 15]]
  [1m[35m (4.8ms)[0m  commit transaction
  [1m[36mStamp::Reservation Load (1.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (1.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36m (0.9ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.3ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 15]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (1.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (30.8ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (126.5ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 49]]
  [1m[36m (13.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.9ms)[0m  begin transaction
  [1m[36mSQL (2.8ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 50]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (20.8ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.9ms)[0m  begin transaction
  [1m[36mSQL (1.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 35]]
  [1m[35m (14.2ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (4.7ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 18:41:30 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 18:41:30 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 36 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 18:41:30 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 36], ["updated_at", Fri, 03 Jan 2014 18:41:30 UTC +00:00]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 36 LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 18:41:30 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 36], ["updated_at", Fri, 03 Jan 2014 18:41:30 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 18:41:30 UTC +00:00], ["customer_id", 16], ["service_id", 52], ["total_price", #<BigDecimal:7fa58c5f7588,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 18:41:30 UTC +00:00]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 18:41:30 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 16], ["service_id", 52], ["units", 1], ["updated_at", Fri, 03 Jan 2014 18:41:30 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"52", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 52 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.8ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."service_id" = 52 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 72496ms (Views: 1.0ms | ActiveRecord: 1.4ms)
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (1.3ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.7ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 16]]
  [1m[36m (13.0ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (1.3ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (1.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35m (1.1ms)[0m  begin transaction
  [1m[36mSQL (1.6ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 16]]
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36mStamp::Service Load (1.1ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (1.0ms)[0m  begin transaction
  [1m[36mSQL (1.6ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 51]]
  [1m[35m (46.2ms)[0m  commit transaction
  [1m[36m (0.8ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (188.6ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 52]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (1.3ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.6ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 36]]
  [1m[36m (3.5ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36mSQL (4.6ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 18:42:51 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 18:42:51 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.7ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 37 LIMIT 1
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 18:42:51 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 37], ["updated_at", Fri, 03 Jan 2014 18:42:51 UTC +00:00]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.7ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 37 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 18:42:51 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 37], ["updated_at", Fri, 03 Jan 2014 18:42:51 UTC +00:00]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 17]]
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 18:42:51 UTC +00:00], ["customer_id", 17], ["service_id", 54], ["total_price", #<BigDecimal:7f820dcde010,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 18:42:51 UTC +00:00]]
  [1m[35m (2.9ms)[0m  commit transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 18:42:51 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 17], ["service_id", 54], ["units", 1], ["updated_at", Fri, 03 Jan 2014 18:42:51 UTC +00:00]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"54", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 54 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.8ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."service_id" = 54 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 233453ms (Views: 1.0ms | ActiveRecord: 1.5ms)
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.8ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.1ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 17]]
  [1m[36m (3.3ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (0.6ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 17]]
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 17]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.6ms)[0m  begin transaction
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 53]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 54]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.6ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 37]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (4.6ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 18:48:10 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 18:48:10 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.7ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 38 LIMIT 1
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 18:48:10 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 30], ["service_type_id", 38], ["updated_at", Fri, 03 Jan 2014 18:48:10 UTC +00:00]]
  [1m[35m (3.0ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 38 LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 18:48:10 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 30], ["service_type_id", 38], ["updated_at", Fri, 03 Jan 2014 18:48:10 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 18]]
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 18:48:10 UTC +00:00], ["customer_id", 18], ["service_id", 56], ["total_price", #<BigDecimal:7fecb377b0a8,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 18:48:10 UTC +00:00]]
  [1m[35m (2.7ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 18:48:10 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 18], ["service_id", 56], ["units", 1], ["updated_at", Fri, 03 Jan 2014 18:48:10 UTC +00:00]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (2.0ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"56", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.8ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 56 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (1.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."service_id" = 56 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 561954ms (Views: 1.0ms | ActiveRecord: 1.9ms)
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (1.9ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (1.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.5ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 18]]
  [1m[36m (751.0ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (1.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 18]]
  [1m[35m (1.1ms)[0m  begin transaction
  [1m[36mSQL (1.5ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 18]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.8ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.6ms)[0m  begin transaction
  [1m[36mSQL (1.5ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 55]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.4ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 56]]
  [1m[36m (16.9ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (1.3ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (1.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.7ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 38]]
  [1m[36m (179.7ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.7ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 18:58:37 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 18:58:37 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 39 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 18:58:37 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 30], ["service_type_id", 39], ["updated_at", Fri, 03 Jan 2014 18:58:37 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 39 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 18:58:37 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 30], ["service_type_id", 39], ["updated_at", Fri, 03 Jan 2014 18:58:37 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 19]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 18:58:37 UTC +00:00], ["customer_id", 19], ["service_id", 58], ["total_price", #<BigDecimal:7fbb232c5d90,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 18:58:37 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 18:58:37 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 19], ["service_id", 58], ["units", 1], ["updated_at", Fri, 03 Jan 2014 18:58:37 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"58", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 58 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."service_id" = 58 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.3ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 19]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 19]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 19]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.3ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 57]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 58]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 39]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.8ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 18:59:14 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 18:59:14 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 40 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 18:59:15 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 30], ["service_type_id", 40], ["updated_at", Fri, 03 Jan 2014 18:59:15 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 40 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 18:59:15 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 30], ["service_type_id", 40], ["updated_at", Fri, 03 Jan 2014 18:59:15 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 18:59:15 UTC +00:00], ["customer_id", 20], ["service_id", 60], ["total_price", #<BigDecimal:7fb649e69e28,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 18:59:15 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 18:59:15 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 20], ["service_id", 60], ["units", 1], ["updated_at", Fri, 03 Jan 2014 18:59:15 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"60", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 60 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."service_id" = 60 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.1ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 20]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 20]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 59]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 60]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.1ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 40]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[36m (17.1ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.9ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.9ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.0ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (12.9ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (12.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140103151101')
  [1m[36m (24.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141810')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141659')
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (5.8ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Tue, 14 Jan 2014 23:25:57 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 14 Jan 2014 23:25:57 UTC +00:00]]
  [1m[36m (22.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 14 Jan 2014 23:25:57 UTC +00:00], ["name", "service type 2"], ["updated_at", Tue, 14 Jan 2014 23:25:57 UTC +00:00]]
  [1m[35m (13.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"service 1", "external_id"=>"external 1", "opening_hours"=>" 10:11", "closing_hours"=>" 24:11", "period_size"=>"30", "payment_method"=>"0", "owner_id"=>"1", "service_type_id"=>"2"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 2 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Tue, 14 Jan 2014 23:25:57 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 30], ["service_type_id", 2], ["updated_at", Tue, 14 Jan 2014 23:25:57 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 36ms (Views: 0.9ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = -1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 14ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type"=>"1"}}
Unpermitted parameters: service_type
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 10ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 6ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 1]]
  [1m[36m (13.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 2]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 14 Jan 2014 23:25:57 UTC +00:00], ["name", "service type 3"], ["updated_at", Tue, 14 Jan 2014 23:25:57 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 3 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Tue, 14 Jan 2014 23:25:57 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 30], ["service_type_id", 3], ["updated_at", Tue, 14 Jan 2014 23:25:57 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 3 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Tue, 14 Jan 2014 23:25:57 UTC +00:00], ["external_id", "external 3"], ["name", "service 3"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 30], ["service_type_id", 3], ["updated_at", Tue, 14 Jan 2014 23:25:57 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 14 Jan 2014 23:25:57 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:b61e954,'0.1E3',9(36)>], ["updated_at", Tue, 14 Jan 2014 23:25:57 UTC +00:00]]
  [1m[35m (13.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Tue, 14 Jan 2014 23:25:57 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 1], ["service_id", 2], ["units", 1], ["updated_at", Tue, 14 Jan 2014 23:25:57 UTC +00:00]]
  [1m[36m (13.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"2", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.4ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 2 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.3ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."service_id" = 2 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 8ms (Views: 0.8ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 1]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (0.4ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 1]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.3ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 1]]
  [1m[35m (12.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 2]]
  [1m[36m (12.9ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.3ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 3]]
  [1m[36m (13.0ms)[0m  [1mcommit transaction[0m
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.4ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (14.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140103151101')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (11.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (21.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (18.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141810')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141659')
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 14 Jan 2014 23:26:15 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 14 Jan 2014 23:26:15 UTC +00:00]]
  [1m[35m (24.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Tue, 14 Jan 2014 23:26:15 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 30], ["service_type_id", 1], ["updated_at", Tue, 14 Jan 2014 23:26:15 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Tue, 14 Jan 2014 23:26:15 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 30], ["service_type_id", 1], ["updated_at", Tue, 14 Jan 2014 23:26:15 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 14 Jan 2014 23:26:15 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:a787fd0,'0.1E3',9(36)>], ["updated_at", Tue, 14 Jan 2014 23:26:15 UTC +00:00]]
  [1m[35m (13.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Tue, 14 Jan 2014 23:26:15 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 1], ["service_id", 2], ["units", 1], ["updated_at", Tue, 14 Jan 2014 23:26:15 UTC +00:00]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"2", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.3ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 2 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.3ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."service_id" = 2 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 1]]
  [1m[36m (13.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (0.3ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 1]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.4ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 1]]
  [1m[35m (12.4ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 2]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.3ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 1]]
  [1m[36m (13.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 14 Jan 2014 23:26:15 UTC +00:00], ["name", "service type 2"], ["updated_at", Tue, 14 Jan 2014 23:26:15 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Tue, 14 Jan 2014 23:26:15 UTC +00:00], ["name", "service type 3"], ["updated_at", Tue, 14 Jan 2014 23:26:15 UTC +00:00]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type"=>"2"}}
Unpermitted parameters: service_type
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 14ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = -1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 6ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "owner_id"=>"1"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 7ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"service 3", "external_id"=>"external 3", "opening_hours"=>" 10:33", "closing_hours"=>" 24:33", "period_size"=>"30", "payment_method"=>"0", "owner_id"=>"1", "service_type_id"=>"3"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 3 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Tue, 14 Jan 2014 23:26:15 UTC +00:00], ["external_id", "external 3"], ["name", "service 3"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 30], ["service_type_id", 3], ["updated_at", Tue, 14 Jan 2014 23:26:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 2]]
  [1m[35m (12.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 3]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[36m (15.4ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.7ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140103151101')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (34.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141810')[0m
  [1m[35m (13.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141659')
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.9ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Tue, 14 Jan 2014 23:28:43 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 14 Jan 2014 23:28:43 UTC +00:00]]
  [1m[36m (13.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 14 Jan 2014 23:28:43 UTC +00:00], ["name", "service type 2"], ["updated_at", Tue, 14 Jan 2014 23:28:43 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"service 1", "external_id"=>"external 1", "opening_hours"=>" 10:11", "closing_hours"=>" 24:11", "period_size"=>"30", "payment_method"=>"0", "owner_id"=>"1", "service_type_id"=>"2"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 2 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Tue, 14 Jan 2014 23:28:43 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 30], ["service_type_id", 2], ["updated_at", Tue, 14 Jan 2014 23:28:43 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 27ms (Views: 0.6ms | ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 12ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = -1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 6ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type"=>"1"}}
Unpermitted parameters: service_type
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 7ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 1]]
  [1m[36m (13.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 2]]
  [1m[35m (13.4ms)[0m  commit transaction
