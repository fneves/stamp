  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"2"}
Completed 500 Internal Server Error in 5ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateStampRateTypes (20131103141615)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "stamp_rate_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "description" varchar(255), "period_duration" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.1ms)[0m  CREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "unit" integer, "rate_type_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131103141615"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to CreateStampServiceTypes (20131103141659)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "rate_type_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131103141659"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateStampPriceRatings (20131103141711)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131103141711"]]
  [1m[35m (0.8ms)[0m  commit transaction
Migrating to CreateStampServices (20131103141753)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "service_type_id" integer, "external_id" varchar(255), "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131103141753"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateStampReservations (20131103141804)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "time_slot_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131103141804"]]
  [1m[35m (0.7ms)[0m  commit transaction
Migrating to CreateStampPreReservations (20131103141810)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  CREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "time_slot_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20131103141810"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"2"}
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = ? LIMIT 1  [["id", "2"]]
Completed 404 Not Found in 5ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"2"}
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 2 LIMIT 1
Completed 500 Internal Server Error in 9ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"2"}
  [1m[35mStamp::Service Load (0.1ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 2 LIMIT 1
Completed 500 Internal Server Error in 7ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"3"}
  [1m[35mStamp::Service Load (0.1ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 3 LIMIT 1
Completed 500 Internal Server Error in 6ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"3"}
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 3 LIMIT 1
Completed 400 Bad Request in 6ms (Views: 0.1ms | ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Booked_slots_for_a_single_day
--------------------------------------------------------------------------
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"2"}
Completed 500 Internal Server Error in 6ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (1.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateStampTimeSlots (20131103141615)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141615"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampServiceTypes (20131103141659)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141659"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampPriceRatings (20131103141711)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141711"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampServices (20131103141753)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "stamp_service_types" ADD "service_type_id" integer
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141753"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampReservations (20131103141804)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "time_slot_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141804"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampPreReservations (20131103141810)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "time_slot_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141810"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Booked_slots_for_a_single_day
--------------------------------------------------------------------------
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"2"}
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 2 LIMIT 1
Completed 400 Bad Request in 10ms (Views: 0.1ms | ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Create_a_Service
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Create_a_Service
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Create_a_Service
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Create_a_Service
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Create_a_Service
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Create_a_Service
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Create_a_Service
-------------------------------------------------------------
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Create_a_Service
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Create_a_Service
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Availability_with_non_existing_service
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Booked_slots_for_a_single_day
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Booked_slots_for_a_single_day
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Booked_slots_for_a_single_day
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Booked_slots_for_a_single_day
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Booked_slots_for_a_single_day
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Booked_slots_for_a_single_day
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Create_a_Service
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Booked_slots_for_a_single_day
--------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
Stamp::Api::V1::ServicesControllerTest: test_Create_a_Service
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"A service"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "stamp_services" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 24 Dec 2013 15:03:31 UTC +00:00], ["name", "A service"], ["updated_at", Tue, 24 Dec 2013 15:03:31 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 28ms (Views: 0.4ms | ActiveRecord: 5.1ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"A service"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 200 OK in 30ms (Views: 0.4ms | ActiveRecord: 1.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"A service"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 200 OK in 27ms (Views: 0.4ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (1.2ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"A service"}}
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 200 OK in 234ms (Views: 2.7ms | ActiveRecord: 4.6ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35m (1.6ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"A service"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 200 OK in 19ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"A service"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 200 OK in 19ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"A service"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 200 OK in 20ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"A service"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 200 OK in 18ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"A service"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (1.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 200 OK in 53286ms (Views: 0.9ms | ActiveRecord: 1.7ms)
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"A service"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 200 OK in 17ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"A service"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 19ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"1"}}
Unpermitted parameters: service_type_id
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.8ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 14937ms (Views: 1.1ms | ActiveRecord: 3.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "time_slot_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.8ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "time_slot_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (0.7ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (0.9ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) 
  [1m[36m (0.7ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (0.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141810')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141804')
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (1.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateStampTimeSlots (20131103141615)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141615"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampServiceTypes (20131103141659)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141659"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampPriceRatings (20131103141711)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141711"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampServices (20131103141753)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "stamp_service_types" ADD "service_type_id" integer
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141753"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampReservations (20131103141804)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "time_slot_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141804"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampPreReservations (20131103141810)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "time_slot_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141810"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (5.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:45:48 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:45:48 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:45:48 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:45:48 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"1", "owner_id"=>"1"}}
Unpermitted parameters: service_type_id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 46ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.3ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:46:25 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:46:25 UTC +00:00]]
  [1m[36m (3.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:46:25 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:46:25 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"1", "owner_id"=>"1"}}
Unpermitted parameters: service_type_id
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.4ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.4ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:48:38 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:48:38 UTC +00:00]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 135238ms (Views: 1.5ms | ActiveRecord: 1.2ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (2565.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.6ms)[0m  begin transaction
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:48:40 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:48:40 UTC +00:00]]
  [1m[35m (640.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"1", "owner_id"=>"1"}}
Unpermitted parameters: service_type_id
Unpermitted parameters: service_type_id
  [1m[36m (0.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:49:20 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:49:20 UTC +00:00]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:49:20 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:49:20 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"1", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Wed, 25 Dec 2013 14:49:20 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 1], ["updated_at", Wed, 25 Dec 2013 14:49:20 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 42ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (2.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.9ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:50:10 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:50:10 UTC +00:00]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:50:10 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:50:10 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"1", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Wed, 25 Dec 2013 14:50:10 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 1], ["updated_at", Wed, 25 Dec 2013 14:50:10 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 44ms (Views: 0.5ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (2.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 2]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 3]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 4]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 5]]
  [1m[35m (0.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 6]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 7]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 8]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 9]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 10]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:51:44 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:51:44 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:51:44 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:51:44 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"1", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 46ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.1ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 11]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 12]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:51:50 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:51:50 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:51:50 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:51:50 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"1", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 46ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 13]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 14]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.5ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:52:15 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:52:15 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:52:15 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:52:15 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"1", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 43ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 15]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 16]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:52:27 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:52:27 UTC +00:00]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:52:27 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:52:27 UTC +00:00]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"1", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 44ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 17]]
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 18]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.0ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:53:03 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:53:03 UTC +00:00]]
  [1m[36m (3.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:53:03 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:53:03 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"1", "owner_id"=>"1"}}
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.7ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:54:35 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:54:35 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:54:35 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:54:35 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"1", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 45ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.9ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:54:42 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:54:42 UTC +00:00]]
  [1m[36m (99.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:54:43 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:54:43 UTC +00:00]]
  [1m[35m (642.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"1", "owner_id"=>"1"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_service_types"[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mStamp::ServiceType Load (0.1ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types" ORDER BY "stamp_service_types"."id" ASC LIMIT 1
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types" ORDER BY "stamp_service_types"."id" ASC LIMIT 1[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:57:16 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:57:16 UTC +00:00]]
  [1m[36m (4929.0ms)[0m  [1mcommit transaction[0m
SQLite3::BusyException: database is locked: commit transaction
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 19]]
  [1m[35m (4927.7ms)[0m  commit transaction
SQLite3::BusyException: database is locked: commit transaction
  [1m[36m (2.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.5ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 169299ms (Views: 1.5ms | ActiveRecord: 2.1ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:57:37 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:57:37 UTC +00:00]]
  [1m[36m (99.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:57:37 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:57:37 UTC +00:00]]
  [1m[35m (651.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"26", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 26 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Wed, 25 Dec 2013 14:57:37 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 26], ["updated_at", Wed, 25 Dec 2013 14:57:37 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 42ms (Views: 0.5ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 19]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 20]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 21]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 22]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 23]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 24]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 25]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 26]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:57:45 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:57:45 UTC +00:00]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:57:45 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:57:45 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"28", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 28 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Wed, 25 Dec 2013 14:57:46 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 28], ["updated_at", Wed, 25 Dec 2013 14:57:46 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 43ms (Views: 0.5ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = -1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 8ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.1ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 27]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 28]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:58:45 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:58:45 UTC +00:00]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:58:45 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:58:45 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"30", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 30 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Wed, 25 Dec 2013 14:58:45 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 30], ["updated_at", Wed, 25 Dec 2013 14:58:45 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 44ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (2.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = -1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 9ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "owner_id"=>"1"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.1ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 29]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 30]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.8ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:58:49 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:58:49 UTC +00:00]]
  [1m[36m (398.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:58:49 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:58:49 UTC +00:00]]
  [1m[35m (8.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 53ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.1ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 31]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 32]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:59:36 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:59:36 UTC +00:00]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:59:36 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:59:36 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type"=>"33"}}
Unpermitted parameters: service_type
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 46ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.1ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 33]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 34]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.5ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Wed, 25 Dec 2013 14:59:44 UTC +00:00], ["name", "Restaurant"], ["updated_at", Wed, 25 Dec 2013 14:59:44 UTC +00:00]]
  [1m[36m (699.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Wed, 25 Dec 2013 14:59:45 UTC +00:00], ["name", "Bakery"], ["updated_at", Wed, 25 Dec 2013 14:59:45 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = -1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 46ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"36", "owner_id"=>"1"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 36 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Wed, 25 Dec 2013 14:59:45 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 36], ["updated_at", Wed, 25 Dec 2013 14:59:45 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "owner_id"=>"1"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 6ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type"=>"35"}}
Unpermitted parameters: service_type
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.1ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 35]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 36]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 26 Dec 2013 14:27:09 UTC +00:00], ["name", "Restaurant"], ["updated_at", Thu, 26 Dec 2013 14:27:09 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 26 Dec 2013 14:27:09 UTC +00:00], ["name", "Bakery"], ["updated_at", Thu, 26 Dec 2013 14:27:09 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 38 LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Thu, 26 Dec 2013 14:27:09 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 38], ["updated_at", Thu, 26 Dec 2013 14:27:09 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 37]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 38]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.9ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 26 Dec 2013 14:27:35 UTC +00:00], ["name", "Restaurant"], ["updated_at", Thu, 26 Dec 2013 14:27:35 UTC +00:00]]
  [1m[36m (100.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 26 Dec 2013 14:27:35 UTC +00:00], ["name", "Bakery"], ["updated_at", Thu, 26 Dec 2013 14:27:35 UTC +00:00]]
  [1m[35m (652.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 40 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Thu, 26 Dec 2013 14:27:35 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 40], ["updated_at", Thu, 26 Dec 2013 14:27:35 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 39]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 40]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 2]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 26 Dec 2013 14:39:01 UTC +00:00], ["name", "Restaurant"], ["updated_at", Thu, 26 Dec 2013 14:39:01 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 26 Dec 2013 14:39:01 UTC +00:00], ["name", "Bakery"], ["updated_at", Thu, 26 Dec 2013 14:39:01 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 42 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Thu, 26 Dec 2013 14:39:01 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 42], ["updated_at", Thu, 26 Dec 2013 14:39:01 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 41]]
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 42]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 3]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 26 Dec 2013 14:43:04 UTC +00:00], ["name", "Restaurant"], ["updated_at", Thu, 26 Dec 2013 14:43:04 UTC +00:00]]
  [1m[36m (2.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 26 Dec 2013 14:43:04 UTC +00:00], ["name", "Bakery"], ["updated_at", Thu, 26 Dec 2013 14:43:04 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 44 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Thu, 26 Dec 2013 14:43:04 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 44], ["updated_at", Thu, 26 Dec 2013 14:43:04 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 43]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 44]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 26 Dec 2013 14:52:04 UTC +00:00], ["name", "Restaurant"], ["updated_at", Thu, 26 Dec 2013 14:52:04 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 26 Dec 2013 14:52:04 UTC +00:00], ["name", "Bakery"], ["updated_at", Thu, 26 Dec 2013 14:52:04 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 46 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Thu, 26 Dec 2013 14:52:04 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 46], ["updated_at", Thu, 26 Dec 2013 14:52:04 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 45]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 46]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 5]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.3ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:29:21 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:29:21 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:29:21 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:29:21 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 48 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:29:21 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 48], ["updated_at", Fri, 27 Dec 2013 13:29:21 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"6"}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 47]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 48]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:29:53 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:29:53 UTC +00:00]]
  [1m[36m (2.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:29:53 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:29:53 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 50 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:29:53 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 50], ["updated_at", Fri, 27 Dec 2013 13:29:53 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"7"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 49]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 50]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 7]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.5ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:31:21 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:31:21 UTC +00:00]]
  [1m[36m (3.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:31:21 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:31:21 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 52 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:31:21 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 52], ["updated_at", Fri, 27 Dec 2013 13:31:21 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"8"}
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 51]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 52]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 8]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.9ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:31:43 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:31:43 UTC +00:00]]
  [1m[36m (3.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:31:43 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:31:43 UTC +00:00]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 54 LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:31:43 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 54], ["updated_at", Fri, 27 Dec 2013 13:31:43 UTC +00:00]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"9"}
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.5ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (1.1ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 53]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.1ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 54]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (1.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 9]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.4ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:32:11 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:32:11 UTC +00:00]]
  [1m[36m (149.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:32:11 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:32:11 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 56 LIMIT 1
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:32:11 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 56], ["updated_at", Fri, 27 Dec 2013 13:32:11 UTC +00:00]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"10"}
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.6ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (1.1ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 55]]
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 56]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 10]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.3ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:32:53 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:32:53 UTC +00:00]]
  [1m[36m (100.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:32:53 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:32:53 UTC +00:00]]
  [1m[35m (643.4ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 58 LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:32:54 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 58], ["updated_at", Fri, 27 Dec 2013 13:32:54 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"11"}
Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.2ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:34:18 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:34:18 UTC +00:00]]
  [1m[36m (3.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:34:18 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:34:18 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 60 LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:34:18 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 60], ["updated_at", Fri, 27 Dec 2013 13:34:18 UTC +00:00]]
  [1m[35m (2.2ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"id"=>"12"}
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.6ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.6ms)[0m  begin transaction
  [1m[36mSQL (1.1ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 57]]
  [1m[35m (98.7ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 58]]
  [1m[36m (649.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 59]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 60]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 12]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:36:42 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:36:42 UTC +00:00]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:36:42 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:36:42 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 62 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:36:42 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 62], ["updated_at", Fri, 27 Dec 2013 13:36:42 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 61]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 62]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 13]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.5ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:38:25 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:38:25 UTC +00:00]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:38:25 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:38:25 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 64 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:38:25 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 64], ["updated_at", Fri, 27 Dec 2013 13:38:25 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 63]]
  [1m[35m (2.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 64]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 14]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.5ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:41:29 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:41:29 UTC +00:00]]
  [1m[36m (3.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:41:29 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:41:29 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 66 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:41:29 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 66], ["updated_at", Fri, 27 Dec 2013 13:41:29 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.1ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 65]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 66]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 15]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:42:19 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:42:19 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:42:19 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:42:19 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 68 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:42:19 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 68], ["updated_at", Fri, 27 Dec 2013 13:42:19 UTC +00:00]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"68", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 68 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:42:19 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 68], ["updated_at", Fri, 27 Dec 2013 13:42:19 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.1ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 67]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 68]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 16]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:42:46 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:42:46 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:42:46 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:42:46 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 70 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:42:46 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 70], ["updated_at", Fri, 27 Dec 2013 13:42:46 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"70", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 70 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:42:46 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 70], ["updated_at", Fri, 27 Dec 2013 13:42:46 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = -1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 10ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "owner_id"=>"1"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type"=>"69"}}
Unpermitted parameters: service_type
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 69]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 70]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 17]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.3ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:42:57 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:42:57 UTC +00:00]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:42:57 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:42:57 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 72 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:42:57 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 72], ["updated_at", Fri, 27 Dec 2013 13:42:57 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 71]]
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 72]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 18]]
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:43:29 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:43:29 UTC +00:00]]
  [1m[36m (2.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:43:29 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:43:29 UTC +00:00]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 74 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:43:29 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 74], ["updated_at", Fri, 27 Dec 2013 13:43:29 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 73]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 74]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 19]]
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.7ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
SQLite3::SQLException: no such table: stamp_service_types: SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (3.6ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (1.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateStampTimeSlots (20131103141615)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141615"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampServiceTypes (20131103141659)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141659"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampPriceRatings (20131103141711)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141711"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampServices (20131103141753)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "stamp_service_types" ADD "service_type_id" integer
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141753"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampReservations (20131103141804)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "time_slot_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141804"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampPreReservations (20131103141810)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "time_slot_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141810"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:48:44 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:48:44 UTC +00:00]]
  [1m[36m (99.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:48:44 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:48:44 UTC +00:00]]
  [1m[35m (651.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 2 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:48:45 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 2], ["updated_at", Fri, 27 Dec 2013 13:48:45 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 2]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:49:05 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:49:05 UTC +00:00]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:49:05 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:49:05 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 4 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:49:05 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 4], ["updated_at", Fri, 27 Dec 2013 13:49:05 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"2"}
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 3]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 4]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 2]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.3ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:49:16 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:49:16 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:49:16 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:49:16 UTC +00:00]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 6 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:49:16 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 6], ["updated_at", Fri, 27 Dec 2013 13:49:16 UTC +00:00]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"3"}
Completed 200 OK in 23217ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.5ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:50:30 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:50:30 UTC +00:00]]
  [1m[36m (98.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:50:30 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:50:30 UTC +00:00]]
  [1m[35m (643.3ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 8 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:50:31 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 8], ["updated_at", Fri, 27 Dec 2013 13:50:31 UTC +00:00]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service"=>"4"}
Completed 200 OK in 22630ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.5ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:51:06 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:51:06 UTC +00:00]]
  [1m[36m (3.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:51:06 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:51:06 UTC +00:00]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 10 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:51:06 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 10], ["updated_at", Fri, 27 Dec 2013 13:51:06 UTC +00:00]]
  [1m[35m (3.2ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"id"=>"5"}
Completed 200 OK in 10047ms (Views: 1.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.5ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 13:52:21 UTC +00:00], ["name", "Restaurant"], ["updated_at", Fri, 27 Dec 2013 13:52:21 UTC +00:00]]
  [1m[36m (100.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 13:52:21 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 13:52:21 UTC +00:00]]
  [1m[35m (652.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 12 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 27 Dec 2013 13:52:21 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 12], ["updated_at", Fri, 27 Dec 2013 13:52:21 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"6"}
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 6 LIMIT 1
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 5]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 7]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 8]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 9]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 10]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 11]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 12]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 6]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types" ORDER BY "stamp_service_types"."id" ASC LIMIT 1[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 14:15:33 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 27 Dec 2013 14:15:33 UTC +00:00]]
  [1m[36m (620.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 14:15:34 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 14:15:34 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
Unpermitted parameters: service
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 49ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"14", "owner_id"=>"1"}}
Unpermitted parameters: service
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 10ms (Views: 0.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type"=>"13"}}
Unpermitted parameters: service
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 10ms (Views: 0.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "owner_id"=>"1"}}
Unpermitted parameters: service
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 8ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.1ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 13]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 14]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.1ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 14:16:18 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 27 Dec 2013 14:16:18 UTC +00:00]]
  [1m[36m (99.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (35.2ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 14:16:19 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 14:16:19 UTC +00:00]]
  [1m[35m (608.3ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
Unpermitted parameters: service
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 27015ms (Views: 1.6ms | ActiveRecord: 1.3ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type"=>"15"}}
Unpermitted parameters: service
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 22146ms (Views: 1.7ms | ActiveRecord: 1.1ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "owner_id"=>"1"}}
Unpermitted parameters: service
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.4ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.5ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 1093ms (Views: 1.7ms | ActiveRecord: 1.2ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"16", "owner_id"=>"1"}}
Unpermitted parameters: service
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 525ms (Views: 1.9ms | ActiveRecord: 1.2ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.5ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 15]]
  [1m[36m (101.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 16]]
  [1m[35m (648.9ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.4ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.3ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 14:19:09 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 27 Dec 2013 14:19:09 UTC +00:00]]
  [1m[36m (100.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 14:19:41 UTC +00:00], ["name", "Bakery"], ["updated_at", Fri, 27 Dec 2013 14:19:41 UTC +00:00]]
  [1m[35m (3.3ms)[0m  commit transaction
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35m (5.7ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 14:19:54 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 27 Dec 2013 14:19:54 UTC +00:00]]
  [1m[36m (599.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 14:19:55 UTC +00:00], ["name", "service type 2"], ["updated_at", Fri, 27 Dec 2013 14:19:55 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type"=>"19"}}
Unpermitted parameters: service
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 48ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "owner_id"=>"1"}}
Unpermitted parameters: service
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 9ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
Unpermitted parameters: service
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 9ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"20", "owner_id"=>"1"}}
Unpermitted parameters: service
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 11ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 17]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 18]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 19]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 20]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.8ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 27 Dec 2013 14:20:14 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 27 Dec 2013 14:20:14 UTC +00:00]]
  [1m[36m (3.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 27 Dec 2013 14:20:15 UTC +00:00], ["name", "service type 2"], ["updated_at", Fri, 27 Dec 2013 14:20:15 UTC +00:00]]
  [1m[35m (3.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
Unpermitted parameters: service
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.4ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.5ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 27639ms (Views: 2.9ms | ActiveRecord: 1.3ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.9ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 29 Dec 2013 14:24:06 UTC +00:00], ["name", "service type 1"], ["updated_at", Sun, 29 Dec 2013 14:24:06 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 29 Dec 2013 14:24:06 UTC +00:00], ["name", "service type 2"], ["updated_at", Sun, 29 Dec 2013 14:24:06 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"24", "owner_id"=>"1"}}
Unpermitted parameters: service
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 51ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "owner_id"=>"1"}}
Unpermitted parameters: service
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 8ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
Unpermitted parameters: service
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 10ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type"=>"23"}}
Unpermitted parameters: service
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 7ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 21]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 22]]
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 23]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 24]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 29 Dec 2013 14:24:48 UTC +00:00], ["name", "service type 1"], ["updated_at", Sun, 29 Dec 2013 14:24:48 UTC +00:00]]
  [1m[36m (3.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 29 Dec 2013 14:24:48 UTC +00:00], ["name", "service type 2"], ["updated_at", Sun, 29 Dec 2013 14:24:48 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 25]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 26]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 29 Dec 2013 14:25:21 UTC +00:00], ["name", "service type 1"], ["updated_at", Sun, 29 Dec 2013 14:25:21 UTC +00:00]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 29 Dec 2013 14:25:21 UTC +00:00], ["name", "service type 2"], ["updated_at", Sun, 29 Dec 2013 14:25:21 UTC +00:00]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 27]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 28]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 29 Dec 2013 14:25:35 UTC +00:00], ["name", "service type 1"], ["updated_at", Sun, 29 Dec 2013 14:25:35 UTC +00:00]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 29 Dec 2013 14:25:35 UTC +00:00], ["name", "service type 2"], ["updated_at", Sun, 29 Dec 2013 14:25:35 UTC +00:00]]
  [1m[35m (2.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"30", "owner_id"=>"1"}}
Unpermitted parameters: service
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 49ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 29]]
  [1m[35m (4.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 30]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 29 Dec 2013 14:26:31 UTC +00:00], ["name", "service type 1"], ["updated_at", Sun, 29 Dec 2013 14:26:31 UTC +00:00]]
  [1m[36m (98.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 29 Dec 2013 14:26:31 UTC +00:00], ["name", "service type 2"], ["updated_at", Sun, 29 Dec 2013 14:26:31 UTC +00:00]]
  [1m[35m (652.3ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 31]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 32]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 29 Dec 2013 14:26:40 UTC +00:00], ["name", "service type 1"], ["updated_at", Sun, 29 Dec 2013 14:26:40 UTC +00:00]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 29 Dec 2013 14:26:40 UTC +00:00], ["name", "service type 2"], ["updated_at", Sun, 29 Dec 2013 14:26:40 UTC +00:00]]
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"34", "owner_id"=>"1"}}
Unpermitted parameters: service
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 48ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 33]]
  [1m[35m (2.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 34]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 29 Dec 2013 14:27:08 UTC +00:00], ["name", "service type 1"], ["updated_at", Sun, 29 Dec 2013 14:27:08 UTC +00:00]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 29 Dec 2013 14:27:08 UTC +00:00], ["name", "service type 2"], ["updated_at", Sun, 29 Dec 2013 14:27:08 UTC +00:00]]
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"36", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 36 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Sun, 29 Dec 2013 14:27:09 UTC +00:00], ["external_id", "external"], ["name", "Bakery 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 1], ["service_type_id", 36], ["updated_at", Sun, 29 Dec 2013 14:27:09 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 42ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (2.4ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 35]]
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 36]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 29 Dec 2013 14:27:53 UTC +00:00], ["name", "service type 1"], ["updated_at", Sun, 29 Dec 2013 14:27:53 UTC +00:00]]
  [1m[36m (2.9ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 37]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 3]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 5]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 29 Dec 2013 14:28:46 UTC +00:00], ["name", "service type 1"], ["updated_at", Sun, 29 Dec 2013 14:28:46 UTC +00:00]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.4ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 38]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 29 Dec 2013 14:30:47 UTC +00:00], ["name", "service type 1"], ["updated_at", Sun, 29 Dec 2013 14:30:47 UTC +00:00]]
  [1m[36m (3.9ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 39]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 29 Dec 2013 14:33:35 UTC +00:00], ["name", "service type 1"], ["updated_at", Sun, 29 Dec 2013 14:33:35 UTC +00:00]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 40]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.3ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 29 Dec 2013 14:33:46 UTC +00:00], ["name", "service type 1"], ["updated_at", Sun, 29 Dec 2013 14:33:46 UTC +00:00]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 41]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.3ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 29 Dec 2013 18:55:57 UTC +00:00], ["name", "service type 1"], ["updated_at", Sun, 29 Dec 2013 18:55:57 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 42]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.3ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.5ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 29 Dec 2013 18:58:38 UTC +00:00], ["name", "service type 1"], ["updated_at", Sun, 29 Dec 2013 18:58:38 UTC +00:00]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 29 Dec 2013 18:58:38 UTC +00:00], ["name", "service type 2"], ["updated_at", Sun, 29 Dec 2013 18:58:38 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 43]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 44]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.3ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36mStamp::ServiceType Load (0.1ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types" ORDER BY "stamp_service_types"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.7ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sun, 29 Dec 2013 19:05:30 UTC +00:00], ["name", "service type 1"], ["updated_at", Sun, 29 Dec 2013 19:05:30 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.1ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 45]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.4ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sun, 29 Dec 2013 19:06:21 UTC +00:00], ["name", "service type 1"], ["updated_at", Sun, 29 Dec 2013 19:06:21 UTC +00:00]]
  [1m[36m (2.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 46 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Sun, 29 Dec 2013 19:06:21 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["period_size", 31], ["service_type_id", 46], ["updated_at", Sun, 29 Dec 2013 19:06:21 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service"=>{"service_id"=>"7"}}
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 7 LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 46]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 7]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.5ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
SQLite3::SQLException: no such table: stamp_service_types: SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36mStamp::ServiceType Load (0.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
SQLite3::SQLException: no such table: stamp_service_types: SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (1.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (1.0ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mStamp::ServiceType Load (0.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
SQLite3::SQLException: no such table: stamp_service_types: SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (1.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('0')
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mStamp::ServiceType Load (0.5ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
SQLite3::SQLException: no such table: stamp_service_types: SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
SQLite3::SQLException: no such table: stamp_service_types: SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (1.0ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('0')
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
SQLite3::SQLException: no such table: stamp_service_types: SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[35mStamp::ServiceType Load (0.1ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
SQLite3::SQLException: no such table: stamp_service_types: SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (3.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateStampTimeSlots (20131103141615)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141615"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampServiceTypes (20131103141659)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141659"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampPriceRatings (20131103141711)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141711"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampServices (20131103141753)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.2ms)[0m  ALTER TABLE "stamp_service_types" ADD "service_type_id" integer
  [1m[36m (0.1ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141753"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampReservations (20131103141804)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141804"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateStampPreReservations (20131103141810)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20131103141810"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (758.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 02 Jan 2014 19:46:13 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 02 Jan 2014 19:46:13 UTC +00:00]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 02 Jan 2014 19:46:14 UTC +00:00], ["name", "service type 2"], ["updated_at", Thu, 02 Jan 2014 19:46:14 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = -1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 52ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type"=>"1"}}
Unpermitted parameters: service_type
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 8ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 6ms (Views: 0.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 2]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 02 Jan 2014 19:46:32 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 02 Jan 2014 19:46:32 UTC +00:00]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 02 Jan 2014 19:46:32 UTC +00:00], ["name", "service type 2"], ["updated_at", Thu, 02 Jan 2014 19:46:32 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"service 1", "external_id"=>"external 1", "opening_hours"=>" 10:11", "closing_hours"=>" 24:11", "period_size"=>"31", "payment_method"=>"0", "owner_id"=>"1", "service_type_id"=>"4"}}
Unpermitted parameters: payment_method
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 4 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 47ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = -1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 5ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type"=>"3"}}
Unpermitted parameters: service_type
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 9ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 5ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.1ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 3]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.4ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 02 Jan 2014 19:47:36 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 02 Jan 2014 19:47:36 UTC +00:00]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 02 Jan 2014 19:47:42 UTC +00:00], ["name", "service type 2"], ["updated_at", Thu, 02 Jan 2014 19:47:42 UTC +00:00]]
  [1m[35m (101.5ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"service 1", "external_id"=>"external 1", "opening_hours"=>" 10:11", "closing_hours"=>" 24:11", "period_size"=>"31", "payment_method"=>"0", "owner_id"=>"1", "service_type_id"=>"6"}}
Unpermitted parameters: payment_method
  [1m[36m (0.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 6 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 8199ms (Views: 1.3ms | ActiveRecord: 1.7ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.0ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 02 Jan 2014 19:48:35 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 02 Jan 2014 19:48:35 UTC +00:00]]
  [1m[36m (4922.4ms)[0m  [1mcommit transaction[0m
SQLite3::BusyException: database is locked: commit transaction
  [1m[35m (2.3ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 5]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[35m (4806.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 6]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.8ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
  [1m[36m (0.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.9ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = -1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 3952ms (Views: 1.6ms | ActiveRecord: 2.1ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "owner_id"=>"1"}}
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.7ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 1236ms (Views: 1.7ms | ActiveRecord: 2.1ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type"=>"5"}}
Unpermitted parameters: service_type
  [1m[36m (0.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.4ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 712ms (Views: 2.0ms | ActiveRecord: 1.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.7ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 02 Jan 2014 19:49:02 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 02 Jan 2014 19:49:02 UTC +00:00]]
  [1m[36m (3.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 02 Jan 2014 19:49:02 UTC +00:00], ["name", "service type 2"], ["updated_at", Thu, 02 Jan 2014 19:49:02 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"service 1", "external_id"=>"external 1", "opening_hours"=>" 10:11", "closing_hours"=>" 24:11", "period_size"=>"31", "payment_method"=>"0", "owner_id"=>"1", "service_type_id"=>"8"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 8 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 19:49:02 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 8], ["updated_at", Thu, 02 Jan 2014 19:49:02 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 42ms (Views: 0.4ms | ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (1.4ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 7]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 8]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.8ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 02 Jan 2014 19:49:09 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 02 Jan 2014 19:49:09 UTC +00:00]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 02 Jan 2014 19:49:09 UTC +00:00], ["name", "service type 2"], ["updated_at", Thu, 02 Jan 2014 19:49:09 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"service 1", "external_id"=>"external 1", "opening_hours"=>" 10:11", "closing_hours"=>" 24:11", "period_size"=>"31", "payment_method"=>"0", "owner_id"=>"1", "service_type_id"=>"10"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 10 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 19:49:09 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 10], ["updated_at", Thu, 02 Jan 2014 19:49:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 44ms (Views: 0.5ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (1.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 10ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type"=>"9"}}
Unpermitted parameters: service_type
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 9ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = -1 LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 6ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.1ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 9]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 10]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.8ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 02 Jan 2014 19:49:32 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 02 Jan 2014 19:49:32 UTC +00:00]]
  [1m[36m (717.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 11 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 19:49:33 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 11], ["updated_at", Thu, 02 Jan 2014 19:49:33 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 11 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 19:49:33 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 11], ["updated_at", Thu, 02 Jan 2014 19:49:33 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service"=>{"service_id"=>"1"}}
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 1 LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.1ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 11]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 2]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.1ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 02 Jan 2014 20:05:55 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 02 Jan 2014 20:05:55 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 12 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 20:05:55 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 12], ["updated_at", Thu, 02 Jan 2014 20:05:55 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 12 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 20:05:55 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 12], ["updated_at", Thu, 02 Jan 2014 20:05:55 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.3ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 3]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.1ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 12]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 02 Jan 2014 20:07:10 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 02 Jan 2014 20:07:10 UTC +00:00]]
  [1m[36m (2.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 13 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 20:07:10 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 13], ["updated_at", Thu, 02 Jan 2014 20:07:10 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 13 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 20:07:10 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 13], ["updated_at", Thu, 02 Jan 2014 20:07:10 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.1ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 5]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 13]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 02 Jan 2014 20:08:11 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 02 Jan 2014 20:08:11 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 14 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 20:08:11 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 14], ["updated_at", Thu, 02 Jan 2014 20:08:11 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 14 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 20:08:11 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 14], ["updated_at", Thu, 02 Jan 2014 20:08:11 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.3ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 7]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 8]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 14]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.9ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 02 Jan 2014 20:08:58 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 02 Jan 2014 20:08:58 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 15 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 20:08:58 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 15], ["updated_at", Thu, 02 Jan 2014 20:08:58 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 15 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 20:08:58 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 15], ["updated_at", Thu, 02 Jan 2014 20:08:58 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.3ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.1ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 9]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 10]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 15]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 02 Jan 2014 20:10:31 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 02 Jan 2014 20:10:31 UTC +00:00]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 16 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 20:10:31 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 16], ["updated_at", Thu, 02 Jan 2014 20:10:31 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 16 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 20:10:31 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 16], ["updated_at", Thu, 02 Jan 2014 20:10:31 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.1ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 11]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 12]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 16]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.8ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 02 Jan 2014 20:10:47 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 02 Jan 2014 20:10:47 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 17 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 20:10:47 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 17], ["updated_at", Thu, 02 Jan 2014 20:10:47 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 17 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 20:10:47 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 17], ["updated_at", Thu, 02 Jan 2014 20:10:47 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.1ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 13]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 14]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 17]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.4ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 02 Jan 2014 20:11:24 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 02 Jan 2014 20:11:24 UTC +00:00]]
  [1m[36m (6.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 18 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 20:11:24 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 18], ["updated_at", Thu, 02 Jan 2014 20:11:24 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 18 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Thu, 02 Jan 2014 20:11:24 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 18], ["updated_at", Thu, 02 Jan 2014 20:11:24 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 15]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 16]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 18]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (4.0ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 03 Jan 2014 15:12:58 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 15:12:58 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 19 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:12:58 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 19], ["updated_at", Fri, 03 Jan 2014 15:12:58 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 19 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:12:58 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 19], ["updated_at", Fri, 03 Jan 2014 15:12:58 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.1ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 17]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 18]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 19]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20140103151101)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) [0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20140103151101"]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.9ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Fri, 03 Jan 2014 15:13:37 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 15:13:37 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 20 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:13:37 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 20], ["updated_at", Fri, 03 Jan 2014 15:13:37 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 20 LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:13:37 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 20], ["updated_at", Fri, 03 Jan 2014 15:13:37 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mStamp::Service Load (0.1ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 19]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 20]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 20]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:16:58 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 15:16:58 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 21 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:16:58 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 21], ["updated_at", Fri, 03 Jan 2014 15:16:58 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 21 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:16:58 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 21], ["updated_at", Fri, 03 Jan 2014 15:16:58 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:16:58 UTC +00:00], ["customer_id", 1], ["service_id", 21], ["total_price", #<BigDecimal:7ffe91e41348,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 15:16:58 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 15:16:58 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 1], ["service_id", 21], ["units", 1], ["updated_at", Fri, 03 Jan 2014 15:16:58 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service"=>{"service_id"=>"21"}}
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 21 LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.1ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 1]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 21]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 22]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.1ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 21]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (2.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.9ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:18:09 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 15:18:09 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.4ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 22 LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:18:09 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 22], ["updated_at", Fri, 03 Jan 2014 15:18:09 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 22 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:18:09 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 22], ["updated_at", Fri, 03 Jan 2014 15:18:09 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:18:09 UTC +00:00], ["customer_id", 2], ["service_id", 23], ["total_price", #<BigDecimal:7f85e9a1cdd8,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 15:18:09 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 15:18:09 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 2], ["service_id", 23], ["units", 1], ["updated_at", Fri, 03 Jan 2014 15:18:09 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service"=>{"service_id"=>"24"}}
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 24 LIMIT 1[0m
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.1ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 2]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 2]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 23]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 24]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.1ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 22]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (4.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:18:37 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 15:18:37 UTC +00:00]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 23 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:18:37 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 23], ["updated_at", Fri, 03 Jan 2014 15:18:37 UTC +00:00]]
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.4ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 23 LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:18:37 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 23], ["updated_at", Fri, 03 Jan 2014 15:18:37 UTC +00:00]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:18:37 UTC +00:00], ["customer_id", 3], ["service_id", 25], ["total_price", #<BigDecimal:7fb30ce1ef58,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 15:18:37 UTC +00:00]]
  [1m[35m (2.7ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 15:18:37 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 3], ["service_id", 25], ["units", 1], ["updated_at", Fri, 03 Jan 2014 15:18:37 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service"=>{"service_id"=>"26"}}
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 26 LIMIT 1[0m
Completed 200 OK in 11594ms (Views: 1.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (4930.8ms)[0m  [1mcommit transaction[0m
SQLite3::BusyException: database is locked: commit transaction
  [1m[35m (381.3ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.4ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 3]]
  [1m[35m (4927.9ms)[0m  commit transaction
SQLite3::BusyException: database is locked: commit transaction
  [1m[36m (100.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.6ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (1.1ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 3]]
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (4.2ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:19:58 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 15:19:58 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 24 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:19:58 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 24], ["updated_at", Fri, 03 Jan 2014 15:19:58 UTC +00:00]]
  [1m[35m (2.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 24 LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:19:58 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 24], ["updated_at", Fri, 03 Jan 2014 15:19:58 UTC +00:00]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:19:58 UTC +00:00], ["customer_id", 4], ["service_id", 27], ["total_price", #<BigDecimal:7fc8b5347080,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 15:19:58 UTC +00:00]]
  [1m[35m (2.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 15:19:58 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 4], ["service_id", 27], ["units", 1], ["updated_at", Fri, 03 Jan 2014 15:19:58 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service"=>{"service_id"=>"28"}}
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 28 LIMIT 1[0m
Completed 200 OK in 47448ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (1.0ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36mSQL (30.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 3]]
  [1m[35m (754.6ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 4]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (0.5ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 3]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 4]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.6ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 25]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 26]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 27]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 28]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.5ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 23]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 24]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (4.3ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:21:10 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 15:21:10 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.7ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 25 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:21:10 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 25], ["updated_at", Fri, 03 Jan 2014 15:21:10 UTC +00:00]]
  [1m[35m (3.2ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 25 LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:21:10 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 25], ["updated_at", Fri, 03 Jan 2014 15:21:10 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:21:10 UTC +00:00], ["customer_id", 5], ["service_id", 29], ["total_price", #<BigDecimal:7f9bffaaebf8,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 15:21:10 UTC +00:00]]
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 15:21:10 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 5], ["service_id", 29], ["units", 1], ["updated_at", Fri, 03 Jan 2014 15:21:10 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service"=>{"service_id"=>"30"}}
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 30 LIMIT 1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 30 LIMIT 1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 30 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations" WHERE "stamp_reservations"."service_id" = ?  [["service_id", 30]]
  [1m[36mStamp::Service Load (0.8ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 30 LIMIT 1[0m
Completed 200 OK in 49782ms (Views: 0.8ms | ActiveRecord: 1.5ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.9ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36mSQL (1.4ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 5]]
  [1m[35m (100.0ms)[0m  commit transaction
  [1m[36mStamp::Reservation Load (0.9ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.3ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 5]]
  [1m[36m (669.2ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (1.3ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.1ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 29]]
  [1m[36m (57.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (54.1ms)[0m  begin transaction
  [1m[36mSQL (9.5ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 30]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.9ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36mSQL (1.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 25]]
  [1m[35m (4.6ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (4.2ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:22:29 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 15:22:29 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 26 LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:22:29 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 26], ["updated_at", Fri, 03 Jan 2014 15:22:29 UTC +00:00]]
  [1m[35m (2.7ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.4ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 26 LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:22:29 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 26], ["updated_at", Fri, 03 Jan 2014 15:22:29 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:22:29 UTC +00:00], ["customer_id", 6], ["service_id", 32], ["total_price", #<BigDecimal:7fde39c9ca38,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 15:22:29 UTC +00:00]]
  [1m[35m (2.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 15:22:29 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 6], ["service_id", 31], ["units", 1], ["updated_at", Fri, 03 Jan 2014 15:22:29 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service"=>{"service_id"=>"32"}}
  [1m[36mStamp::Service Load (0.3ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 32 LIMIT 1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 32 LIMIT 1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 32 LIMIT 1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 32 LIMIT 1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 32 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations" WHERE "stamp_reservations"."service_id" = ?  [["service_id", 32]]
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 32 LIMIT 1[0m
  [1m[35mStamp::Service Load (0.1ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 32 LIMIT 1
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."service_id" = ?[0m  [["service_id", 32]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 32 LIMIT 1[0m
  [1m[35mStamp::Service Load (0.1ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 32 LIMIT 1
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."service_id" = ?[0m  [["service_id", 32]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE "stamp_time_slots"."reservation_id" = ? ORDER BY "stamp_time_slots"."id" ASC LIMIT 1[0m  [["reservation_id", 6]]
  [1m[35mStamp::Service Load (0.7ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 32 LIMIT 1
Completed 200 OK in 301483ms (Views: 1.1ms | ActiveRecord: 3.2ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:27:36 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 15:27:36 UTC +00:00]]
  [1m[35m (8.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 27 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:27:36 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 27], ["updated_at", Fri, 03 Jan 2014 15:27:36 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 27 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:27:36 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 27], ["updated_at", Fri, 03 Jan 2014 15:27:36 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:27:36 UTC +00:00], ["customer_id", 7], ["service_id", 34], ["total_price", #<BigDecimal:7fc72c2a8c30,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 15:27:36 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 15:27:36 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 7], ["service_id", 33], ["units", 1], ["updated_at", Fri, 03 Jan 2014 15:27:36 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service"=>{"service_id"=>"34"}}
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 34 LIMIT 1[0m
Completed 400 Bad Request in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 7]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 6]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 7]]
  [1m[35m (0.4ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.1ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 31]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 32]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 33]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 34]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 26]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 27]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.6ms)[0m  begin transaction
  [1m[36mSQL (5.2ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:32:41 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 15:32:41 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 28 LIMIT 1
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:32:41 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 28], ["updated_at", Fri, 03 Jan 2014 15:32:41 UTC +00:00]]
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 28 LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:32:41 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 28], ["updated_at", Fri, 03 Jan 2014 15:32:41 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:32:41 UTC +00:00], ["customer_id", 8], ["service_id", 36], ["total_price", #<BigDecimal:7ff37cf9cd98,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 15:32:41 UTC +00:00]]
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 15:32:41 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 8], ["service_id", 35], ["units", 1], ["updated_at", Fri, 03 Jan 2014 15:32:41 UTC +00:00]]
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.6ms)[0m  begin transaction
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.6ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 8]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (0.5ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35m (0.6ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 8]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 35]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (46.4ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 36]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.6ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 28]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (102.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (4.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:37:32 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 15:37:32 UTC +00:00]]
  [1m[35m (614.8ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 29 LIMIT 1
  [1m[36mSQL (2.1ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:37:32 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 29], ["updated_at", Fri, 03 Jan 2014 15:37:32 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 29 LIMIT 1
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:37:32 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 29], ["updated_at", Fri, 03 Jan 2014 15:37:32 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:37:32 UTC +00:00], ["customer_id", 9], ["service_id", 38], ["total_price", #<BigDecimal:7ff34bdc1e28,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 15:37:32 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 15:37:32 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 9], ["service_id", 37], ["units", 1], ["updated_at", Fri, 03 Jan 2014 15:37:32 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.6ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 9]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (0.7ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 9]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.6ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 37]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 38]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.6ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 29]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.8ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:38:01 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 15:38:01 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 30 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:38:01 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 30], ["updated_at", Fri, 03 Jan 2014 15:38:01 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 30 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:38:01 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 30], ["updated_at", Fri, 03 Jan 2014 15:38:01 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:38:01 UTC +00:00], ["customer_id", 10], ["service_id", 40], ["total_price", #<BigDecimal:7fbe63639420,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 15:38:01 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 15:38:01 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 10], ["service_id", 39], ["units", 1], ["updated_at", Fri, 03 Jan 2014 15:38:01 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"40", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 40 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.1ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."id" = 40 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 10]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 10]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 39]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 40]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.1ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 30]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (4.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:38:11 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 15:38:11 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 31 LIMIT 1
  [1m[36mSQL (2.1ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:38:11 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 31], ["updated_at", Fri, 03 Jan 2014 15:38:11 UTC +00:00]]
  [1m[35m (3.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 31 LIMIT 1
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:38:11 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 31], ["updated_at", Fri, 03 Jan 2014 15:38:11 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:38:11 UTC +00:00], ["customer_id", 11], ["service_id", 42], ["total_price", #<BigDecimal:7f9501efe528,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 15:38:11 UTC +00:00]]
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 15:38:11 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 11], ["service_id", 41], ["units", 1], ["updated_at", Fri, 03 Jan 2014 15:38:11 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"42", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 42 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.9ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."id" = 42 ORDER BY "stamp_time_slots"."from" ASC
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."id" = 42[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."id" = 42 ORDER BY "stamp_time_slots"."from" ASC
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_time_slots"[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" ORDER BY "stamp_time_slots"."id" ASC LIMIT 1
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots" ORDER BY "stamp_time_slots"."id" ASC LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.1ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" ORDER BY "stamp_time_slots"."id" ASC LIMIT 1
Completed 200 OK in 121756ms (Views: 1.7ms | ActiveRecord: 2.6ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.7ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:40:30 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 15:40:30 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 32 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:40:30 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 32], ["updated_at", Fri, 03 Jan 2014 15:40:30 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 32 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 15:40:30 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 32], ["updated_at", Fri, 03 Jan 2014 15:40:30 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 15:40:30 UTC +00:00], ["customer_id", 12], ["service_id", 44], ["total_price", #<BigDecimal:7faccd615360,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 15:40:30 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 15:40:30 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 12], ["service_id", 43], ["units", 1], ["updated_at", Fri, 03 Jan 2014 15:40:30 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"44", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 44 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.1ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."id" = 44 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 11]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 12]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 11]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 12]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 41]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 42]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 43]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 44]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 31]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 32]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (4.2ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 18:36:08 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 18:36:08 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 33 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 18:36:08 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 33], ["updated_at", Fri, 03 Jan 2014 18:36:08 UTC +00:00]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 33 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 18:36:08 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 33], ["updated_at", Fri, 03 Jan 2014 18:36:08 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 18:36:08 UTC +00:00], ["customer_id", 13], ["service_id", 46], ["total_price", #<BigDecimal:7fb0ccae92f8,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 18:36:08 UTC +00:00]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 18:36:08 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 13], ["service_id", 46], ["units", 1], ["updated_at", Fri, 03 Jan 2014 18:36:08 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"46", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 46 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.1ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."id" = 46 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 13]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 13]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 45]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 46]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.1ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 33]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (4.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 18:36:27 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 18:36:27 UTC +00:00]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 34 LIMIT 1
  [1m[36mSQL (2.1ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 18:36:27 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 34], ["updated_at", Fri, 03 Jan 2014 18:36:27 UTC +00:00]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 34 LIMIT 1
  [1m[36mSQL (2.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 18:36:27 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 34], ["updated_at", Fri, 03 Jan 2014 18:36:27 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.9ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 18:36:27 UTC +00:00], ["customer_id", 14], ["service_id", 48], ["total_price", #<BigDecimal:7f8079bb1100,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 18:36:27 UTC +00:00]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 18:36:27 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 14], ["service_id", 48], ["units", 1], ["updated_at", Fri, 03 Jan 2014 18:36:27 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"48", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (1.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 48 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" ORDER BY "stamp_time_slots"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."id" = 48[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."id" = 48
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = 48[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."service_id" = 48
  [1m[36mStamp::TimeSlot Load (0.7ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."id" = 48 ORDER BY "stamp_time_slots"."from" ASC[0m
Completed 200 OK in 149681ms (Views: 2.3ms | ActiveRecord: 2.8ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.8ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36mSQL (1.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 14]]
  [1m[35m (3.3ms)[0m  commit transaction
  [1m[36mStamp::Reservation Load (0.6ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 14]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.6ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 47]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 48]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.5ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 34]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (4.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 18:39:12 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 18:39:12 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 35 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 18:39:12 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 35], ["updated_at", Fri, 03 Jan 2014 18:39:12 UTC +00:00]]
  [1m[35m (3.0ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 35 LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 18:39:12 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 35], ["updated_at", Fri, 03 Jan 2014 18:39:12 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 18:39:12 UTC +00:00], ["customer_id", 15], ["service_id", 50], ["total_price", #<BigDecimal:7fa292e9dd88,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 18:39:12 UTC +00:00]]
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 18:39:12 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 15], ["service_id", 50], ["units", 1], ["updated_at", Fri, 03 Jan 2014 18:39:12 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.8ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"50", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (1.1ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 50 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."service_id" = 50
  [1m[36mStamp::TimeSlot Load (1.1ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."service_id" = 50 ORDER BY "stamp_time_slots"."from" ASC[0m
Completed 200 OK in 125477ms (Views: 0.8ms | ActiveRecord: 2.4ms)
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (1.0ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35m (0.9ms)[0m  begin transaction
  [1m[36mSQL (1.4ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 15]]
  [1m[35m (4.8ms)[0m  commit transaction
  [1m[36mStamp::Reservation Load (1.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (1.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36m (0.9ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.3ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 15]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (1.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (30.8ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (126.5ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 49]]
  [1m[36m (13.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.9ms)[0m  begin transaction
  [1m[36mSQL (2.8ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 50]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (20.8ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.9ms)[0m  begin transaction
  [1m[36mSQL (1.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 35]]
  [1m[35m (14.2ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (4.7ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 18:41:30 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 18:41:30 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 36 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 18:41:30 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 36], ["updated_at", Fri, 03 Jan 2014 18:41:30 UTC +00:00]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 36 LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 18:41:30 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 36], ["updated_at", Fri, 03 Jan 2014 18:41:30 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 18:41:30 UTC +00:00], ["customer_id", 16], ["service_id", 52], ["total_price", #<BigDecimal:7fa58c5f7588,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 18:41:30 UTC +00:00]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 18:41:30 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 16], ["service_id", 52], ["units", 1], ["updated_at", Fri, 03 Jan 2014 18:41:30 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"52", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 52 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.8ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."service_id" = 52 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 72496ms (Views: 1.0ms | ActiveRecord: 1.4ms)
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (1.3ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.7ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 16]]
  [1m[36m (13.0ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (1.3ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (1.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35m (1.1ms)[0m  begin transaction
  [1m[36mSQL (1.6ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 16]]
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36mStamp::Service Load (1.1ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (1.0ms)[0m  begin transaction
  [1m[36mSQL (1.6ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 51]]
  [1m[35m (46.2ms)[0m  commit transaction
  [1m[36m (0.8ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (188.6ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 52]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (1.3ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.6ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 36]]
  [1m[36m (3.5ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36mSQL (4.6ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 18:42:51 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 18:42:51 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.7ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 37 LIMIT 1
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 18:42:51 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 31], ["service_type_id", 37], ["updated_at", Fri, 03 Jan 2014 18:42:51 UTC +00:00]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.7ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 37 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 18:42:51 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 32], ["service_type_id", 37], ["updated_at", Fri, 03 Jan 2014 18:42:51 UTC +00:00]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 17]]
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 18:42:51 UTC +00:00], ["customer_id", 17], ["service_id", 54], ["total_price", #<BigDecimal:7f820dcde010,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 18:42:51 UTC +00:00]]
  [1m[35m (2.9ms)[0m  commit transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 18:42:51 UTC +00:00], ["from", Fri, 03 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 17], ["service_id", 54], ["units", 1], ["updated_at", Fri, 03 Jan 2014 18:42:51 UTC +00:00]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"54", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 54 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.8ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."service_id" = 54 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 233453ms (Views: 1.0ms | ActiveRecord: 1.5ms)
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.8ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.1ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 17]]
  [1m[36m (3.3ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (0.6ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 17]]
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 17]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.6ms)[0m  begin transaction
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 53]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 54]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.6ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 37]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (4.6ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 18:48:10 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 18:48:10 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.7ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 38 LIMIT 1
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 18:48:10 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 30], ["service_type_id", 38], ["updated_at", Fri, 03 Jan 2014 18:48:10 UTC +00:00]]
  [1m[35m (3.0ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 38 LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 18:48:10 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 30], ["service_type_id", 38], ["updated_at", Fri, 03 Jan 2014 18:48:10 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 18]]
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 18:48:10 UTC +00:00], ["customer_id", 18], ["service_id", 56], ["total_price", #<BigDecimal:7fecb377b0a8,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 18:48:10 UTC +00:00]]
  [1m[35m (2.7ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 18:48:10 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 18], ["service_id", 56], ["units", 1], ["updated_at", Fri, 03 Jan 2014 18:48:10 UTC +00:00]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (2.0ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"56", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.8ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 56 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (1.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."service_id" = 56 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 561954ms (Views: 1.0ms | ActiveRecord: 1.9ms)
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (1.9ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (1.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.5ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 18]]
  [1m[36m (751.0ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (1.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 18]]
  [1m[35m (1.1ms)[0m  begin transaction
  [1m[36mSQL (1.5ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 18]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.8ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.6ms)[0m  begin transaction
  [1m[36mSQL (1.5ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 55]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.4ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 56]]
  [1m[36m (16.9ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (1.3ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (1.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.7ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 38]]
  [1m[36m (179.7ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.7ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 18:58:37 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 18:58:37 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 39 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 18:58:37 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 30], ["service_type_id", 39], ["updated_at", Fri, 03 Jan 2014 18:58:37 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 39 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 18:58:37 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 30], ["service_type_id", 39], ["updated_at", Fri, 03 Jan 2014 18:58:37 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 19]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 18:58:37 UTC +00:00], ["customer_id", 19], ["service_id", 58], ["total_price", #<BigDecimal:7fbb232c5d90,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 18:58:37 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 18:58:37 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 19], ["service_id", 58], ["units", 1], ["updated_at", Fri, 03 Jan 2014 18:58:37 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"58", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 58 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."service_id" = 58 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.3ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 19]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 19]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 19]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.3ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 57]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 58]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 39]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.8ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 18:59:14 UTC +00:00], ["name", "service type 1"], ["updated_at", Fri, 03 Jan 2014 18:59:14 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 40 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 18:59:15 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 30], ["service_type_id", 40], ["updated_at", Fri, 03 Jan 2014 18:59:15 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 40 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 24], ["created_at", Fri, 03 Jan 2014 18:59:15 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 10], ["owner_id", 1], ["payment_method", 0], ["period_size", 30], ["service_type_id", 40], ["updated_at", Fri, 03 Jan 2014 18:59:15 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Fri, 03 Jan 2014 18:59:15 UTC +00:00], ["customer_id", 20], ["service_id", 60], ["total_price", #<BigDecimal:7fb649e69e28,'0.1E3',9(36)>], ["updated_at", Fri, 03 Jan 2014 18:59:15 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Fri, 03 Jan 2014 18:59:15 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 20], ["service_id", 60], ["units", 1], ["updated_at", Fri, 03 Jan 2014 18:59:15 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"60", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 60 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."service_id" = 60 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.1ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 20]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 20]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 59]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 60]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.1ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 40]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (4.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:10:21 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:10:21 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 3 LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:10:21 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 3], ["updated_at", Thu, 16 Jan 2014 21:10:21 UTC +00:00]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 3 LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:10:21 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 3], ["updated_at", Thu, 16 Jan 2014 21:10:21 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:10:21 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:7fe24274c8a0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:10:21 UTC +00:00]]
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:10:21 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:7fe243d8cef8,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:10:21 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:10:21 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:7fe24586aae0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:10:21 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:10:21 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 1], ["service_id", 2], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:10:21 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:10:21 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 3], ["service_id", 2], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:10:21 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:10:21 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 2], ["service_id", 2], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:10:21 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"2", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 20:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 2 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.6ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014/01/01 00:00:00' AND '2014/01/02 20:00:00') AND "stamp_time_slots"."service_id" = 2 ORDER BY "stamp_time_slots"."from" ASC
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (4.3ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:11:44 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:11:44 UTC +00:00]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 4 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:11:44 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 4], ["updated_at", Thu, 16 Jan 2014 21:11:44 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 4 LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:11:44 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 4], ["updated_at", Thu, 16 Jan 2014 21:11:44 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mSQL (2.2ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:11:44 UTC +00:00], ["customer_id", 2], ["service_id", 4], ["total_price", #<BigDecimal:7fbca5245928,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:11:44 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:11:44 UTC +00:00], ["customer_id", 2], ["service_id", 4], ["total_price", #<BigDecimal:7fbca1ab48b0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:11:44 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:11:45 UTC +00:00], ["customer_id", 2], ["service_id", 4], ["total_price", #<BigDecimal:7fbca3b1e1a0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:11:45 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:11:45 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 4], ["service_id", 4], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:11:45 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:11:45 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 6], ["service_id", 4], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:11:45 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:11:45 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 5], ["service_id", 4], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:11:45 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"4", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 20:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.6ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 4 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.5ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014/01/01 00:00:00' AND '2014/01/02 20:00:00') AND "stamp_time_slots"."service_id" = 4 ORDER BY "stamp_time_slots"."from" ASC
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (411.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (4.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:12:33 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:12:33 UTC +00:00]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 5 LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:12:33 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 5], ["updated_at", Thu, 16 Jan 2014 21:12:33 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 5 LIMIT 1
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:12:33 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 5], ["updated_at", Thu, 16 Jan 2014 21:12:33 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:12:33 UTC +00:00], ["customer_id", 3], ["service_id", 6], ["total_price", #<BigDecimal:7fef92731890,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:12:33 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:12:33 UTC +00:00], ["customer_id", 3], ["service_id", 6], ["total_price", #<BigDecimal:7fef95898aa0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:12:33 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:12:33 UTC +00:00], ["customer_id", 3], ["service_id", 6], ["total_price", #<BigDecimal:7fef959eb510,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:12:33 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:12:33 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 7], ["service_id", 6], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:12:33 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.6ms)[0m  begin transaction
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:12:33 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 9], ["service_id", 6], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:12:33 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:12:33 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 8], ["service_id", 6], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:12:33 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"6", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 20:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 6 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.6ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014/01/01 00:00:00' AND '2014/01/02 20:00:00') AND "stamp_time_slots"."service_id" = 6 ORDER BY "stamp_time_slots"."from" ASC
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.9ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:13:16 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:13:16 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 6 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:13:16 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 6], ["updated_at", Thu, 16 Jan 2014 21:13:16 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 6 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:13:16 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 6], ["updated_at", Thu, 16 Jan 2014 21:13:16 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:13:16 UTC +00:00], ["customer_id", 4], ["service_id", 8], ["total_price", #<BigDecimal:7fb32a2ee480,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:13:16 UTC +00:00]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:13:16 UTC +00:00], ["customer_id", 4], ["service_id", 8], ["total_price", #<BigDecimal:7fb32a322000,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:13:16 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:13:16 UTC +00:00], ["customer_id", 4], ["service_id", 8], ["total_price", #<BigDecimal:7fb32a348458,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:13:16 UTC +00:00]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:13:16 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 10], ["service_id", 8], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:13:16 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:13:16 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 12], ["service_id", 8], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:13:16 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:13:16 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 11], ["service_id", 8], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:13:16 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"7", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 7 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014/01/01 00:00:00' AND '2014/01/02 00:00:00') AND "stamp_time_slots"."service_id" = 7 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 9ms (Views: 2.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 1]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 2]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 3]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 5]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 7]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 8]]
  [1m[35m (0.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 9]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 10]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 11]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 12]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mStamp::Reservation Load (0.3ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 1]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 2]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 3]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 4]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 5]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 6]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 7]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 8]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 9]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 10]]
  [1m[36m (4.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 11]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 12]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 1]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 2]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 3]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 5]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 7]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 8]]
  [1m[35m (0.4ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.1ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 3]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 4]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 5]]
  [1m[35m (4.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 6]]
  [1m[36m (7.4ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.0ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:13:25 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:13:25 UTC +00:00]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 7 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:13:25 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 7], ["updated_at", Thu, 16 Jan 2014 21:13:25 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 7 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:13:25 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 7], ["updated_at", Thu, 16 Jan 2014 21:13:25 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:13:25 UTC +00:00], ["customer_id", 5], ["service_id", 10], ["total_price", #<BigDecimal:7ff8c5652f50,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:13:25 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:13:25 UTC +00:00], ["customer_id", 5], ["service_id", 10], ["total_price", #<BigDecimal:7ff8c5682430,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:13:25 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:13:25 UTC +00:00], ["customer_id", 5], ["service_id", 10], ["total_price", #<BigDecimal:7ff8c56b0c40,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:13:25 UTC +00:00]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:13:25 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 13], ["service_id", 10], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:13:25 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:13:25 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 15], ["service_id", 10], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:13:25 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:13:25 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 14], ["service_id", 10], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:13:25 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"10", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 20:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.3ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 10 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.1ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014/01/01 00:00:00' AND '2014/01/02 20:00:00') AND "stamp_time_slots"."service_id" = 10 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 9ms (Views: 2.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 13]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 14]]
  [1m[35m (0.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 15]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 13]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 14]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 15]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.3ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 9]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 10]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 7]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.9ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:13:36 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:13:36 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 8 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:13:36 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 8], ["updated_at", Thu, 16 Jan 2014 21:13:36 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 8 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:13:36 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 8], ["updated_at", Thu, 16 Jan 2014 21:13:36 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:13:36 UTC +00:00], ["customer_id", 6], ["service_id", 12], ["total_price", #<BigDecimal:7fbad5566958,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:13:36 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:13:36 UTC +00:00], ["customer_id", 6], ["service_id", 12], ["total_price", #<BigDecimal:7fbad5595fa0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:13:36 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:13:36 UTC +00:00], ["customer_id", 6], ["service_id", 12], ["total_price", #<BigDecimal:7fbad55c83b0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:13:36 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:13:36 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 16], ["service_id", 12], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:13:36 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:13:36 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 18], ["service_id", 12], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:13:36 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:13:36 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 17], ["service_id", 12], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:13:36 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"12", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 12 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."service_id" = 12 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.1ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 16]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 17]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 18]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 16]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 17]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 18]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 11]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 12]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.3ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 8]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (4.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:13:47 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:13:47 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 9 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:13:47 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 9], ["updated_at", Thu, 16 Jan 2014 21:13:47 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 9 LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:13:47 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 9], ["updated_at", Thu, 16 Jan 2014 21:13:47 UTC +00:00]]
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:13:47 UTC +00:00], ["customer_id", 7], ["service_id", 14], ["total_price", #<BigDecimal:7f8742fa6f88,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:13:47 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:13:48 UTC +00:00], ["customer_id", 7], ["service_id", 14], ["total_price", #<BigDecimal:7f8743ca60f8,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:13:48 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mSQL (2.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:13:48 UTC +00:00], ["customer_id", 7], ["service_id", 14], ["total_price", #<BigDecimal:7f8743d94848,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:13:48 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:13:48 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 19], ["service_id", 14], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:13:48 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:13:48 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 21], ["service_id", 14], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:13:48 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:13:48 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 20], ["service_id", 14], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:13:48 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.7ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"14", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 20:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 14 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.6ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014/01/01 00:00:00' AND '2014/01/02 20:00:00') AND "stamp_time_slots"."service_id" = 14 ORDER BY "stamp_time_slots"."from" ASC
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (4.0ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:16:14 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:16:14 UTC +00:00]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 10 LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:16:14 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 10], ["updated_at", Thu, 16 Jan 2014 21:16:14 UTC +00:00]]
  [1m[35m (3.0ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 10 LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:16:14 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 10], ["updated_at", Thu, 16 Jan 2014 21:16:14 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:16:14 UTC +00:00], ["customer_id", 8], ["service_id", 16], ["total_price", #<BigDecimal:7fcdac08e518,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:16:14 UTC +00:00]]
  [1m[35m (2.3ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:16:14 UTC +00:00], ["customer_id", 8], ["service_id", 16], ["total_price", #<BigDecimal:7fcdaac46b00,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:16:14 UTC +00:00]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:16:14 UTC +00:00], ["customer_id", 8], ["service_id", 16], ["total_price", #<BigDecimal:7fcdaad9f150,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:16:14 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:16:14 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 22], ["service_id", 16], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:16:14 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:16:14 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 24], ["service_id", 16], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:16:14 UTC +00:00]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:16:14 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 23], ["service_id", 16], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:16:14 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"16", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.6ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 16 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."service_id" = 16
  [1m[36mStamp::TimeSlot Load (0.8ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."service_id" = 16 ORDER BY "stamp_time_slots"."from" ASC[0m
Completed 200 OK in 35812ms (Views: 4.9ms | ActiveRecord: 1.6ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.9ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 19]]
  [1m[35m (3.4ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 20]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 21]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 22]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 23]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 24]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (0.7ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 19]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 20]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 21]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 22]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 23]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 24]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.8ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 13]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 14]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.6ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 15]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 16]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.6ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 9]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 10]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (4.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:17:07 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:17:07 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 11 LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:17:07 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 11], ["updated_at", Thu, 16 Jan 2014 21:17:07 UTC +00:00]]
  [1m[35m (3.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 11 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:17:07 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 11], ["updated_at", Thu, 16 Jan 2014 21:17:07 UTC +00:00]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:17:07 UTC +00:00], ["customer_id", 9], ["service_id", 18], ["total_price", #<BigDecimal:7ff155a469a8,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:17:07 UTC +00:00]]
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:17:07 UTC +00:00], ["customer_id", 9], ["service_id", 18], ["total_price", #<BigDecimal:7ff157a21db8,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:17:07 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:17:07 UTC +00:00], ["customer_id", 9], ["service_id", 18], ["total_price", #<BigDecimal:7ff155b1f898,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:17:07 UTC +00:00]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:17:07 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 25], ["service_id", 18], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:17:07 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:17:07 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 27], ["service_id", 18], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:17:07 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:17:07 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 26], ["service_id", 18], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:17:07 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"18", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 20:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 18 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014/01/01 00:00:00' AND '2014/01/02 20:00:00') AND "stamp_time_slots"."service_id" = 18
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_time_slots"[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" ORDER BY "stamp_time_slots"."id" ASC LIMIT 1
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots" ORDER BY "stamp_time_slots"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014/01/01 00:00:00' AND '2014/01/02 20:00:00') AND "stamp_time_slots"."service_id" = 18
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014-01-01 00:00:00.000000' AND '2014-01-02 20:00:00.000000') AND "stamp_time_slots"."service_id" = 18[0m
  [1m[35mStamp::TimeSlot Load (0.9ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014/01/01 00:00:00' AND '2014/01/02 20:00:00') AND "stamp_time_slots"."service_id" = 18 ORDER BY "stamp_time_slots"."from" ASC
  [1m[36m (30.7ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (5.0ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:20:20 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:20:20 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 12 LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:20:20 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 12], ["updated_at", Thu, 16 Jan 2014 21:20:20 UTC +00:00]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 12 LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:20:20 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 12], ["updated_at", Thu, 16 Jan 2014 21:20:20 UTC +00:00]]
  [1m[35m (2.9ms)[0m  commit transaction
  [1m[36m (1.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:20:20 UTC +00:00], ["customer_id", 10], ["service_id", 20], ["total_price", #<BigDecimal:7fb3462c76c0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:20:20 UTC +00:00]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:20:20 UTC +00:00], ["customer_id", 10], ["service_id", 20], ["total_price", #<BigDecimal:7fb346436920,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:20:20 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:20:20 UTC +00:00], ["customer_id", 10], ["service_id", 20], ["total_price", #<BigDecimal:7fb34658e890,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:20:20 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.7ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:20:20 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 28], ["service_id", 20], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:20:20 UTC +00:00]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:20:20 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 30], ["service_id", 20], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:20:20 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:20:20 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 29], ["service_id", 20], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:20:20 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"20", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 20:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 20 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014/01/01 00:00:00' AND '2014/01/02 20:00:00') AND "stamp_time_slots"."service_id" = 20
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014/01/01 00:00:00' AND '2014/01/02 20:00:00') AND "stamp_time_slots"."service_id" = 20[0m
  [1m[35mStamp::TimeSlot Load (0.7ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014/01/01 00:00:00' AND '2014/01/02 20:00:00') AND "stamp_time_slots"."service_id" = 20 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 38281ms (Views: 150.7ms | ActiveRecord: 1.8ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.9ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 25]]
  [1m[36m (99.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 26]]
  [1m[35m (648.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 27]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 28]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 29]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 30]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36mStamp::Reservation Load (0.8ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 25]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 26]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 27]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 28]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 29]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 30]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.7ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 17]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 18]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 19]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 20]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.6ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (1.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 11]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.8ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 12]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.6ms)[0m  begin transaction
  [1m[36mSQL (5.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:21:09 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:21:09 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 13 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:21:09 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 13], ["updated_at", Thu, 16 Jan 2014 21:21:09 UTC +00:00]]
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 13 LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:21:09 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 13], ["updated_at", Thu, 16 Jan 2014 21:21:09 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:21:09 UTC +00:00], ["customer_id", 11], ["service_id", 22], ["total_price", #<BigDecimal:7f96bd9abcc0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:21:09 UTC +00:00]]
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:21:09 UTC +00:00], ["customer_id", 11], ["service_id", 22], ["total_price", #<BigDecimal:7f96bdb1ab38,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:21:09 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:21:09 UTC +00:00], ["customer_id", 11], ["service_id", 22], ["total_price", #<BigDecimal:7f96bbc4a668,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:21:09 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.1ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:21:10 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 31], ["service_id", 22], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:21:10 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:21:10 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 33], ["service_id", 22], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:21:10 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:21:10 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 32], ["service_id", 22], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:21:10 UTC +00:00]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"22", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 22 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (1.1ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."service_id" = 22 ORDER BY "stamp_time_slots"."from" ASC
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (4.3ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:22:20 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:22:20 UTC +00:00]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 14 LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:22:20 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 14], ["updated_at", Thu, 16 Jan 2014 21:22:20 UTC +00:00]]
  [1m[35m (2.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 14 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:22:20 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 14], ["updated_at", Thu, 16 Jan 2014 21:22:20 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.9ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mSQL (2.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:22:21 UTC +00:00], ["customer_id", 12], ["service_id", 24], ["total_price", #<BigDecimal:7fd499cd9248,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:22:21 UTC +00:00]]
  [1m[35m (2.2ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:22:21 UTC +00:00], ["customer_id", 12], ["service_id", 24], ["total_price", #<BigDecimal:7fd49a237708,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:22:21 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:22:21 UTC +00:00], ["customer_id", 12], ["service_id", 24], ["total_price", #<BigDecimal:7fd499f116c8,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:22:21 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:22:21 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 34], ["service_id", 24], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:22:21 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:22:21 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 36], ["service_id", 24], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:22:21 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:22:21 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 35], ["service_id", 24], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:22:21 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"24", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.6ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 24 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (1.3ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."service_id" = 24 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 5646ms (Views: 5.7ms | ActiveRecord: 2.0ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (1.4ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 31]]
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 32]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 33]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 34]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 35]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 36]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36mStamp::Reservation Load (0.8ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 31]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 32]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 33]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 34]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 35]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 36]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.7ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (48.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 21]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 22]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 23]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 24]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.6ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 13]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 14]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (2.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (4.3ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:22:37 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:22:37 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 15 LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:22:37 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 15], ["updated_at", Thu, 16 Jan 2014 21:22:37 UTC +00:00]]
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 15 LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:22:37 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 15], ["updated_at", Thu, 16 Jan 2014 21:22:37 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mSQL (2.2ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:22:37 UTC +00:00], ["customer_id", 13], ["service_id", 26], ["total_price", #<BigDecimal:7fd8344eeff8,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:22:37 UTC +00:00]]
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:22:37 UTC +00:00], ["customer_id", 13], ["service_id", 26], ["total_price", #<BigDecimal:7fd834654ed8,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:22:37 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:22:37 UTC +00:00], ["customer_id", 13], ["service_id", 26], ["total_price", #<BigDecimal:7fd83491acf8,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:22:37 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:22:37 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 37], ["service_id", 26], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:22:37 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:22:37 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 39], ["service_id", 26], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:22:37 UTC +00:00]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:22:37 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 38], ["service_id", 26], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:22:37 UTC +00:00]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"26", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 26 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."service_id" = 26
  [1m[36mStamp::TimeSlot Load (0.8ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013/01/01 00:00:00' AND '2015/01/01 00:00:00') AND "stamp_time_slots"."service_id" = 26 ORDER BY "stamp_time_slots"."from" ASC[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.8ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:35:21 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:35:21 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 16 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:35:22 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 16], ["updated_at", Thu, 16 Jan 2014 21:35:22 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 16 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:35:22 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 16], ["updated_at", Thu, 16 Jan 2014 21:35:22 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:35:22 UTC +00:00], ["customer_id", 14], ["service_id", 28], ["total_price", #<BigDecimal:7fe239efc180,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:35:22 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:35:22 UTC +00:00], ["customer_id", 14], ["service_id", 28], ["total_price", #<BigDecimal:7fe239f30430,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:35:22 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:35:22 UTC +00:00], ["customer_id", 14], ["service_id", 28], ["total_price", #<BigDecimal:7fe239f7ee00,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:35:22 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:35:22 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 40], ["service_id", 28], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:35:22 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:35:22 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 42], ["service_id", 28], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:35:22 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:35:22 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 41], ["service_id", 28], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:35:22 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"28", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 20:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 28 LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 37]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 38]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 39]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 40]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 41]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 42]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 14]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 14]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 37]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 38]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 39]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 40]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 41]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 42]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 25]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 26]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 27]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 28]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.1ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 15]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 16]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (4.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:35:45 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:35:45 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 17 LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:35:45 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 17], ["updated_at", Thu, 16 Jan 2014 21:35:45 UTC +00:00]]
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 17 LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:35:45 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 17], ["updated_at", Thu, 16 Jan 2014 21:35:45 UTC +00:00]]
  [1m[35m (41.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:35:45 UTC +00:00], ["customer_id", 15], ["service_id", 30], ["total_price", #<BigDecimal:7fe22d9148a0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:35:45 UTC +00:00]]
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:35:45 UTC +00:00], ["customer_id", 15], ["service_id", 30], ["total_price", #<BigDecimal:7fe22da7f9b0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:35:45 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:35:45 UTC +00:00], ["customer_id", 15], ["service_id", 30], ["total_price", #<BigDecimal:7fe22dbd6ca0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:35:45 UTC +00:00]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:35:45 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 43], ["service_id", 30], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:35:45 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:35:45 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 45], ["service_id", 30], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:35:45 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:35:45 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 44], ["service_id", 30], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:35:45 UTC +00:00]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"30", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 20:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.6ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 30 LIMIT 1[0m
Completed 200 OK in 11ms (Views: 0.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.9ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35m (0.9ms)[0m  begin transaction
  [1m[36mSQL (1.1ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 43]]
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (99.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (4.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:36:27 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:36:27 UTC +00:00]]
  [1m[35m (617.2ms)[0m  commit transaction
  [1m[36m (1.3ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 18 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:36:28 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 18], ["updated_at", Thu, 16 Jan 2014 21:36:28 UTC +00:00]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 18 LIMIT 1
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:36:28 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 18], ["updated_at", Thu, 16 Jan 2014 21:36:28 UTC +00:00]]
  [1m[35m (45.0ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:36:28 UTC +00:00], ["customer_id", 16], ["service_id", 32], ["total_price", #<BigDecimal:7f81de2be758,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:36:28 UTC +00:00]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:36:28 UTC +00:00], ["customer_id", 16], ["service_id", 32], ["total_price", #<BigDecimal:7f81dba04f60,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:36:28 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:36:28 UTC +00:00], ["customer_id", 16], ["service_id", 32], ["total_price", #<BigDecimal:7f81de49d3a8,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:36:28 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:36:28 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 46], ["service_id", 32], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:36:28 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:36:28 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 48], ["service_id", 32], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:36:28 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:36:28 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 47], ["service_id", 32], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:36:28 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"32", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 20:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 32 LIMIT 1[0m
Completed 200 OK in 11ms (Views: 0.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (1.3ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35m (2.0ms)[0m  begin transaction
  [1m[36mSQL (1.1ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 43]]
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.8ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:37:06 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:37:06 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 19 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:37:06 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 19], ["updated_at", Thu, 16 Jan 2014 21:37:06 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 19 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:37:06 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 19], ["updated_at", Thu, 16 Jan 2014 21:37:06 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 17]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:37:06 UTC +00:00], ["customer_id", 17], ["service_id", 34], ["total_price", #<BigDecimal:7fc87f004098,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:37:06 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 17]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:37:06 UTC +00:00], ["customer_id", 17], ["service_id", 34], ["total_price", #<BigDecimal:7fc87f0c0338,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:37:06 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 17]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:37:06 UTC +00:00], ["customer_id", 17], ["service_id", 34], ["total_price", #<BigDecimal:7fc87f0ead40,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:37:06 UTC +00:00]]
  [1m[35m (0.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:37:06 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 49], ["service_id", 34], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:37:06 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:37:06 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 51], ["service_id", 34], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:37:06 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:37:06 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 50], ["service_id", 34], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:37:06 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"33", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 33 LIMIT 1[0m
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 43]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 44]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 45]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 46]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 47]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 48]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 49]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 50]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 51]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 15]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 15]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 16]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 16]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 17]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 17]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 17]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 43]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 44]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 45]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 46]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 47]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 48]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 49]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 50]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 51]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 29]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 30]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 31]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 32]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 33]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 34]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.1ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 17]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 18]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 19]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (5.6ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:37:26 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:37:26 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 20 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:37:26 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 20], ["updated_at", Thu, 16 Jan 2014 21:37:26 UTC +00:00]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.8ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 20 LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:37:26 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 20], ["updated_at", Thu, 16 Jan 2014 21:37:26 UTC +00:00]]
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (1.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 18]]
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:37:26 UTC +00:00], ["customer_id", 18], ["service_id", 36], ["total_price", #<BigDecimal:7ffd22794f10,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:37:26 UTC +00:00]]
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 18]]
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:37:26 UTC +00:00], ["customer_id", 18], ["service_id", 36], ["total_price", #<BigDecimal:7ffd25100cf0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:37:26 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 18]]
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:37:26 UTC +00:00], ["customer_id", 18], ["service_id", 36], ["total_price", #<BigDecimal:7ffd25253008,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:37:26 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:37:26 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 52], ["service_id", 36], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:37:26 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:37:26 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 54], ["service_id", 36], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:37:26 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:37:26 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 53], ["service_id", 36], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:37:26 UTC +00:00]]
  [1m[36m (48.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.9ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"35", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 35 LIMIT 1[0m
Completed 200 OK in 15457ms (Views: 1.0ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.8ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (1.1ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 52]]
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36mSQL (4.3ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:38:03 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:38:03 UTC +00:00]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 21 LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:38:03 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 21], ["updated_at", Thu, 16 Jan 2014 21:38:03 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 21 LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:38:03 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 21], ["updated_at", Thu, 16 Jan 2014 21:38:03 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (1.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 19]]
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:38:03 UTC +00:00], ["customer_id", 19], ["service_id", 38], ["total_price", #<BigDecimal:7f8854d08520,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:38:03 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 19]]
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:38:03 UTC +00:00], ["customer_id", 19], ["service_id", 38], ["total_price", #<BigDecimal:7f8854d906f0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:38:03 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 19]]
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:38:03 UTC +00:00], ["customer_id", 19], ["service_id", 38], ["total_price", #<BigDecimal:7f885428e540,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:38:03 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:38:03 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 55], ["service_id", 38], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:38:03 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:38:03 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 57], ["service_id", 38], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:38:03 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:38:03 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 56], ["service_id", 38], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:38:03 UTC +00:00]]
  [1m[36m (48.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.7ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"37", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 37 LIMIT 1[0m
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (5.0ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:38:14 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:38:14 UTC +00:00]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 22 LIMIT 1
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:38:14 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 22], ["updated_at", Thu, 16 Jan 2014 21:38:14 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 22 LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:38:14 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 22], ["updated_at", Thu, 16 Jan 2014 21:38:14 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:38:14 UTC +00:00], ["customer_id", 20], ["service_id", 40], ["total_price", #<BigDecimal:7fe722c94d28,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:38:14 UTC +00:00]]
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:38:14 UTC +00:00], ["customer_id", 20], ["service_id", 40], ["total_price", #<BigDecimal:7fe726119148,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:38:14 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:38:14 UTC +00:00], ["customer_id", 20], ["service_id", 40], ["total_price", #<BigDecimal:7fe726278188,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:38:14 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.4ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:38:14 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 58], ["service_id", 40], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:38:14 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:38:14 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 60], ["service_id", 40], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:38:14 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:38:14 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 59], ["service_id", 40], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:38:14 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"40", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 20:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 40 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014-01-01 00:00:00.000000' AND '2014-01-01 00:00:00.000000') AND "stamp_time_slots"."service_id" = 40
  [1m[36mStamp::TimeSlot Load (0.9ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014-01-01 00:00:00.000000' AND '2014-01-01 00:00:00.000000') AND "stamp_time_slots"."service_id" = 40 ORDER BY "stamp_time_slots"."from" ASC[0m
Completed 200 OK in 85390ms (Views: 1.2ms | ActiveRecord: 1.8ms)
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (4.2ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:39:45 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:39:45 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 23 LIMIT 1
  [1m[36mSQL (2.1ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:39:45 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 23], ["updated_at", Thu, 16 Jan 2014 21:39:45 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 23 LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:39:45 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 23], ["updated_at", Thu, 16 Jan 2014 21:39:45 UTC +00:00]]
  [1m[35m (39.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 21]]
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:39:46 UTC +00:00], ["customer_id", 21], ["service_id", 42], ["total_price", #<BigDecimal:7fe003cb5c60,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:39:46 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 21]]
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:39:46 UTC +00:00], ["customer_id", 21], ["service_id", 42], ["total_price", #<BigDecimal:7fe0070c0910,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:39:46 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 21]]
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:39:46 UTC +00:00], ["customer_id", 21], ["service_id", 42], ["total_price", #<BigDecimal:7fe00721a1d0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:39:46 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:39:46 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 61], ["service_id", 42], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:39:46 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:39:46 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 63], ["service_id", 42], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:39:46 UTC +00:00]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:39:46 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 62], ["service_id", 42], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:39:46 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"42", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 20:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 42 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014-01-01 00:00:00.000000' AND '2014-01-02 20:00:00.000000') AND "stamp_time_slots"."service_id" = 42
  [1m[36mStamp::TimeSlot Load (1.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014-01-01 00:00:00.000000' AND '2014-01-02 20:00:00.000000') AND "stamp_time_slots"."service_id" = 42 ORDER BY "stamp_time_slots"."from" ASC[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.9ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:41:50 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:41:50 UTC +00:00]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 24 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:41:50 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 24], ["updated_at", Thu, 16 Jan 2014 21:41:50 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 24 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:41:50 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 24], ["updated_at", Thu, 16 Jan 2014 21:41:50 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 22]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:41:50 UTC +00:00], ["customer_id", 22], ["service_id", 44], ["total_price", #<BigDecimal:7fa6f1d4c7a0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:41:50 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 22]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:41:50 UTC +00:00], ["customer_id", 22], ["service_id", 44], ["total_price", #<BigDecimal:7fa6f1d79098,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:41:50 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 22]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:41:50 UTC +00:00], ["customer_id", 22], ["service_id", 44], ["total_price", #<BigDecimal:7fa6f2cbb600,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:41:50 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:41:50 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 64], ["service_id", 44], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:41:50 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:41:50 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 66], ["service_id", 44], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:41:50 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:41:50 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 65], ["service_id", 44], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:41:50 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"44", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 20:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 44 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014-01-01 00:00:00.000000' AND '2014-01-02 20:00:00.000000') AND "stamp_time_slots"."service_id" = 44 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 52]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 53]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 54]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 55]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 56]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 57]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 58]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 59]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 60]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 61]]
  [1m[35m (0.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 62]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 63]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 64]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 65]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 66]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (0.3ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 18]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 18]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 18]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 19]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 19]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 19]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 20]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 21]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 22]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 22]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 22]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 52]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 53]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 54]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 55]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 56]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 57]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 58]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 59]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 60]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 61]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 62]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 63]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 64]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 65]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 66]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 35]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 36]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 37]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 38]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 39]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 40]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 41]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 42]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 43]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 44]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.1ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 20]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 21]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 22]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 23]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 24]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (4.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:41:59 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:41:59 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 25 LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:42:00 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 25], ["updated_at", Thu, 16 Jan 2014 21:42:00 UTC +00:00]]
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 25 LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:42:00 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 25], ["updated_at", Thu, 16 Jan 2014 21:42:00 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 23]]
  [1m[36mSQL (2.8ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:42:00 UTC +00:00], ["customer_id", 23], ["service_id", 46], ["total_price", #<BigDecimal:7f9252cb71e0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:42:00 UTC +00:00]]
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 23]]
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:42:00 UTC +00:00], ["customer_id", 23], ["service_id", 46], ["total_price", #<BigDecimal:7f9252e267d8,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:42:00 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.8ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 23]]
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:42:00 UTC +00:00], ["customer_id", 23], ["service_id", 46], ["total_price", #<BigDecimal:7f9252f7f6c0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:42:00 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.8ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:42:00 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 67], ["service_id", 46], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:42:00 UTC +00:00]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:42:00 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 69], ["service_id", 46], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:42:00 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.1ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:42:00 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 68], ["service_id", 46], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:42:00 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"46", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 20:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (1.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 46 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (1.4ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014-01-01 00:00:00.000000' AND '2014-01-02 20:00:00.000000') AND "stamp_time_slots"."service_id" = 46 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 25401ms (Views: 1.4ms | ActiveRecord: 2.6ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.8ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 67]]
  [1m[36m (3.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.9ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 68]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 69]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (0.7ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (1.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 23]]
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 67]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 68]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 69]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 45]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 46]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.6ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 25]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (4.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:42:39 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:42:39 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 26 LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:42:39 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 26], ["updated_at", Thu, 16 Jan 2014 21:42:39 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 26 LIMIT 1
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:42:39 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 26], ["updated_at", Thu, 16 Jan 2014 21:42:39 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 24]]
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:42:39 UTC +00:00], ["customer_id", 24], ["service_id", 48], ["total_price", #<BigDecimal:7fb4143c0260,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:42:39 UTC +00:00]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 24]]
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:42:39 UTC +00:00], ["customer_id", 24], ["service_id", 48], ["total_price", #<BigDecimal:7fb415983818,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:42:39 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 24]]
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:42:39 UTC +00:00], ["customer_id", 24], ["service_id", 48], ["total_price", #<BigDecimal:7fb415ae0bc0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:42:39 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:42:40 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 70], ["service_id", 48], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:42:40 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:42:40 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 72], ["service_id", 48], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:42:40 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.4ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:42:40 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 71], ["service_id", 48], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:42:40 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"48", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 20:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 48 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (1.0ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014-01-01 00:00:00.000000' AND '2014-01-02 20:00:00.000000') AND "stamp_time_slots"."service_id" = 48 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 80967ms (Views: 0.9ms | ActiveRecord: 1.6ms)
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (1.0ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 70]]
  [1m[36m (101.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 71]]
  [1m[35m (649.2ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 72]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (0.7ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 24]]
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 24]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 24]]
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 70]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 71]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 72]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mStamp::Service Load (1.1ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 47]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 48]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.6ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 26]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (99.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (4.3ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:44:12 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:44:12 UTC +00:00]]
  [1m[35m (617.5ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 27 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:44:13 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 27], ["updated_at", Thu, 16 Jan 2014 21:44:13 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.5ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 27 LIMIT 1
  [1m[36mSQL (2.1ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:44:13 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 27], ["updated_at", Thu, 16 Jan 2014 21:44:13 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 25]]
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:44:13 UTC +00:00], ["customer_id", 25], ["service_id", 50], ["total_price", #<BigDecimal:7fef54c69f08,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:44:13 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 25]]
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:44:13 UTC +00:00], ["customer_id", 25], ["service_id", 50], ["total_price", #<BigDecimal:7fef5564a5e0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:44:13 UTC +00:00]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 25]]
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:44:13 UTC +00:00], ["customer_id", 25], ["service_id", 50], ["total_price", #<BigDecimal:7fef557a3ef0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:44:13 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:44:13 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 73], ["service_id", 50], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:44:13 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:44:13 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 75], ["service_id", 50], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:44:13 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:44:13 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 74], ["service_id", 50], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:44:13 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"50", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 20:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 50 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (1.3ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014-01-01 00:00:00.000000' AND '2014-01-02 20:00:00.000000') AND "stamp_time_slots"."service_id" = 50 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 129631ms (Views: 1.4ms | ActiveRecord: 2.0ms)
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (100.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (6.0ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:46:27 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:46:27 UTC +00:00]]
  [1m[35m (609.5ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 28 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:46:28 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 28], ["updated_at", Thu, 16 Jan 2014 21:46:28 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 28 LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:46:28 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 28], ["updated_at", Thu, 16 Jan 2014 21:46:28 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 26]]
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:46:28 UTC +00:00], ["customer_id", 26], ["service_id", 52], ["total_price", #<BigDecimal:7f882afb8920,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:46:28 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 26]]
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:46:28 UTC +00:00], ["customer_id", 26], ["service_id", 52], ["total_price", #<BigDecimal:7f8828f1ebb0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:46:28 UTC +00:00]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 26]]
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:46:28 UTC +00:00], ["customer_id", 26], ["service_id", 52], ["total_price", #<BigDecimal:7f882d080fe0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:46:28 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.2ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:46:28 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 76], ["service_id", 52], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:46:28 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:46:28 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 78], ["service_id", 52], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:46:28 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:46:28 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 77], ["service_id", 52], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:46:28 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.6ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"52", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 20:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 52 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.8ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014-01-01 00:00:00.000000' AND '2014-01-02 20:00:00.000000') AND "stamp_time_slots"."service_id" = 52 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 13688ms (Views: 1.1ms | ActiveRecord: 1.5ms)
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (1.6ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 73]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 74]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 75]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 76]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 77]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 78]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36mStamp::Reservation Load (0.7ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 25]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 25]]
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 25]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 26]]
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 26]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 26]]
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 73]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 74]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 75]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 76]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 77]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 78]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.8ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 49]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 50]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 51]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 52]]
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.7ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 27]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 28]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (2.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (4.9ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:47:08 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:47:08 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.8ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 29 LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:47:08 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 29], ["updated_at", Thu, 16 Jan 2014 21:47:08 UTC +00:00]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 29 LIMIT 1
  [1m[36mSQL (2.1ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:47:08 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 29], ["updated_at", Thu, 16 Jan 2014 21:47:08 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.8ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.9ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 27]]
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:47:08 UTC +00:00], ["customer_id", 27], ["service_id", 54], ["total_price", #<BigDecimal:7f9c949bd290,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:47:08 UTC +00:00]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 27]]
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:47:08 UTC +00:00], ["customer_id", 27], ["service_id", 54], ["total_price", #<BigDecimal:7f9c94a7cf50,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:47:08 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 27]]
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:47:08 UTC +00:00], ["customer_id", 27], ["service_id", 54], ["total_price", #<BigDecimal:7f9c94b553c8,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:47:08 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:47:08 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 79], ["service_id", 54], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:47:08 UTC +00:00]]
  [1m[36m (2.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:47:08 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 81], ["service_id", 54], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:47:08 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:47:08 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 80], ["service_id", 54], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:47:08 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"54", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 20:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (1.0ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 54 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.8ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014-01-01 00:00:00.000000' AND '2014-01-02 20:00:00.000000') AND "stamp_time_slots"."service_id" = 54 ORDER BY "stamp_time_slots"."from" ASC
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (100.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (4.2ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:48:30 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:48:30 UTC +00:00]]
  [1m[35m (614.9ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 30 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:48:31 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 30], ["updated_at", Thu, 16 Jan 2014 21:48:31 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.8ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 30 LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:48:31 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 30], ["updated_at", Thu, 16 Jan 2014 21:48:31 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 28]]
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:48:31 UTC +00:00], ["customer_id", 28], ["service_id", 56], ["total_price", #<BigDecimal:7fbe4b6f39c8,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:48:31 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 28]]
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:48:31 UTC +00:00], ["customer_id", 28], ["service_id", 56], ["total_price", #<BigDecimal:7fbe4a496848,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:48:31 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 28]]
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:48:31 UTC +00:00], ["customer_id", 28], ["service_id", 56], ["total_price", #<BigDecimal:7fbe4a5ef050,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:48:31 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:48:31 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 82], ["service_id", 56], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:48:31 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.6ms)[0m  begin transaction
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:48:31 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 84], ["service_id", 56], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:48:31 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:48:31 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 83], ["service_id", 56], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:48:31 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"56", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 20:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 56 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (1.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014-01-01 00:00:00.000000' AND '2014-01-02 20:00:00.000000') AND "stamp_time_slots"."service_id" = 56 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 40684ms (Views: 0.8ms | ActiveRecord: 1.9ms)
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (1.6ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.9ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.4ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 79]]
  [1m[36m (100.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.6ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 80]]
  [1m[35m (648.9ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 81]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 82]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 83]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 84]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36mStamp::Reservation Load (0.8ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 27]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 27]]
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 27]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 28]]
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 28]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 28]]
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 79]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 80]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.7ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 81]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 82]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 83]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 84]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.8ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 53]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 54]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 55]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 56]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (1.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (1.0ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 29]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 30]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (4.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:49:33 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:49:33 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 31 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:49:33 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 31], ["updated_at", Thu, 16 Jan 2014 21:49:33 UTC +00:00]]
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 31 LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:49:33 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 31], ["updated_at", Thu, 16 Jan 2014 21:49:33 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 29]]
  [1m[36mSQL (2.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:49:33 UTC +00:00], ["customer_id", 29], ["service_id", 58], ["total_price", #<BigDecimal:7f8eda1ac780,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:49:33 UTC +00:00]]
  [1m[35m (2.9ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 29]]
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:49:33 UTC +00:00], ["customer_id", 29], ["service_id", 58], ["total_price", #<BigDecimal:7f8edc9f3748,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:49:33 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 29]]
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:49:33 UTC +00:00], ["customer_id", 29], ["service_id", 58], ["total_price", #<BigDecimal:7f8edcb00708,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:49:33 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:49:33 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 85], ["service_id", 58], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:49:33 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36mSQL (5.6ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:49:33 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 87], ["service_id", 58], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:49:33 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:49:33 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 86], ["service_id", 58], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:49:33 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"58", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 20:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 58 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.9ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014-01-01 00:00:00.000000' AND '2014-01-02 20:00:00.000000') AND "stamp_time_slots"."service_id" = 58 ORDER BY "stamp_time_slots"."from" ASC
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (17.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (4.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:52:02 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:52:02 UTC +00:00]]
  [1m[35m (611.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.7ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 32 LIMIT 1
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:52:03 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 32], ["updated_at", Thu, 16 Jan 2014 21:52:03 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 32 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:52:03 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 32], ["updated_at", Thu, 16 Jan 2014 21:52:03 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 30]]
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:52:03 UTC +00:00], ["customer_id", 30], ["service_id", 60], ["total_price", #<BigDecimal:7fb2be92ee38,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:52:03 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 30]]
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:52:03 UTC +00:00], ["customer_id", 30], ["service_id", 60], ["total_price", #<BigDecimal:7fb2bea4f7b8,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:52:03 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 30]]
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:52:03 UTC +00:00], ["customer_id", 30], ["service_id", 60], ["total_price", #<BigDecimal:7fb2beaec888,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:52:03 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.1ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:52:03 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 88], ["service_id", 60], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:52:03 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:52:03 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 90], ["service_id", 60], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:52:03 UTC +00:00]]
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:52:03 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 89], ["service_id", 60], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:52:03 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"60", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 20:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 60 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.9ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014-01-01 00:00:00.000000' AND '2014-01-02 20:00:00.000000') AND "stamp_time_slots"."service_id" = 60 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 11621ms (Views: 0.9ms | ActiveRecord: 1.7ms)
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.9ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (1.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.5ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 85]]
  [1m[36m (100.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 86]]
  [1m[35m (647.6ms)[0m  commit transaction
  [1m[36m (0.8ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 87]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.9ms)[0m  begin transaction
  [1m[36mSQL (1.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 88]]
  [1m[35m (5.4ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 89]]
  [1m[36m (2.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 90]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36mStamp::Reservation Load (0.8ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 29]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 29]]
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 29]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 30]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 30]]
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 85]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 86]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 87]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 88]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 89]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 90]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.8ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 57]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.9ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 58]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 59]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 60]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.7ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.8ms)[0m  begin transaction
  [1m[36mSQL (1.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 31]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 32]]
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.7ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:54:28 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:54:28 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 33 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:54:28 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 33], ["updated_at", Thu, 16 Jan 2014 21:54:28 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 33 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:54:28 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 33], ["updated_at", Thu, 16 Jan 2014 21:54:28 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 31]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:54:28 UTC +00:00], ["customer_id", 31], ["service_id", 62], ["total_price", #<BigDecimal:7f9c3aec87f8,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:54:28 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 31]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:54:28 UTC +00:00], ["customer_id", 31], ["service_id", 62], ["total_price", #<BigDecimal:7f9c3aef5028,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:54:28 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 31]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:54:28 UTC +00:00], ["customer_id", 31], ["service_id", 62], ["total_price", #<BigDecimal:7f9c3af5f608,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:54:28 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:54:28 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 91], ["service_id", 62], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:54:28 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:54:28 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 93], ["service_id", 62], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:54:28 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:54:28 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 92], ["service_id", 62], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:54:28 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"62", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 20:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 62 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014-01-01 00:00:00.000000' AND '2014-01-02 20:00:00.000000') AND "stamp_time_slots"."service_id" = 62 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 91]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 92]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 93]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 31]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 31]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 31]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 91]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 92]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 93]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.1ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 61]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 62]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.5ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 33]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.7ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (1.0ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (0.7ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.8ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (0.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (0.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (0.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (0.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (0.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141804')
  [1m[36m (0.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141810')[0m
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:55:19 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:55:19 UTC +00:00]]
  [1m[35m (1.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:55:19 UTC +00:00], ["name", "service type 2"], ["updated_at", Thu, 16 Jan 2014 21:55:19 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "owner_id"=>"1"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 57ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"service 1", "external_id"=>"external 1", "opening_hours"=>"36000", "closing_hours"=>"72000", "period_size"=>"1800", "payment_method"=>"0", "owner_id"=>"1", "service_type_id"=>"2"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 2 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:55:19 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 2], ["updated_at", Thu, 16 Jan 2014 21:55:19 UTC +00:00]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type"=>"1"}}
Unpermitted parameters: service_type
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 6ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = -1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 4ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.1ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 2]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name") VALUES (?)[0m  [["name", "Test User"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:55:19 UTC +00:00], ["name", "service type 3"], ["updated_at", Thu, 16 Jan 2014 21:55:19 UTC +00:00]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:55:19 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 3], ["updated_at", Thu, 16 Jan 2014 21:55:19 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:55:19 UTC +00:00], ["external_id", "external 3"], ["name", "service 3"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 3], ["updated_at", Thu, 16 Jan 2014 21:55:19 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:55:19 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:7f87a089a970,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:55:19 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:55:19 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:7f87a08b2de0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:55:19 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:55:19 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:7f87a08c0468,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:55:19 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:55:19 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 1], ["service_id", 2], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:55:19 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:55:19 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 3], ["service_id", 2], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:55:19 UTC +00:00]]
  [1m[36m (1.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:55:19 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 2], ["service_id", 2], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:55:19 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"1", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 1 LIMIT 1
  [1m[36mStamp::TimeSlot Load (0.1ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013-01-01 00:00:00.000000' AND '2015-01-01 00:00:00.000000') AND "stamp_time_slots"."service_id" = 1 ORDER BY "stamp_time_slots"."from" ASC[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"2", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 2 LIMIT 1
  [1m[36mStamp::TimeSlot Load (0.1ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013-01-01 00:00:00.000000' AND '2015-01-01 00:00:00.000000') AND "stamp_time_slots"."service_id" = 2 ORDER BY "stamp_time_slots"."from" ASC[0m
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"1", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 00:00:00"}
Unpermitted parameters: from, to
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 1 LIMIT 1
  [1m[36mStamp::TimeSlot Load (0.1ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014-01-01 00:00:00.000000' AND '2014-01-02 00:00:00.000000') AND "stamp_time_slots"."service_id" = 1 ORDER BY "stamp_time_slots"."from" ASC[0m
Completed 200 OK in 6ms (Views: 3.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"2", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 20:00:00"}
Unpermitted parameters: from, to
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 2 LIMIT 1
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014-01-01 00:00:00.000000' AND '2014-01-02 20:00:00.000000') AND "stamp_time_slots"."service_id" = 2 ORDER BY "stamp_time_slots"."from" ASC[0m
Completed 200 OK in 3ms (Views: 0.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.1ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 2]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 3]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 1]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 2]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 3]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 1]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 2]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.1ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 3]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.8ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:56:47 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:56:47 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 4 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:56:47 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 4], ["updated_at", Thu, 16 Jan 2014 21:56:47 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 4 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:56:47 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 4], ["updated_at", Thu, 16 Jan 2014 21:56:47 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:56:47 UTC +00:00], ["customer_id", 2], ["service_id", 4], ["total_price", #<BigDecimal:7fddc3dcea30,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:56:47 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:56:47 UTC +00:00], ["customer_id", 2], ["service_id", 4], ["total_price", #<BigDecimal:7fddc4e8fae0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:56:47 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:56:47 UTC +00:00], ["customer_id", 2], ["service_id", 4], ["total_price", #<BigDecimal:7fddc4ebc4a0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:56:47 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:56:47 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 4], ["service_id", 4], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:56:47 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:56:47 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 6], ["service_id", 4], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:56:47 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:56:47 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 5], ["service_id", 4], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:56:47 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"4", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 20:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 4 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014-01-01 00:00:00.000000' AND '2014-01-02 20:00:00.000000') AND "stamp_time_slots"."service_id" = 4 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 4]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 5]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 6]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 4]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 5]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 3]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 4]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 4]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (6.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:56:56 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:56:56 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 5 LIMIT 1
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:56:56 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 5], ["updated_at", Thu, 16 Jan 2014 21:56:56 UTC +00:00]]
  [1m[35m (2.8ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 5 LIMIT 1
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:56:56 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 5], ["updated_at", Thu, 16 Jan 2014 21:56:56 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:56:57 UTC +00:00], ["customer_id", 3], ["service_id", 6], ["total_price", #<BigDecimal:7f8fd39c18b8,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:56:57 UTC +00:00]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:56:57 UTC +00:00], ["customer_id", 3], ["service_id", 6], ["total_price", #<BigDecimal:7f8fd6803848,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:56:57 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:56:57 UTC +00:00], ["customer_id", 3], ["service_id", 6], ["total_price", #<BigDecimal:7f8fd6960088,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:56:57 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.1ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:56:57 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 7], ["service_id", 6], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:56:57 UTC +00:00]]
  [1m[36m (2.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:56:57 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 9], ["service_id", 6], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:56:57 UTC +00:00]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.9ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:56:57 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 8], ["service_id", 6], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:56:57 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"6", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 20:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 6 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.9ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014-01-01 00:00:00.000000' AND '2014-01-02 20:00:00.000000') AND "stamp_time_slots"."service_id" = 6 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 36357ms (Views: 1.4ms | ActiveRecord: 1.6ms)
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (4.9ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:57:38 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:57:38 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.7ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 6 LIMIT 1
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:57:38 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 6], ["updated_at", Thu, 16 Jan 2014 21:57:38 UTC +00:00]]
  [1m[35m (2.9ms)[0m  commit transaction
  [1m[36m (0.9ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.8ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 6 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:57:38 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 6], ["updated_at", Thu, 16 Jan 2014 21:57:38 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:57:38 UTC +00:00], ["customer_id", 4], ["service_id", 8], ["total_price", #<BigDecimal:7feb93fb1090,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:57:38 UTC +00:00]]
  [1m[35m (3.0ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:57:38 UTC +00:00], ["customer_id", 4], ["service_id", 8], ["total_price", #<BigDecimal:7feb95919a28,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:57:38 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:57:38 UTC +00:00], ["customer_id", 4], ["service_id", 8], ["total_price", #<BigDecimal:7feb95a79378,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:57:38 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.1ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:57:38 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 10], ["service_id", 8], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:57:38 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:57:38 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 12], ["service_id", 8], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:57:38 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.9ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:57:38 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 11], ["service_id", 8], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:57:38 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"8", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 20:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.7ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 8 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.9ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014-01-01 00:00:00.000000' AND '2014-01-02 20:00:00.000000') AND "stamp_time_slots"."service_id" = 8 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 75946ms (Views: 1.4ms | ActiveRecord: 1.7ms)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.6ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:58:58 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:58:58 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 7 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:58:58 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 7], ["updated_at", Thu, 16 Jan 2014 21:58:58 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 7 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:58:58 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 7], ["updated_at", Thu, 16 Jan 2014 21:58:58 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:58:58 UTC +00:00], ["customer_id", 5], ["service_id", 10], ["total_price", #<BigDecimal:7ffd0455aab0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:58:58 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:58:58 UTC +00:00], ["customer_id", 5], ["service_id", 10], ["total_price", #<BigDecimal:7ffd045bbab8,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:58:58 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:58:58 UTC +00:00], ["customer_id", 5], ["service_id", 10], ["total_price", #<BigDecimal:7ffd04220480,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:58:58 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:58:58 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 13], ["service_id", 10], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:58:58 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:58:58 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 15], ["service_id", 10], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:58:58 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:58:58 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 14], ["service_id", 10], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:58:58 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"10", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 20:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 10 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014-01-01 00:00:00.000000' AND '2014-01-02 20:00:00.000000') AND "stamp_time_slots"."service_id" = 10 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 9ms (Views: 2.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 7]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 8]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 9]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 10]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 11]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 12]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 13]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 14]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 15]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (0.3ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 3]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 4]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 4]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 5]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 5]]
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 7]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 8]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 9]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 10]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 11]]
  [1m[35m (0.4ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 12]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 13]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 14]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 15]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 5]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 6]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 7]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 8]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 9]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 10]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.1ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 5]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 6]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 7]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (1.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (4.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:59:11 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 21:59:11 UTC +00:00]]
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 8 LIMIT 1
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:59:11 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 8], ["updated_at", Thu, 16 Jan 2014 21:59:11 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 8 LIMIT 1
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 21:59:11 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 8], ["updated_at", Thu, 16 Jan 2014 21:59:11 UTC +00:00]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:59:11 UTC +00:00], ["customer_id", 6], ["service_id", 12], ["total_price", #<BigDecimal:7fd93bbca7c0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:59:11 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:59:11 UTC +00:00], ["customer_id", 6], ["service_id", 12], ["total_price", #<BigDecimal:7fd93bd30718,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:59:11 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mSQL (1.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:59:11 UTC +00:00], ["customer_id", 6], ["service_id", 12], ["total_price", #<BigDecimal:7fd93be316d0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 21:59:11 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.1ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:59:11 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 16], ["service_id", 12], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:59:11 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 21:59:11 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 18], ["service_id", 12], ["units", 3], ["updated_at", Thu, 16 Jan 2014 21:59:11 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 21:59:11 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 17], ["service_id", 12], ["units", 1], ["updated_at", Thu, 16 Jan 2014 21:59:11 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"12", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 20:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.8ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 12 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (1.3ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014-01-01 00:00:00.000000' AND '2014-01-02 20:00:00.000000') AND "stamp_time_slots"."service_id" = 12 ORDER BY "stamp_time_slots"."from" ASC
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (2.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.8ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:00:46 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 22:00:46 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 9 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 22:00:46 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 9], ["updated_at", Thu, 16 Jan 2014 22:00:46 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 9 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 22:00:46 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 9], ["updated_at", Thu, 16 Jan 2014 22:00:46 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:00:46 UTC +00:00], ["customer_id", 7], ["service_id", 14], ["total_price", #<BigDecimal:7feab654ea68,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 22:00:46 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:00:46 UTC +00:00], ["customer_id", 7], ["service_id", 14], ["total_price", #<BigDecimal:7feab65abb78,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 22:00:46 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:00:46 UTC +00:00], ["customer_id", 7], ["service_id", 14], ["total_price", #<BigDecimal:7feab6154480,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 22:00:46 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 22:00:46 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 19], ["service_id", 14], ["units", 1], ["updated_at", Thu, 16 Jan 2014 22:00:46 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:00:46 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 21], ["service_id", 14], ["units", 3], ["updated_at", Thu, 16 Jan 2014 22:00:46 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 22:00:46 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 20], ["service_id", 14], ["units", 1], ["updated_at", Thu, 16 Jan 2014 22:00:46 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"14", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 20:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 14 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014-01-01 00:00:00.000000' AND '2014-01-02 20:00:00.000000') AND "stamp_time_slots"."service_id" = 14 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 9ms (Views: 2.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 16]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 17]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 18]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 19]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 20]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 21]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 6]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 6]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 7]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 7]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 16]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 17]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 18]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 19]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 20]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 21]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 11]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 12]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 13]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 14]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.1ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 8]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 9]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.8ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 16 Jan 2014 22:01:00 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 22:01:00 UTC +00:00]]
  [1m[36m (100.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:01:00 UTC +00:00], ["name", "service type 2"], ["updated_at", Thu, 16 Jan 2014 22:01:00 UTC +00:00]]
  [1m[35m (663.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type"=>"10"}}
Unpermitted parameters: service_type
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 24ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = -1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 5ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"service 1", "external_id"=>"external 1", "opening_hours"=>"36000", "closing_hours"=>"72000", "period_size"=>"1800", "payment_method"=>"0", "owner_id"=>"1", "service_type_id"=>"11"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 11 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 22:01:00 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 11], ["updated_at", Thu, 16 Jan 2014 22:01:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 6ms (Views: 0.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 10]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 11]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mStamp::ServiceType Load (1.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.8ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 16 Jan 2014 22:11:57 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 22:11:57 UTC +00:00]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:11:57 UTC +00:00], ["name", "service type 2"], ["updated_at", Thu, 16 Jan 2014 22:11:57 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = -1 LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 51ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type"=>"12"}}
Unpermitted parameters: service_type
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 7ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 6ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"service 1", "external_id"=>"external 1", "opening_hours"=>"36000", "closing_hours"=>"72000", "period_size"=>"1800", "payment_method"=>"0", "owner_id"=>"1", "service_type_id"=>"13"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 13 LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 22:11:57 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 13], ["updated_at", Thu, 16 Jan 2014 22:11:57 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 12]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 13]]
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.6ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:15:09 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 22:15:09 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 14 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 22:15:09 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 14], ["updated_at", Thu, 16 Jan 2014 22:15:09 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 14 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 22:15:09 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 14], ["updated_at", Thu, 16 Jan 2014 22:15:09 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:15:09 UTC +00:00], ["customer_id", 8], ["service_id", 16], ["total_price", #<BigDecimal:7fcce4856d40,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 22:15:09 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:15:09 UTC +00:00], ["customer_id", 8], ["service_id", 16], ["total_price", #<BigDecimal:7fcce19fe3d0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 22:15:09 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:15:09 UTC +00:00], ["customer_id", 8], ["service_id", 16], ["total_price", #<BigDecimal:7fcce488ae10,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 22:15:09 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 22:15:09 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 22], ["service_id", 16], ["units", 1], ["updated_at", Thu, 16 Jan 2014 22:15:09 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:15:09 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 24], ["service_id", 16], ["units", 3], ["updated_at", Thu, 16 Jan 2014 22:15:09 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 22:15:09 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 23], ["service_id", 16], ["units", 1], ["updated_at", Thu, 16 Jan 2014 22:15:09 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"-1", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = -1 LIMIT 1[0m
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 22]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 23]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 24]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 8]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 8]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 22]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 23]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 24]]
  [1m[36m (0.4ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 15]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 16]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 14]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (3.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (4.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:15:33 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 22:15:33 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 15 LIMIT 1
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 22:15:33 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 15], ["updated_at", Thu, 16 Jan 2014 22:15:33 UTC +00:00]]
  [1m[35m (2.5ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.6ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 15 LIMIT 1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 22:15:33 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 15], ["updated_at", Thu, 16 Jan 2014 22:15:33 UTC +00:00]]
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mSQL (1.7ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:15:33 UTC +00:00], ["customer_id", 9], ["service_id", 18], ["total_price", #<BigDecimal:7fe3a4bf7ae0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 22:15:33 UTC +00:00]]
  [1m[35m (2.4ms)[0m  commit transaction
  [1m[36m (0.8ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (1.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:15:33 UTC +00:00], ["customer_id", 9], ["service_id", 18], ["total_price", #<BigDecimal:7fe3a4cbc548,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 22:15:33 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mSQL (1.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:15:33 UTC +00:00], ["customer_id", 9], ["service_id", 18], ["total_price", #<BigDecimal:7fe3a4df5388,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 22:15:33 UTC +00:00]]
  [1m[35m (1.2ms)[0m  commit transaction
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (2.5ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 22:15:33 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 25], ["service_id", 18], ["units", 1], ["updated_at", Thu, 16 Jan 2014 22:15:33 UTC +00:00]]
  [1m[36m (2.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
  [1m[36mSQL (1.8ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:15:34 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 27], ["service_id", 18], ["units", 3], ["updated_at", Thu, 16 Jan 2014 22:15:34 UTC +00:00]]
  [1m[35m (1.1ms)[0m  commit transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (1.8ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 22:15:34 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 26], ["service_id", 18], ["units", 1], ["updated_at", Thu, 16 Jan 2014 22:15:34 UTC +00:00]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"-1", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.8ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = -1 LIMIT 1[0m
Completed 400 Bad Request in 12956ms (Views: 0.7ms | ActiveRecord: 0.8ms)
  [1m[35m (0.6ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.9ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35m (0.9ms)[0m  begin transaction
  [1m[36mSQL (1.5ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 25]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (2.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (36.6ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:17:04 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 22:17:04 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 16 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 22:17:04 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 16], ["updated_at", Thu, 16 Jan 2014 22:17:04 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 16 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 22:17:04 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 16], ["updated_at", Thu, 16 Jan 2014 22:17:04 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:17:04 UTC +00:00], ["customer_id", 10], ["service_id", 20], ["total_price", #<BigDecimal:7fc66c1fabf0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 22:17:04 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:17:04 UTC +00:00], ["customer_id", 10], ["service_id", 20], ["total_price", #<BigDecimal:7fc66c25f898,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 22:17:04 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:17:04 UTC +00:00], ["customer_id", 10], ["service_id", 20], ["total_price", #<BigDecimal:7fc66d232478,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 22:17:04 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 22:17:04 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 28], ["service_id", 20], ["units", 1], ["updated_at", Thu, 16 Jan 2014 22:17:04 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:17:04 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 30], ["service_id", 20], ["units", 3], ["updated_at", Thu, 16 Jan 2014 22:17:04 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 22:17:04 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 29], ["service_id", 20], ["units", 1], ["updated_at", Thu, 16 Jan 2014 22:17:04 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"-1", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = -1 LIMIT 1[0m
Completed 400 Bad Request in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.3ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 25]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 26]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 27]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 28]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 29]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 30]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (0.3ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 9]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 9]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 10]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 10]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 25]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 26]]
  [1m[35m (2.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 27]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 28]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 29]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 30]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 17]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 18]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 19]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 20]]
  [1m[36m (1.1ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.3ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 15]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 16]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (2.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (25.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:17:19 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 22:17:19 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 17 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 22:17:19 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 17], ["updated_at", Thu, 16 Jan 2014 22:17:19 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 17 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 22:17:19 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 17], ["updated_at", Thu, 16 Jan 2014 22:17:19 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:17:19 UTC +00:00], ["customer_id", 11], ["service_id", 22], ["total_price", #<BigDecimal:7ffc1c822c18,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 22:17:19 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:17:19 UTC +00:00], ["customer_id", 11], ["service_id", 22], ["total_price", #<BigDecimal:7ffc1c88f908,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 22:17:19 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:17:19 UTC +00:00], ["customer_id", 11], ["service_id", 22], ["total_price", #<BigDecimal:7ffc1c8a2490,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 22:17:19 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 22:17:19 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 31], ["service_id", 22], ["units", 1], ["updated_at", Thu, 16 Jan 2014 22:17:19 UTC +00:00]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:17:19 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 33], ["service_id", 22], ["units", 3], ["updated_at", Thu, 16 Jan 2014 22:17:19 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 22:17:19 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 32], ["service_id", 22], ["units", 1], ["updated_at", Thu, 16 Jan 2014 22:17:19 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"-1", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = -1 LIMIT 1[0m
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.1ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 31]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 32]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 33]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 11]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 11]]
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 31]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 32]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 33]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 21]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 22]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 17]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (99.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (25.7ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:17:48 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 22:17:48 UTC +00:00]]
  [1m[35m (622.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 18 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 22:17:48 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 18], ["updated_at", Thu, 16 Jan 2014 22:17:48 UTC +00:00]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 18 LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 22:17:48 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 18], ["updated_at", Thu, 16 Jan 2014 22:17:48 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:17:48 UTC +00:00], ["customer_id", 12], ["service_id", 24], ["total_price", #<BigDecimal:7fd15a75f908,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 22:17:48 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:17:48 UTC +00:00], ["customer_id", 12], ["service_id", 24], ["total_price", #<BigDecimal:7fd15a7ef5d0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 22:17:48 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:17:48 UTC +00:00], ["customer_id", 12], ["service_id", 24], ["total_price", #<BigDecimal:7fd15a7a24b0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 22:17:48 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 22:17:48 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 34], ["service_id", 24], ["units", 1], ["updated_at", Thu, 16 Jan 2014 22:17:48 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:17:48 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 36], ["service_id", 24], ["units", 3], ["updated_at", Thu, 16 Jan 2014 22:17:48 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 22:17:48 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 35], ["service_id", 24], ["units", 1], ["updated_at", Thu, 16 Jan 2014 22:17:48 UTC +00:00]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"-1", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = -1 LIMIT 1[0m
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.1ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 34]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 35]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 36]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 12]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 12]]
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 34]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 35]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 36]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Service Load (0.4ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 23]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 24]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.1ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 18]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (3.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Thu, 16 Jan 2014 22:19:36 UTC +00:00], ["name", "service type 1"], ["updated_at", Thu, 16 Jan 2014 22:19:36 UTC +00:00]]
  [1m[36m (3.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:19:36 UTC +00:00], ["name", "service type 2"], ["updated_at", Thu, 16 Jan 2014 22:19:36 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type"=>"19"}}
Unpermitted parameters: service_type
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 51ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = -1 LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 5ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 7ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"service 1", "external_id"=>"external 1", "opening_hours"=>"36000", "closing_hours"=>"72000", "period_size"=>"1800", "payment_method"=>"0", "owner_id"=>"1", "service_type_id"=>"20"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 20 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 22:19:36 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 20], ["updated_at", Thu, 16 Jan 2014 22:19:36 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (1.9ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 19]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 20]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:19:36 UTC +00:00], ["name", "service type 3"], ["updated_at", Thu, 16 Jan 2014 22:19:36 UTC +00:00]]
  [1m[35m (0.5ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 21 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 22:19:36 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 21], ["updated_at", Thu, 16 Jan 2014 22:19:36 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 21 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Thu, 16 Jan 2014 22:19:36 UTC +00:00], ["external_id", "external 3"], ["name", "service 3"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 21], ["updated_at", Thu, 16 Jan 2014 22:19:36 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:19:36 UTC +00:00], ["customer_id", 13], ["service_id", 26], ["total_price", #<BigDecimal:7fdaed7b6bd0,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 22:19:36 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:19:36 UTC +00:00], ["customer_id", 13], ["service_id", 26], ["total_price", #<BigDecimal:7fdaed7d1e80,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 22:19:36 UTC +00:00]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:19:36 UTC +00:00], ["customer_id", 13], ["service_id", 26], ["total_price", #<BigDecimal:7fdaed7ea8b8,'0.1E3',9(36)>], ["updated_at", Thu, 16 Jan 2014 22:19:36 UTC +00:00]]
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 22:19:36 UTC +00:00], ["from", Wed, 01 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 37], ["service_id", 26], ["units", 1], ["updated_at", Thu, 16 Jan 2014 22:19:36 UTC +00:00]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Thu, 16 Jan 2014 22:19:36 UTC +00:00], ["from", Thu, 02 Jan 2014 12:00:00 UTC +00:00], ["reservation_id", 39], ["service_id", 26], ["units", 3], ["updated_at", Thu, 16 Jan 2014 22:19:36 UTC +00:00]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_time_slots" ("created_at", "from", "reservation_id", "service_id", "units", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Thu, 16 Jan 2014 22:19:36 UTC +00:00], ["from", Thu, 02 Jan 2014 10:00:00 UTC +00:00], ["reservation_id", 38], ["service_id", 26], ["units", 1], ["updated_at", Thu, 16 Jan 2014 22:19:36 UTC +00:00]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"-1", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.3ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = -1 LIMIT 1[0m
Completed 400 Bad Request in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"26", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 26 LIMIT 1
  [1m[36mStamp::TimeSlot Load (0.3ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013-01-01 00:00:00.000000' AND '2015-01-01 00:00:00.000000') AND "stamp_time_slots"."service_id" = 26 ORDER BY "stamp_time_slots"."from" ASC[0m
Completed 200 OK in 9ms (Views: 0.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#booked_slots as HTML
  Parameters: {"service_id"=>"25", "from"=>"2013/01/01 00:00:00", "to"=>"2015/01/01 00:00:00"}
Unpermitted parameters: from, to
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 25 LIMIT 1
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2013-01-01 00:00:00.000000' AND '2015-01-01 00:00:00.000000') AND "stamp_time_slots"."service_id" = 25 ORDER BY "stamp_time_slots"."from" ASC[0m
Completed 200 OK in 3ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"-1", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 00:00:00"}
Unpermitted parameters: from, to
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = -1 LIMIT 1
Completed 400 Bad Request in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"26", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 20:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 26 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014-01-01 00:00:00.000000' AND '2014-01-02 20:00:00.000000') AND "stamp_time_slots"."service_id" = 26 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 7ms (Views: 3.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ServicesController#availability as HTML
  Parameters: {"service_id"=>"25", "from"=>"2014/01/01 00:00:00", "to"=>"2014/01/02 00:00:00"}
Unpermitted parameters: from, to
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" WHERE "stamp_services"."id" = 25 LIMIT 1[0m
  [1m[35mStamp::TimeSlot Load (0.1ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots" WHERE ("stamp_time_slots"."from" BETWEEN '2014-01-01 00:00:00.000000' AND '2014-01-02 00:00:00.000000') AND "stamp_time_slots"."service_id" = 25 ORDER BY "stamp_time_slots"."from" ASC
Completed 200 OK in 9ms (Views: 5.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 37]]
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?[0m  [["id", 38]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_time_slots" WHERE "stamp_time_slots"."id" = ?  [["id", 39]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 13]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 13]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 37]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 38]]
  [1m[36m (0.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 39]]
  [1m[35m (0.6ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 25]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 26]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.1ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 21]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
  [1m[36m (17.4ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.8ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (12.6ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.6ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.3ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.4ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (16.8ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (33.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (14.7ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (24.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.5ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (14.3ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.5ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (28.4ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (12.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (15.0ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (16.2ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.3ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.7ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (24.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (29.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 01:48:34 UTC +00:00], ["name", "service type 1"], ["updated_at", Mon, 20 Jan 2014 01:48:34 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Mon, 20 Jan 2014 01:48:34 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Mon, 20 Jan 2014 01:48:34 UTC +00:00]]
  [1m[35m (13.2ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 01:48:34 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9c2d6a8,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 01:48:34 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 1]]
  [1m[36m (13.5ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.3ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 1]]
  [1m[36m (13.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 01:48:34 UTC +00:00], ["name", "service type 2"], ["updated_at", Mon, 20 Jan 2014 01:48:34 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Mon, 20 Jan 2014 01:48:34 UTC +00:00], ["name", "service type 3"], ["updated_at", Mon, 20 Jan 2014 01:48:34 UTC +00:00]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"service 2", "external_id"=>"external 2", "opening_hours"=>"36000", "closing_hours"=>"72000", "period_size"=>"1800", "payment_method"=>"0", "owner_id"=>"1", "service_type_id"=>"3"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 3 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 72000], ["created_at", Mon, 20 Jan 2014 01:48:34 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 3], ["updated_at", Mon, 20 Jan 2014 01:48:34 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type_id"=>"-1", "owner_id"=>"1"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = -1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 11ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_services"
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "owner_id"=>"1"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStamp::ServiceType Exists (0.1ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 6ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
Processing by Stamp::Api::V1::ServicesController#create as HTML
  Parameters: {"service"=>{"name"=>"Bakery 1", "external_id"=>"external", "opening_hours"=>"10:00", "closing_hours"=>"24:00", "period_size"=>"1.0", "service_type"=>"2"}}
Unpermitted parameters: service_type
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStamp::ServiceType Exists (0.1ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 422 Unprocessable Entity in 7ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 2]]
  [1m[35m (16.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 3]]
  [1m[36m (13.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name") VALUES (?)[0m  [["name", "Test User"]]
  [1m[35m (12.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Mon, 20 Jan 2014 01:48:34 UTC +00:00], ["name", "service type 4"], ["updated_at", Mon, 20 Jan 2014 01:48:34 UTC +00:00]]
  [1m[36m (13.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 72000], ["created_at", Mon, 20 Jan 2014 01:48:34 UTC +00:00], ["external_id", "external 3"], ["name", "service 3"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 4], ["updated_at", Mon, 20 Jan 2014 01:48:34 UTC +00:00]]
  [1m[36m (13.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 4 LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 72000], ["created_at", Mon, 20 Jan 2014 01:48:34 UTC +00:00], ["external_id", "external 4"], ["name", "service 4"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 4], ["updated_at", Mon, 20 Jan 2014 01:48:34 UTC +00:00]]
  [1m[36m (12.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Mon, 20 Jan 2014 01:48:34 UTC +00:00], ["customer_id", 2], ["service_id", 3], ["total_price", #<BigDecimal:a9edc0c,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 01:48:34 UTC +00:00]]
  [1m[36m (12.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Mon, 20 Jan 2014 01:48:35 UTC +00:00], ["customer_id", 2], ["service_id", 3], ["total_price", #<BigDecimal:a9f0060,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 01:48:35 UTC +00:00]]
  [1m[36m (13.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Mon, 20 Jan 2014 01:48:35 UTC +00:00], ["customer_id", 2], ["service_id", 3], ["total_price", #<BigDecimal:aa06b30,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 01:48:35 UTC +00:00]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::PreReservation Load (0.2ms)[0m  SELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations" ORDER BY "stamp_pre_reservations"."id" ASC LIMIT 1
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 1]]
  [1m[35m (12.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 2]]
  [1m[36m (12.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 3]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.3ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 2]]
  [1m[35m (12.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 3]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.3ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 4]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[36m (15.0ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.3ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (22.3ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (23.7ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (27.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (16.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.8ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 01:48:57 UTC +00:00], ["name", "service type 1"], ["updated_at", Mon, 20 Jan 2014 01:48:57 UTC +00:00]]
  [1m[35m (13.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Mon, 20 Jan 2014 01:48:57 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Mon, 20 Jan 2014 01:48:57 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 01:48:57 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:abdb578,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 01:48:57 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 1]]
  [1m[36m (13.1ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.3ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 1]]
  [1m[36m (13.0ms)[0m  [1mcommit transaction[0m
  [1m[36m (15.0ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.9ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.4ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (14.2ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (29.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.9ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 01:49:23 UTC +00:00], ["name", "service type 1"], ["updated_at", Mon, 20 Jan 2014 01:49:23 UTC +00:00]]
  [1m[35m (24.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Mon, 20 Jan 2014 01:49:23 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Mon, 20 Jan 2014 01:49:23 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 01:49:23 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:aae27d4,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 01:49:23 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (12.9ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (17.1ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.2ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (17.6ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (17.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (17.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 01:53:20 UTC +00:00], ["name", "service type 1"], ["updated_at", Mon, 20 Jan 2014 01:53:20 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Mon, 20 Jan 2014 01:53:20 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Mon, 20 Jan 2014 01:53:20 UTC +00:00]]
  [1m[35m (22.1ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 01:53:20 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a5435f8,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 01:53:20 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 1]]
  [1m[36m (12.9ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.3ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 1]]
  [1m[36m (13.1ms)[0m  [1mcommit transaction[0m
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.7ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.2ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (17.4ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.0ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.9ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 22:23:32 UTC +00:00], ["name", "service type 1"], ["updated_at", Mon, 20 Jan 2014 22:23:32 UTC +00:00]]
  [1m[35m (13.2ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Mon, 20 Jan 2014 22:23:32 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Mon, 20 Jan 2014 22:23:32 UTC +00:00]]
  [1m[35m (13.2ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Mon, 20 Jan 2014 22:23:32 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9bb8fb0,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 22:23:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 22:23:32 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9c092e4,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 22:23:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (29.6ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (18.9ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.5ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (14.1ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (2.8ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 22:38:08 UTC +00:00], ["name", "service type 1"], ["updated_at", Mon, 20 Jan 2014 22:38:08 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Mon, 20 Jan 2014 22:38:08 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Mon, 20 Jan 2014 22:38:08 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 22:38:08 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9820240,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 22:38:08 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (14.1ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.1ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.9ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (11.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (10.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (271.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (4.2ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 22:41:15 UTC +00:00], ["name", "service type 1"], ["updated_at", Mon, 20 Jan 2014 22:41:15 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Mon, 20 Jan 2014 22:41:15 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Mon, 20 Jan 2014 22:41:15 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 22:41:15 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:964c338,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 22:41:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.0ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (24.8ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.2ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.0ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.8ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.8ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 22:43:52 UTC +00:00], ["name", "service type 1"], ["updated_at", Mon, 20 Jan 2014 22:43:52 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Mon, 20 Jan 2014 22:43:52 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Mon, 20 Jan 2014 22:43:52 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 22:43:52 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:acf2fc4,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 22:43:52 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (15.6ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.8ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.0ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (12.8ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.8ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (17.1ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (24.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (3.8ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 22:44:33 UTC +00:00], ["name", "service type 1"], ["updated_at", Mon, 20 Jan 2014 22:44:33 UTC +00:00]]
  [1m[35m (13.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Mon, 20 Jan 2014 22:44:33 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Mon, 20 Jan 2014 22:44:33 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 22:44:33 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:93308fc,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 22:44:33 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (15.1ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.7ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.3ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (17.1ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.2ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 22:45:18 UTC +00:00], ["name", "service type 1"], ["updated_at", Mon, 20 Jan 2014 22:45:18 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Mon, 20 Jan 2014 22:45:18 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Mon, 20 Jan 2014 22:45:18 UTC +00:00]]
  [1m[35m (12.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 22:45:18 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a9c09b4,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 22:45:18 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (14.8ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.4ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (16.8ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.0ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 22:50:09 UTC +00:00], ["name", "service type 1"], ["updated_at", Mon, 20 Jan 2014 22:50:09 UTC +00:00]]
  [1m[35m (24.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Mon, 20 Jan 2014 22:50:10 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Mon, 20 Jan 2014 22:50:10 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 19ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 22:50:10 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:969aa10,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 22:50:10 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.2ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (17.0ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (28.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 22:51:26 UTC +00:00], ["name", "service type 1"], ["updated_at", Mon, 20 Jan 2014 22:51:26 UTC +00:00]]
  [1m[35m (24.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Mon, 20 Jan 2014 22:51:26 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Mon, 20 Jan 2014 22:51:26 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 22:51:26 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9f83258,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 22:51:26 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (15.4ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.4ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (17.3ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (31.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 22:52:32 UTC +00:00], ["name", "service type 1"], ["updated_at", Mon, 20 Jan 2014 22:52:32 UTC +00:00]]
  [1m[35m (13.4ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Mon, 20 Jan 2014 22:52:33 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Mon, 20 Jan 2014 22:52:33 UTC +00:00]]
  [1m[35m (13.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Mon, 20 Jan 2014 22:52:33 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a771d20,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 22:52:33 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 22:52:33 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a78c468,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 22:52:33 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (26.4ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.5ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (17.3ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (10.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.9ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 22:52:49 UTC +00:00], ["name", "service type 1"], ["updated_at", Mon, 20 Jan 2014 22:52:49 UTC +00:00]]
  [1m[35m (13.4ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Mon, 20 Jan 2014 22:52:49 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Mon, 20 Jan 2014 22:52:49 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Mon, 20 Jan 2014 22:52:49 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ae09db8,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 22:52:49 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 22:52:49 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ae3687c,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 22:52:49 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (13.8ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.7ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.7ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (28.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (18.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (15.2ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.9ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.3ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (16.5ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.0ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (15.2ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.9ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (31.3ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (12.7ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (12.7ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.0ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (30.3ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (18.5ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.7ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (25.1ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (3.0ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 23:51:49 UTC +00:00], ["name", "service type 1"], ["updated_at", Mon, 20 Jan 2014 23:51:49 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Mon, 20 Jan 2014 23:51:49 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Mon, 20 Jan 2014 23:51:49 UTC +00:00]]
  [1m[35m (12.6ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Mon, 20 Jan 2014 23:51:49 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:adacbe0,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 23:51:49 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Mon, 20 Jan 2014 23:51:49 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:add22dc,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 23:51:49 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Mon, 20 Jan 2014 23:51:49 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ade4040,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 23:51:49 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Mon, 20 Jan 2014 23:51:49 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:adfe7b0,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 23:51:49 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Mon, 20 Jan 2014 23:51:49 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ae12738,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 23:51:49 UTC +00:00]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Mon, 20 Jan 2014 23:51:49 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ae20c48,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 23:51:49 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 23:51:49 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b5a3ad8,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 23:51:49 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (813.9ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.0ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.4ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (12.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (23.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 23:52:35 UTC +00:00], ["name", "service type 1"], ["updated_at", Mon, 20 Jan 2014 23:52:35 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Mon, 20 Jan 2014 23:52:36 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Mon, 20 Jan 2014 23:52:36 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Mon, 20 Jan 2014 23:52:36 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ad4e6bc,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 23:52:36 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Mon, 20 Jan 2014 23:52:36 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ad9c63c,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 23:52:36 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.3ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 23:52:36 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:adc242c,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 23:52:36 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (14.6ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.9ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.2ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (17.2ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.7ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.0ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (16.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (23.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (4.8ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 23:56:30 UTC +00:00], ["name", "service type 1"], ["updated_at", Mon, 20 Jan 2014 23:56:30 UTC +00:00]]
  [1m[35m (12.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Mon, 20 Jan 2014 23:56:30 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Mon, 20 Jan 2014 23:56:30 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Mon, 20 Jan 2014 23:56:30 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:aabe640,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 23:56:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Mon, 20 Jan 2014 23:56:30 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:aad6114,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 23:56:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 23:56:30 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ab2f430,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 23:56:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (18.9ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.1ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (12.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (12.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (15.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (11.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.9ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 23:56:56 UTC +00:00], ["name", "service type 1"], ["updated_at", Mon, 20 Jan 2014 23:56:56 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Mon, 20 Jan 2014 23:56:56 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Mon, 20 Jan 2014 23:56:56 UTC +00:00]]
  [1m[35m (12.5ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 23:56:56 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:961bd3c,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 23:56:56 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Mon, 20 Jan 2014 23:56:57 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9637e9c,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 23:56:57 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Mon, 20 Jan 2014 23:56:57 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9674af4,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 23:56:57 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.5ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.7ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (16.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 23:58:29 UTC +00:00], ["name", "service type 1"], ["updated_at", Mon, 20 Jan 2014 23:58:29 UTC +00:00]]
  [1m[35m (12.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Mon, 20 Jan 2014 23:58:30 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Mon, 20 Jan 2014 23:58:30 UTC +00:00]]
  [1m[35m (13.2ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Mon, 20 Jan 2014 23:58:30 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:acd7648,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 23:58:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Mon, 20 Jan 2014 23:58:30 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ad2e1dc,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 23:58:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 23:58:30 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ad47f10,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 23:58:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.6ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (17.5ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.2ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 23:59:19 UTC +00:00], ["name", "service type 1"], ["updated_at", Mon, 20 Jan 2014 23:59:19 UTC +00:00]]
  [1m[35m (12.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Mon, 20 Jan 2014 23:59:19 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Mon, 20 Jan 2014 23:59:19 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Mon, 20 Jan 2014 23:59:19 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:af4bb2c,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 23:59:19 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Mon, 20 Jan 2014 23:59:19 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:af6f9b4,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 23:59:19 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Mon, 20 Jan 2014 23:59:19 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:af826a4,'0.1E3',9(36)>], ["updated_at", Mon, 20 Jan 2014 23:59:19 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation1"=>{"customer_id"=>"1", "total_price"=>"100", "service_id"=>"1"}}
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (15.3ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.0ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.0ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (17.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (28.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (2.9ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:00:22 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 00:00:22 UTC +00:00]]
  [1m[35m (13.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 00:00:22 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 00:00:22 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 2ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:00:22 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9d6baec,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:00:22 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.3ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:00:22 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9d8f988,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:00:22 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:00:22 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9da25d8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:00:22 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation1"=>{"customer_id"=>"1", "total_price"=>"100", "service_id"=>"1"}}
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.9ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.7ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.7ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (256.8ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (22.5ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (29.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:01:00 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 00:01:00 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 00:01:00 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 00:01:00 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:01:00 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9825ce0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:01:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:01:00 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9843d6c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:01:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation1"=>{"customer_id"=>"1", "total_price"=>"100", "service_id"=>"1"}}
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:01:00 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9898330,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:01:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (28.0ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.8ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.9ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.3ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (33.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:02:49 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 00:02:49 UTC +00:00]]
  [1m[35m (12.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.4ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 00:02:49 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 00:02:49 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:02:49 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9e9448c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:02:49 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:02:49 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9eb3e90,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:02:49 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"customer_id"=>"1", "total_price"=>"100", "service_id"=>"1"}}
Unpermitted parameters: customer_id, total_price
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:02:49 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9f0f498,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:02:49 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.8ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.2ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (16.9ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (24.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:05:44 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 00:05:44 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 00:05:44 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 00:05:44 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:05:44 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:af43ad0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:05:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:05:44 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:af62214,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:05:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"customer_id"=>"1", "total_price"=>"100", "service_id"=>"1"}}
Unpermitted parameters: customer_id, total_price
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:05:44 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:af934cc,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:05:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (13.0ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.9ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.1ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (16.9ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:06:18 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 00:06:18 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 00:06:18 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 00:06:18 UTC +00:00]]
  [1m[35m (13.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:06:18 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9e72364,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:06:18 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"customer_id"=>"1", "total_price"=>"100", "service_id"=>"1"}}
Unpermitted parameters: customer_id, total_price
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:06:18 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9eca67c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:06:18 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:06:18 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9efa6c4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:06:18 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (14.9ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (24.4ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (30.2ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.3ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (12.8ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (12.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (5.3ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:06:37 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 00:06:37 UTC +00:00]]
  [1m[35m (12.7ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 00:06:37 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 00:06:37 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:06:37 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a75b4f8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:06:37 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.3ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:06:37 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a77f330,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:06:37 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:06:37 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a792070,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:06:37 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"customer_id"=>"1", "total_price"=>"100", "service_id"=>"1"}}
Unpermitted parameters: customer_id, total_price
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (15.0ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.8ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (12.9ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (29.5ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.6ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (14.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.0ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (24.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (4.0ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:07:04 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 00:07:04 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.4ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 00:07:05 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 00:07:05 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:07:05 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a3536bc,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:07:05 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:07:05 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a371e64,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:07:05 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"customer_id"=>"1", "total_price"=>"100", "service_id"=>"1"}}
Unpermitted parameters: customer_id, total_price
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:07:05 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a3a2f28,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:07:05 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (14.3ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.0ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (14.0ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (34.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:07:36 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 00:07:36 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 00:07:36 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 00:07:36 UTC +00:00]]
  [1m[35m (12.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:07:36 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ac6f318,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:07:36 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:07:36 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ac8bab8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:07:36 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.3ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"customer_id"=>"1", "total_price"=>"100", "service_id"=>"1"}}
Unpermitted parameters: customer_id, total_price
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:07:36 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ace6f94,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:07:36 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.9ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.4ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (3.0ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:08:46 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 00:08:46 UTC +00:00]]
  [1m[35m (13.2ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 00:08:46 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 00:08:46 UTC +00:00]]
  [1m[35m (13.2ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:08:46 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9fb3494,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:08:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.3ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:08:46 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9fd1cf0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:08:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"customer_id"=>"1", "total_price"=>"100", "service_id"=>"1"}}
Unpermitted parameters: customer_id, total_price
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:08:46 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a002df0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:08:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (14.5ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.8ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.2ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (12.9ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (12.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (16.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:09:19 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 00:09:19 UTC +00:00]]
  [1m[35m (12.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 00:09:19 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 00:09:19 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:09:19 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a26357c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:09:19 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:09:19 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a281d88,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:09:19 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"customer_id"=>"1", "total_price"=>"100", "service_id"=>"1"}}
Unpermitted parameters: customer_id, total_price
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:09:19 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a2b2e60,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:09:19 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (31.6ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.9ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (14.0ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (24.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (3.8ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:09:43 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 00:09:43 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.4ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 00:09:44 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 00:09:44 UTC +00:00]]
  [1m[35m (12.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:09:44 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a5bf4b4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:09:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:09:44 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a5e3198,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:09:44 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:09:44 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a5f5f3c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:09:44 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"customer_id"=>"1", "total_price"=>"100", "service_id"=>"1"}}
Unpermitted parameters: customer_id, total_price
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (14.9ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.8ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.0ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (29.0ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (18.5ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:10:07 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 00:10:07 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 00:10:07 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 00:10:07 UTC +00:00]]
  [1m[35m (12.7ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:10:07 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9e231d8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:10:07 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:10:07 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9e41b24,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:10:07 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"customer_id"=>"1", "total_price"=>"100", "service_id"=>"1"}}
Unpermitted parameters: customer_id, total_price
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:10:07 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9e72c24,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:10:07 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (14.6ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (12.8ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.7ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.0ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.0ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (16.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:11:42 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 00:11:42 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 00:11:42 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 00:11:42 UTC +00:00]]
  [1m[35m (12.2ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:11:42 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b087054,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:11:42 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:11:42 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b0a3678,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:11:42 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"customer_id"=>"1", "total_price"=>"100", "service_id"=>"1"}}
Unpermitted parameters: customer_id, total_price
Unpermitted parameters: customer_id, total_price
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:11:42 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b0fdca4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:11:42 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36mStamp::Reservation Load (0.3ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.7ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (25.1ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (17.1ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (17.1ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (16.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.0ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:34:49 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 00:34:49 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 00:34:50 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 00:34:50 UTC +00:00]]
  [1m[35m (12.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:34:50 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9def2d4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:34:50 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:34:50 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9e3afa4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:34:50 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.3ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:34:50 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9e59ff8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:34:50 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.3ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"customer_id"=>"1", "total_price"=>"100", "service_id"=>"1"}}
Unpermitted parameters: customer_id, total_price
Unpermitted parameters: customer_id, total_price
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (15.1ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.7ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.5ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.8ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (34.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (16.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (11.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (24.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:35:29 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 00:35:29 UTC +00:00]]
  [1m[35m (12.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 00:35:29 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 00:35:29 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:35:29 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b0061fc,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:35:29 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"customer_id"=>"1", "total_price"=>"100", "service_id"=>"1"}}
Unpermitted parameters: customer_id, total_price
Unpermitted parameters: customer_id, total_price
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:35:29 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b05d588,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:35:29 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:35:29 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b08d5a8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:35:29 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (14.1ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.9ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.6ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (24.5ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:42:15 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 00:42:15 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 00:42:15 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 00:42:15 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:42:15 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:aa668f0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:42:15 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:42:15 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:aac2ab0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:42:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:42:15 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:aad578c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:42:15 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"customer_id"=>"1", "total_price"=>"100", "service_id"=>"1"}}
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (14.5ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.8ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.2ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (17.1ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.6ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (12.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (5.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:44:28 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 00:44:28 UTC +00:00]]
  [1m[35m (12.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 00:44:28 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 00:44:28 UTC +00:00]]
  [1m[35m (13.4ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:44:28 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ab95f50,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:44:28 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:44:28 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:abb5620,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:44:28 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"customer_id"=>"1", "total_price"=>"100", "service_id"=>"1"}}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:44:28 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:abe5780,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:44:28 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (14.0ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.6ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.7ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (12.9ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (17.2ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (20.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (5.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:55:40 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 00:55:40 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 00:55:40 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 00:55:40 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:55:40 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a40d364,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:55:40 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:55:40 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a431688,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:55:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:55:40 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a48b750,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:55:40 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (109.5ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.7ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (17.2ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (24.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (15.2ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.3ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (17.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (2.8ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:56:12 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 00:56:12 UTC +00:00]]
  [1m[35m (13.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 00:56:12 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 00:56:12 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:56:12 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a3094f4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:56:12 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"customer_id"=>"1", "total_price"=>"100", "service_id"=>"1"}}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:56:12 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a373250,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:56:12 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:56:12 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a3910e8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:56:12 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (15.3ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.9ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (17.9ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.5ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.7ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:57:26 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 00:57:26 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 00:57:26 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 00:57:26 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:57:26 UTC +00:00], ["customer_id", 1], ["id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a7f0364,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:57:26 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "total_price"=>"100", "service_id"=>"1"}}
Unpermitted parameters: id
Unpermitted parameters: id
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 00:57:26 UTC +00:00], ["customer_id", 1], ["id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a84db40,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:57:26 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 00:57:26 UTC +00:00], ["customer_id", 1], ["id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a87db74,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 00:57:26 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (15.1ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.9ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (29.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (17.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (14.8ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (267.6ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.7ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.7ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (14.0ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (17.5ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (29.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (4.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:06:28 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 01:06:28 UTC +00:00]]
  [1m[35m (12.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 01:06:28 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 01:06:28 UTC +00:00]]
  [1m[35m (12.7ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.4ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (15.6ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.0ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (23.8ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (30.2ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:07:19 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 01:07:19 UTC +00:00]]
  [1m[35m (12.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 01:07:19 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 01:07:19 UTC +00:00]]
  [1m[35m (12.6ms)[0m  commit transaction
  [1m[36mStamp::Service Load (0.3ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:07:19 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9323b70,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:07:19 UTC +00:00]]
  [1m[36m (12.7ms)[0m  [1mcommit transaction[0m
  [1m[36m (14.1ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.9ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (29.2ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (18.9ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.0ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (24.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (3.0ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:07:57 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 01:07:57 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 01:07:57 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 01:07:57 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:07:57 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9ced50c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:07:57 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:07:57 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9d16a10,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:07:57 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (15.0ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.4ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (17.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (15.4ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (15.3ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (12.8ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (12.3ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (21.8ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (12.5ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (12.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (28.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (21.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.9ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:29:37 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 01:29:37 UTC +00:00]]
  [1m[35m (13.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 01:29:37 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 01:29:37 UTC +00:00]]
  [1m[35m (12.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:29:37 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a38ccc8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:29:37 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:29:37 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a3dba44,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:29:37 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:29:37 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a3fe314,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:29:37 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.2ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (17.5ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.8ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:32:18 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 01:32:18 UTC +00:00]]
  [1m[35m (13.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 01:32:18 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 01:32:18 UTC +00:00]]
  [1m[35m (23.5ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:32:18 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a160d3c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:32:18 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:32:18 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a1705fc,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:32:18 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#create as HTML
  Parameters: {"service"=>"2"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:32:18 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a1c36bc,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:32:18 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:32:18 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a1e7c4c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:32:18 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (13.8ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.3ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.8ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (17.1ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (34.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:34:25 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 01:34:25 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 01:34:25 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 01:34:25 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:34:25 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9d5259c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:34:25 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:34:25 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9d6d9f0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:34:25 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:34:25 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9d7c324,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:34:25 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#create as HTML
  Parameters: {"service"=>"2"}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:34:25 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9dbb40c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:34:25 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (14.0ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (25.1ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (16.8ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.0ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.0ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:34:51 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 01:34:51 UTC +00:00]]
  [1m[35m (13.7ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 01:34:51 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 01:34:51 UTC +00:00]]
  [1m[35m (12.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:34:51 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:99b09e8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:34:51 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:34:51 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:99c0064,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:34:51 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#create as HTML
  Parameters: {"service"=>"2"}
Completed 200 OK in 1ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:34:51 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9a12f80,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:34:51 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:34:51 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9a37614,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:34:51 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (14.7ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.8ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (12.9ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.3ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (14.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (17.1ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (24.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (2.8ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:35:15 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 01:35:15 UTC +00:00]]
  [1m[35m (12.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 01:35:15 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 01:35:15 UTC +00:00]]
  [1m[35m (12.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:35:15 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:99c2558,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:35:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:35:15 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:99dd9d4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:35:15 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:35:15 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:99ec358,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:35:15 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#create as HTML
  Parameters: {"service"=>"2"}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:35:15 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9a37f88,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:35:15 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (14.7ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.3ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (33.4ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.7ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:35:29 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 01:35:29 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 01:35:29 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 01:35:29 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:35:29 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9f62620,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:35:29 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:35:29 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9f7da38,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:35:29 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:35:29 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9f8c31c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:35:29 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#create as HTML
  Parameters: {"service"=>"2"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:35:29 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9fd7d30,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:35:29 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (15.2ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (24.7ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.7ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (17.1ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (14.0ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (28.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (18.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (5.2ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:36:21 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 01:36:21 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 01:36:21 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 01:36:21 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:36:21 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9e16474,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:36:21 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:36:21 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9e318dc,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:36:21 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:36:21 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9e4024c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:36:21 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#create as HTML
  Parameters: {"reservation"=>"2"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:36:21 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9e89c80,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:36:21 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (15.2ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.2ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.7ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (24.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (34.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.9ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:37:18 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 01:37:18 UTC +00:00]]
  [1m[35m (13.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 01:37:19 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 01:37:19 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:37:19 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b1726d0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:37:19 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:37:19 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b1c93a4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:37:19 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:37:19 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b1d5028,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:37:19 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#create as HTML
  Parameters: {"reservation"=>"2"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
Processing by Stamp::Api::V1::ReservationsController#create as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "service_id"=>"1", "total_price"=>"15.5"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:37:19 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b1f8500,'0.155E2',18(18)>], ["updated_at", Tue, 21 Jan 2014 01:37:19 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (21.0ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (24.5ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (14.0ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (14.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:41:47 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 01:41:47 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 01:41:47 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 01:41:47 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
Processing by Stamp::Api::V1::ReservationsController#create as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "service_id"=>"1", "total_price"=>"15.5"}}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:41:47 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:941bdac,'0.155E2',18(18)>], ["updated_at", Tue, 21 Jan 2014 01:41:47 UTC +00:00]]
  [1m[36m (23.0ms)[0m  [1mcommit transaction[0m
Completed 200 OK in 44ms (Views: 0.7ms | ActiveRecord: 24.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:41:47 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9434d20,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:41:47 UTC +00:00]]
  [1m[35m (21.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:41:47 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9442d30,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:41:47 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
Processing by Stamp::Api::V1::ReservationsController#create as HTML
  Parameters: {"reservation"=>"3"}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:41:47 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:94676d0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:41:47 UTC +00:00]]
  [1m[35m (12.7ms)[0m  commit transaction
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36mStamp::Reservation Load (0.3ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.5ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (17.2ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.9ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:46:47 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 01:46:47 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 01:46:47 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 01:46:47 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:46:47 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9bd9ddc,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:46:47 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:46:47 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9bebb2c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:46:47 UTC +00:00]]
  [1m[35m (13.2ms)[0m  commit transaction
Processing by Stamp::Api::V1::ReservationsController#create as HTML
  Parameters: {"reservation"=>"2"}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
Processing by Stamp::Api::V1::ReservationsController#create as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "service_id"=>"1", "total_price"=>"15.5"}}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:46:47 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9c3a3d0,'0.155E2',18(18)>], ["updated_at", Tue, 21 Jan 2014 01:46:47 UTC +00:00]]
  [1m[36m (12.7ms)[0m  [1mcommit transaction[0m
Completed 200 OK in 17ms (Views: 0.7ms | ActiveRecord: 13.2ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (14.1ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.6ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.5ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.7ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (17.4ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (14.0ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (29.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (24.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.0ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:49:27 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 01:49:27 UTC +00:00]]
  [1m[35m (13.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 01:49:27 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 01:49:27 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:49:27 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a601e90,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:49:27 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:49:27 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a613bb8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:49:27 UTC +00:00]]
  [1m[35m (13.2ms)[0m  commit transaction
Processing by Stamp::Api::V1::ReservationsController#create as HTML
  Parameters: {"reservation"=>"2"}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
Processing by Stamp::Api::V1::ReservationsController#create as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "service_id"=>"1", "total_price"=>"15.5"}}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:49:27 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a662420,'0.155E2',18(18)>], ["updated_at", Tue, 21 Jan 2014 01:49:27 UTC +00:00]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
Completed 200 OK in 18ms (Views: 0.8ms | ActiveRecord: 13.6ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (16.4ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.5ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.8ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:52:00 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 01:52:00 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 01:52:01 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 01:52:01 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:52:01 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:99b1f14,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:52:01 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:52:01 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:99c3c3c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:52:01 UTC +00:00]]
  [1m[35m (12.7ms)[0m  commit transaction
Processing by Stamp::Api::V1::ReservationsController#create as HTML
  Parameters: {"reservation"=>"2"}
Completed 200 OK in 1ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
Processing by Stamp::Api::V1::ReservationsController#create as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "service_id"=>"1", "total_price"=>"15.5"}}
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:52:01 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9a124a4,'0.155E2',18(18)>], ["updated_at", Tue, 21 Jan 2014 01:52:01 UTC +00:00]]
  [1m[36m (33.5ms)[0m  [1mcommit transaction[0m
Completed 200 OK in 40ms (Views: 1.0ms | ActiveRecord: 34.3ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (14.5ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (12.9ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (12.9ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (25.2ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (17.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.8ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:55:24 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 01:55:24 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 01:55:24 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 01:55:24 UTC +00:00]]
  [1m[35m (13.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:55:24 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:983c83c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:55:24 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>"1"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:55:24 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9894424,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:55:24 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (20.1ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.9ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (12.8ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.5ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (12.9ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (14.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.0ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (24.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.8ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:56:01 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 01:56:01 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 01:56:01 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 01:56:01 UTC +00:00]]
  [1m[35m (13.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:56:01 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b144870,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:56:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>"1"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:56:01 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b19c46c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:56:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (14.9ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (14.1ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (33.8ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.2ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.8ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (4.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:57:07 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 01:57:07 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 01:57:07 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 01:57:07 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:57:07 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9892a98,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:57:07 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:57:07 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:98ac664,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:57:07 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (13.9ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (14.0ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (16.6ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.8ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (33.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:57:46 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 01:57:46 UTC +00:00]]
  [1m[35m (13.5ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 01:57:46 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 01:57:46 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:57:46 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:adb47a0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:57:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>"1"}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:57:46 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ae01d0c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:57:46 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (14.1ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (34.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.9ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (24.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.9ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:59:56 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 01:59:56 UTC +00:00]]
  [1m[35m (13.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 01:59:56 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 01:59:56 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 01:59:56 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:95ec744,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:59:56 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 01:59:56 UTC", "updated_at"=>"2014-01-21 01:59:56 UTC"}}
Unpermitted parameters: id, created_at, updated_at
Unpermitted parameters: id, created_at, updated_at
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 01:59:56 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:964aca4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 01:59:56 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (14.4ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (12.8ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.1ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (16.4ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.7ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (12.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (23.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (18.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:00:22 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:00:22 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:00:23 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:00:23 UTC +00:00]]
  [1m[35m (13.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:00:23 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9e3c7b4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:00:23 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:00:23 UTC", "updated_at"=>"2014-01-21 02:00:23 UTC"}}
Unpermitted parameters: id, created_at, updated_at
Unpermitted parameters: id, created_at, updated_at
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:00:23 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9e9a8f0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:00:23 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (14.4ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.9ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (24.9ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.5ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.0ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (16.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (33.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:00:56 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:00:56 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:00:56 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:00:56 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:00:56 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9a1080c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:00:56 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:00:56 UTC", "updated_at"=>"2014-01-21 02:00:56 UTC"}}
Unpermitted parameters: id, created_at, updated_at
Unpermitted parameters: id, created_at, updated_at
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:00:56 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9a6e8d0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:00:56 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (25.4ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (18.5ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.6ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (24.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (16.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.9ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:04:22 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:04:22 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:04:22 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:04:22 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:04:22 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a2844ac,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:04:22 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:04:22 UTC", "updated_at"=>"2014-01-21 02:04:22 UTC"}}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:04:22 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a2ddea8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:04:22 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (15.0ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.4ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (24.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.4ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (16.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (4.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:05:51 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:05:51 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:05:52 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:05:52 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:05:52 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a08c1f4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:05:52 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:05:52 UTC", "updated_at"=>"2014-01-21 02:05:52 UTC"}}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:05:52 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a0e6ce4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:05:52 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (14.1ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.9ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.8ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (25.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.7ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:06:41 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:06:41 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:06:41 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:06:41 UTC +00:00]]
  [1m[35m (13.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:06:41 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:aed17b4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:06:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:06:41 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:aef3e54,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:06:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:06:41 UTC", "updated_at"=>"2014-01-21 02:06:41 UTC"}}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.0ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.2ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (30.5ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (4.8ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:07:24 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:07:24 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:07:24 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:07:24 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:07:24 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:979df70,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:07:24 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:07:24 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:97b80b4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:07:24 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:07:24 UTC", "updated_at"=>"2014-01-21 02:07:24 UTC"}}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (13.9ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (24.0ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (21.6ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:08:21 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:08:21 UTC +00:00]]
  [1m[35m (13.2ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:08:21 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:08:21 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:08:21 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:93001e8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:08:21 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:08:21 UTC", "updated_at"=>"2014-01-21 02:08:21 UTC"}}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:08:21 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:935b00c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:08:21 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (14.7ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.2ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (27.6ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.5ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (12.1ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (12.2ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (12.1ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.5ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (12.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (28.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (17.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:08:59 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:08:59 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:09:00 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:09:00 UTC +00:00]]
  [1m[35m (13.4ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:09:00 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9ff4250,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:09:00 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:09:00 UTC", "updated_at"=>"2014-01-21 02:09:00 UTC"}}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:09:00 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a04efd4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:09:00 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (14.0ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.9ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.0ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.8ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (24.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (4.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:09:27 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:09:27 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:09:27 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:09:27 UTC +00:00]]
  [1m[35m (13.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:09:27 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b0082b8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:09:27 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:09:27 UTC", "updated_at"=>"2014-01-21 02:09:27 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:09:27 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b061444,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:09:27 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (14.3ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.2ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (14.0ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (19.0ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.8ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (4.9ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:09:59 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:09:59 UTC +00:00]]
  [1m[35m (13.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:09:59 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:09:59 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:09:59 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b05fbe4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:09:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:09:59 UTC", "updated_at"=>"2014-01-21 02:09:59 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:09:59 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b0b0ecc,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:09:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (15.3ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (271.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.3ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.9ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:10:29 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:10:29 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:10:29 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:10:29 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:10:29 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a94d450,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:10:29 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:10:29 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a96fd48,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:10:29 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:10:29 UTC", "updated_at"=>"2014-01-21 02:10:29 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (15.3ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.6ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (14.3ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (12.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (24.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:10:47 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:10:47 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:10:47 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:10:47 UTC +00:00]]
  [1m[35m (12.7ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:10:47 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a96d660,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:10:47 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:10:47 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a98fddc,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:10:47 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:10:47 UTC", "updated_at"=>"2014-01-21 02:10:47 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (14.6ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.5ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (29.2ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (18.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:11:05 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:11:05 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:11:05 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:11:05 UTC +00:00]]
  [1m[35m (12.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:11:05 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9335528,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:11:05 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:11:05 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9357df8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:11:05 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:11:05 UTC", "updated_at"=>"2014-01-21 02:11:05 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (15.6ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.3ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (34.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (16.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (24.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.9ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:13:34 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:13:34 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:13:34 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:13:34 UTC +00:00]]
  [1m[35m (13.4ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:13:34 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9d44b90,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:13:34 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:13:34 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9d67b54,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:13:34 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:13:34 UTC", "updated_at"=>"2014-01-21 02:13:34 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (15.2ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.2ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (14.1ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (24.5ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (16.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (15.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:15:03 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:15:03 UTC +00:00]]
  [1m[35m (13.2ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:15:04 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:15:04 UTC +00:00]]
  [1m[35m (30.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:15:04 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b257910,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:15:04 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:15:04 UTC", "updated_at"=>"2014-01-21 02:15:04 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:15:04 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b2af19c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:15:04 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (14.8ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.8ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.8ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.9ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:15:17 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:15:17 UTC +00:00]]
  [1m[35m (13.5ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:15:17 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:15:17 UTC +00:00]]
  [1m[35m (13.2ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:15:17 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:af00aa0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:15:17 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:15:17 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:af23ac8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:15:17 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:15:17 UTC", "updated_at"=>"2014-01-21 02:15:17 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (14.6ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.2ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (17.0ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (12.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (24.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (12.9ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.1ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (17.0ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (24.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (18.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (2.9ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:21:59 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:21:59 UTC +00:00]]
  [1m[35m (13.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:21:59 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:21:59 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:21:59 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a99f5e8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:21:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:21:59 UTC", "updated_at"=>"2014-01-21 02:21:59 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 12ms (Views: 0.3ms | ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:21:59 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:aa0e7b8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:21:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (15.0ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.7ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (14.5ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (35.5ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (17.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:23:32 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:23:32 UTC +00:00]]
  [1m[35m (13.2ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:23:32 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:23:32 UTC +00:00]]
  [1m[35m (13.6ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:23:32 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a525a30,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:23:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:23:32 UTC", "updated_at"=>"2014-01-21 02:23:32 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:23:32 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a58f980,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:23:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.9ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.6ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (17.1ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (14.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (24.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (24.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.9ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:23:45 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:23:45 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:23:45 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:23:45 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:23:45 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:aa5f488,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:23:45 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:23:45 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:aa79004,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:23:45 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:23:45 UTC", "updated_at"=>"2014-01-21 02:23:45 UTC"}}
Unpermitted parameters: id, created_at, updated_at
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (15.4ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.6ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (16.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:24:13 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:24:13 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:24:14 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:24:14 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:24:14 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:afbdb14,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:24:14 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:24:14 UTC", "updated_at"=>"2014-01-21 02:24:14 UTC"}}
Unpermitted parameters: id, created_at, updated_at
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:24:14 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b015620,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:24:14 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (15.3ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.8ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.4ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.8ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (16.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:24:54 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:24:54 UTC +00:00]]
  [1m[35m (13.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:24:54 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:24:54 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:24:54 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9e30784,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:24:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:24:54 UTC", "updated_at"=>"2014-01-21 02:24:54 UTC"}}
Unpermitted parameters: id, created_at, updated_at
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:24:54 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9e887cc,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:24:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (18.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (18.8ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (27.9ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (16.1ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (17.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (24.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.2ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:25:22 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:25:22 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:25:23 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:25:23 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:25:23 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:aaa87a0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:25:23 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:25:23 UTC", "updated_at"=>"2014-01-21 02:25:23 UTC"}}
Unpermitted parameters: id, created_at, updated_at
Unpermitted parameters: id, created_at, updated_at
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:25:23 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ab0723c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:25:23 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (14.1ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.9ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.3ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (16.8ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.9ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (23.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (18.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.9ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:25:39 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:25:39 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:25:39 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:25:39 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:25:39 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b2018a8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:25:39 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:25:39 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b223f5c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:25:39 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:25:39 UTC", "updated_at"=>"2014-01-21 02:25:39 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (14.7ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (24.5ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.6ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (14.1ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (15.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (2.8ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:26:06 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:26:06 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:26:06 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:26:06 UTC +00:00]]
  [1m[35m (13.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:26:06 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:96a404c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:26:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:26:06 UTC", "updated_at"=>"2014-01-21 02:26:06 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:26:06 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:971b778,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:26:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.9ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.3ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (17.0ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (14.2ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (24.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (4.0ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:26:29 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:26:29 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:26:29 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:26:29 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:26:29 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9dbc514,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:26:29 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:26:29 UTC", "updated_at"=>"2014-01-21 02:26:29 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:26:29 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9e33718,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:26:29 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (14.9ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.5ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (16.9ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (28.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (18.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (16.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (4.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:26:56 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:26:56 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:26:56 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:26:56 UTC +00:00]]
  [1m[35m (12.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:26:56 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a5e8198,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:26:56 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:26:56 UTC", "updated_at"=>"2014-01-21 02:26:56 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 14ms (Views: 0.2ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:26:56 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a65f5a4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:26:56 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (14.2ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.7ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.7ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (16.9ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.7ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (24.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:27:12 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:27:12 UTC +00:00]]
  [1m[35m (31.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:27:13 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:27:13 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:27:13 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:aa904c0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:27:13 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:27:13 UTC", "updated_at"=>"2014-01-21 02:27:13 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:27:13 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ab07070,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:27:13 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (15.2ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.7ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.9ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.6ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (16.5ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (24.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.9ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:27:59 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:27:59 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:27:59 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:27:59 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:27:59 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a6e175c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:27:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:27:59 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a7010c0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:27:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:27:59 UTC", "updated_at"=>"2014-01-21 02:27:59 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:27:59 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a743aec,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:27:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (13.9ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.4ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (16.7ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.9ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (14.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (24.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (29.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:29:34 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:29:34 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:29:34 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:29:34 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:29:34 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:acef5cc,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:29:34 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:29:34 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ad0dc5c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:29:34 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:29:34 UTC", "updated_at"=>"2014-01-21 02:29:34 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:29:34 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ad47894,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:29:34 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (15.3ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (12.9ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (12.9ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (16.3ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (16.6ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.0ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:31:49 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:31:49 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:31:49 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:31:49 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:31:49 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:af9e1b0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:31:49 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:31:49 UTC", "updated_at"=>"2014-01-21 02:31:49 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:31:49 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b007d04,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:31:49 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:31:49 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b026254,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:31:49 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (15.8ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.5ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:34:08 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:34:08 UTC +00:00]]
  [1m[35m (13.5ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:34:08 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:34:08 UTC +00:00]]
  [1m[35m (18.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:34:08 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:96036ec,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:34:08 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:34:08 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:961fc70,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:34:08 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:34:08 UTC", "updated_at"=>"2014-01-21 02:34:08 UTC"}}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:34:08 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9671c8c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:34:08 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (13.8ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.8ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (16.8ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:34:42 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:34:42 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:34:42 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:34:42 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:34:42 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:990e7d8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:34:42 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:34:42 UTC", "updated_at"=>"2014-01-21 02:34:42 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:34:42 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9977328,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:34:42 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:34:42 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:99960fc,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:34:42 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (27.6ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.8ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (24.3ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.7ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:35:13 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:35:13 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:35:13 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:35:13 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:35:13 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9c1f760,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:35:13 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:35:13 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9c3bc80,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:35:13 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:35:13 UTC", "updated_at"=>"2014-01-21 02:35:13 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:35:13 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9ca2778,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:35:13 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (14.8ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (24.3ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.1ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (16.7ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (2.8ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:41:26 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:41:26 UTC +00:00]]
  [1m[35m (13.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:41:26 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:41:26 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 2ms (Views: 0.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:41:26 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ae56ba4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:41:26 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:41:26 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ae75928,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:41:26 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:41:26 UTC", "updated_at"=>"2014-01-21 02:41:26 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 5ms (Views: 0.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:41:26 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:aeae908,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:41:26 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (14.5ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.7ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.5ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.8ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (16.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.9ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:44:29 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:44:29 UTC +00:00]]
  [1m[35m (13.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:44:29 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:44:29 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:44:29 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a2f88e8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:44:29 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 02:44:29 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a314124,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:44:29 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:44:29 UTC", "updated_at"=>"2014-01-21 02:44:29 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:44:29 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a37c350,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:44:29 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (15.0ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (30.0ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (19.1ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.2ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:45:15 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 02:45:15 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 02:45:15 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 02:45:15 UTC +00:00]]
  [1m[35m (13.7ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:45:15 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:971b570,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:45:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:45:15 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:97389cc,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:45:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 02:45:15 UTC", "updated_at"=>"2014-01-21 02:45:15 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 02:45:15 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9772654,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 02:45:15 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (13.9ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.9ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.7ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.1ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (16.9ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (14.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (4.6ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 20:51:18 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 20:51:18 UTC +00:00]]
  [1m[35m (33.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 20:51:18 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 20:51:18 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.4ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 20:51:19 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a2f501c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 20:51:19 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 20:51:19 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a31af74,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 20:51:19 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 20:51:19 UTC", "updated_at"=>"2014-01-21 20:51:19 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 20:51:19 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a34fdc8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 20:51:19 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 20:51:19 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a361bf4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 20:51:19 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (13.8ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (24.0ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.7ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.7ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.7ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (16.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.8ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 20:51:36 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 20:51:36 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 20:51:36 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 20:51:36 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 20:51:36 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a924f28,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 20:51:36 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.3ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 20:51:36 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a94866c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 20:51:36 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 20:51:36 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a963c14,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 20:51:36 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 20:51:36 UTC", "updated_at"=>"2014-01-21 20:51:36 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 20:51:36 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a98c754,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 20:51:36 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (15.4ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.4ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (12.9ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (24.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (16.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (35.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (4.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 20:52:27 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 20:52:27 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 20:52:27 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 20:52:27 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.3ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 20:52:27 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9f00fc4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 20:52:27 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 20:52:27 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9f24668,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 20:52:27 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 20:52:27 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9f3fbe8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 20:52:27 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 20:52:27 UTC", "updated_at"=>"2014-01-21 20:52:27 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 20:52:27 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9f68728,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 20:52:27 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (14.6ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.1ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (17.3ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (14.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (3.2ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 20:52:42 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 20:52:42 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 20:52:42 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 20:52:42 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 20:52:42 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9adeb58,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 20:52:42 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 20:52:42 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9b3aef8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 20:52:42 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.3ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 20:52:42 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9b64118,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 20:52:42 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 20:52:42 UTC", "updated_at"=>"2014-01-21 20:52:42 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 20:52:42 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9b97040,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 20:52:42 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (14.3ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.9ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.8ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (29.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (14.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.8ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 20:56:01 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 20:56:01 UTC +00:00]]
  [1m[35m (12.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 20:56:01 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 20:56:01 UTC +00:00]]
  [1m[35m (13.4ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 20:56:01 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9b6ed70,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 20:56:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 20:56:01 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9b8b86c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 20:56:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 20:56:01 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9bdfbd8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 20:56:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.4ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.3ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 20:56:01 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9c0ae00,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 20:56:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 20:56:01 UTC", "updated_at"=>"2014-01-21 20:56:01 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (15.3ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.8ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (266.8ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.8ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (34.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 20:56:29 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 20:56:29 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 20:56:29 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 20:56:29 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 20:56:30 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:af0d020,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 20:56:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 20:56:30 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:af32f00,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 20:56:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 20:56:30 UTC", "updated_at"=>"2014-01-21 20:56:30 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 20:56:30 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:af67d7c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 20:56:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 20:56:30 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:af8f28c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 20:56:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (15.1ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.9ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (29.1ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.5ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (28.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 20:59:46 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 20:59:46 UTC +00:00]]
  [1m[35m (12.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 20:59:46 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 20:59:46 UTC +00:00]]
  [1m[35m (12.7ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 20:59:46 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a95abc8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 20:59:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 20:59:46 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a9b6fb8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 20:59:46 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 20:59:46 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a9e0214,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 20:59:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 20:59:46 UTC", "updated_at"=>"2014-01-21 20:59:46 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 20:59:46 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:aa13178,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 20:59:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (24.9ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (37.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:01:49 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 21:01:49 UTC +00:00]]
  [1m[35m (13.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 21:01:49 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 21:01:49 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.3ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 2ms (Views: 1.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:01:49 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9c20fd4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:01:49 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:01:49 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9c46edc,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:01:49 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 21:01:49 UTC", "updated_at"=>"2014-01-21 21:01:49 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:01:49 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9c7bd08,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:01:49 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:01:49 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9ca2f5c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:01:49 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (17.5ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (25.7ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.2ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.0ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:03:17 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 21:03:17 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 21:03:17 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 21:03:17 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:03:17 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9c72d98,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:03:17 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:03:17 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9c8f3a8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:03:17 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:03:17 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9cdfa4c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:03:17 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 21:03:17 UTC", "updated_at"=>"2014-01-21 21:03:17 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:03:17 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9d0d618,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:03:17 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (14.8ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (10.9ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.6ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.8ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (17.7ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (25.0ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (24.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (18.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:04:05 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 21:04:05 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 21:04:05 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 21:04:05 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.3ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:04:05 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9468fbc,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:04:05 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:04:05 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:948c69c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:04:05 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:04:05 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:94a7c30,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:04:05 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 21:04:05 UTC", "updated_at"=>"2014-01-21 21:04:05 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:04:05 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:94d0770,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:04:05 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (14.5ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.9ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.5ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (18.7ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (12.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (26.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.9ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:04:35 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 21:04:35 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 21:04:35 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 21:04:35 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:04:35 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ae14f74,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:04:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:04:35 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ae3aea4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:04:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 21:04:35 UTC", "updated_at"=>"2014-01-21 21:04:35 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:04:35 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ae6fca8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:04:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:04:35 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ae96bf0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:04:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (14.7ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.2ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.7ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (16.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.2ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:06:07 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 21:06:07 UTC +00:00]]
  [1m[35m (24.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 21:06:07 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 21:06:07 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:06:07 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9eeac10,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:06:07 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:06:07 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9f4712c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:06:07 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:06:07 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9f77d7c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:06:07 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 21:06:07 UTC", "updated_at"=>"2014-01-21 21:06:07 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:06:07 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9fa2d4c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:06:07 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (15.3ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (14.0ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.6ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.9ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (14.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (23.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.0ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:06:51 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 21:06:51 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 21:06:51 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 21:06:51 UTC +00:00]]
  [1m[35m (13.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.4ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:06:51 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b0a10d0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:06:51 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:06:51 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b0c4788,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:06:51 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:06:51 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b0dfde4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:06:51 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 21:06:51 UTC", "updated_at"=>"2014-01-21 21:06:51 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:06:51 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b1087bc,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:06:51 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1[0m  [["total_price", #<BigDecimal:b128760,'0.1555E3',18(18)>], ["updated_at", Tue, 21 Jan 2014 21:06:51 UTC +00:00]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 10ms (Views: 1.0ms | ActiveRecord: 1.4ms)
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (14.4ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (14.5ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (12.4ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (17.5ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.0ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (12.6ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (12.5ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.8ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (12.5ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (16.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (28.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (18.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:08:53 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 21:08:53 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 21:08:53 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 21:08:53 UTC +00:00]]
  [1m[35m (12.7ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:08:53 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a8fabec,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:08:53 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:08:53 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a91724c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:08:53 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 21:08:53 UTC", "updated_at"=>"2014-01-21 21:08:53 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:08:53 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a96c8dc,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:08:53 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1  [["total_price", #<BigDecimal:a995fd4,'0.1555E3',18(18)>], ["updated_at", Tue, 21 Jan 2014 21:08:53 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 0.8ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.3ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:08:53 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a9b6dd8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:08:53 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (26.3ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (18.4ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.0ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.7ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (12.4ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (12.5ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (12.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (15.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (15.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (19.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (3.9ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:10:06 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 21:10:06 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 21:10:06 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 21:10:06 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.4ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:10:06 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:95ccfc0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:10:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:10:06 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:95f2ec8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:10:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 21:10:06 UTC", "updated_at"=>"2014-01-21 21:10:06 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:10:06 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9627cf4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:10:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1[0m  [["total_price", #<BigDecimal:9647540,'0.1555E3',18(18)>], ["updated_at", Tue, 21 Jan 2014 21:10:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 0.8ms)
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:10:06 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:965fab4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:10:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36m (24.4ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (18.4ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.0ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.5ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (16.6ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.8ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (24.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (14.2ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.5ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.0ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.8ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.3ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (17.5ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (12.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (33.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:14:59 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 21:14:59 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 21:14:59 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 21:14:59 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:14:59 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9852b14,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:14:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:14:59 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:986cf50,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:14:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 21:14:59 UTC", "updated_at"=>"2014-01-21 21:14:59 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:14:59 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:98cb780,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:14:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1  [["total_price", #<BigDecimal:98ef7ac,'0.1555E3',18(18)>], ["updated_at", Tue, 21 Jan 2014 21:14:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 0.9ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:14:59 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9902fb4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:14:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1[0m  [["total_price", nil], ["updated_at", Tue, 21 Jan 2014 21:14:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.8ms)
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:14:59 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a498248,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:14:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (28.4ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (24.5ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.8ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (17.3ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (29.7ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (19.6ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (4.2ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:15:32 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 21:15:32 UTC +00:00]]
  [1m[35m (12.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 21:15:32 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 21:15:32 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:15:32 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a74a98c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:15:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:15:32 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a764ee0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:15:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 21:15:32 UTC", "updated_at"=>"2014-01-21 21:15:32 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:15:32 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a7c3738,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:15:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1  [["total_price", #<BigDecimal:a7e7570,'0.1555E3',18(18)>], ["updated_at", Tue, 21 Jan 2014 21:15:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 0.9ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:15:32 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a7fae40,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:15:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1[0m  [["total_price", nil], ["updated_at", Tue, 21 Jan 2014 21:15:32 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.8ms)
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:15:32 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b3a022c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:15:32 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mStamp::Service Load (0.1ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 1]]
  [1m[35m (13.2ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 1]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (13.8ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.3ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (29.0ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (30.1ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (18.6ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (23.5ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.6ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.3ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:48:54 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 21:48:54 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 21:48:54 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 21:48:54 UTC +00:00]]
  [1m[35m (13.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:48:54 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a74a93c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:48:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:48:54 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a76d270,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:48:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:48:54 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a785974,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:48:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#show as HTML
  Parameters: {"id"=>"1"}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:48:54 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a79f0b8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:48:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"id"=>"1", "reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 21:48:54 UTC", "updated_at"=>"2014-01-21 21:48:54 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:48:54 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a7c5d94,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:48:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1  [["total_price", #<BigDecimal:b09cd64,'0.1555E3',18(18)>], ["updated_at", Tue, 21 Jan 2014 21:48:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 0.8ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:48:54 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b3590fc,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:48:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1[0m  [["total_price", nil], ["updated_at", Tue, 21 Jan 2014 21:48:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 1.0ms)
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 1]]
  [1m[36m (13.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.3ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 1]]
  [1m[36m (12.9ms)[0m  [1mcommit transaction[0m
  [1m[36m (15.6ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.1ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (12.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (16.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (30.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (4.0ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:50:30 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 21:50:30 UTC +00:00]]
  [1m[35m (12.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 21:50:30 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 21:50:30 UTC +00:00]]
  [1m[35m (24.9ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:50:30 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:af52468,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:50:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:50:30 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:af71318,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:50:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::Reservation Load (0.3ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1[0m  [["total_price", nil], ["updated_at", Tue, 21 Jan 2014 21:50:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 9ms (Views: 0.5ms | ActiveRecord: 1.0ms)
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:50:30 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:afd4e7c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:50:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1  [["total_price", #<BigDecimal:aff5514,'0.1555E3',18(18)>], ["updated_at", Tue, 21 Jan 2014 21:50:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 0.8ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:50:30 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b009280,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:50:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 21:50:30 UTC", "updated_at"=>"2014-01-21 21:50:30 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 5ms (Views: 0.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.3ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:50:30 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:bb9bd8c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:50:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#show as HTML
  Parameters: {"id"=>"1"}
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:50:30 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:bbc63fc,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:50:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 1]]
  [1m[36m (13.3ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 1]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[36m (13.9ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.9ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (16.9ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (14.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:50:42 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 21:50:42 UTC +00:00]]
  [1m[35m (12.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 21:50:42 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 21:50:42 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:50:42 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9376398,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:50:42 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:50:42 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:939ea14,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:50:42 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#show as HTML
  Parameters: {"reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 21:50:42 UTC", "updated_at"=>"2014-01-21 21:50:42 UTC"}}
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:50:42 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:93d88cc,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:50:42 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.3ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1  [["total_price", nil], ["updated_at", Tue, 21 Jan 2014 21:50:42 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.5ms | ActiveRecord: 1.2ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:50:42 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9415560,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:50:42 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1[0m  [["total_price", #<BigDecimal:9ba3b38,'0.1555E3',18(18)>], ["updated_at", Tue, 21 Jan 2014 21:50:42 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.7ms)
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:50:42 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9d0f3c8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:50:42 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 21:50:42 UTC", "updated_at"=>"2014-01-21 21:50:42 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:50:42 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9ffafb0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:50:42 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 1]]
  [1m[36m (13.4ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.3ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 1]]
  [1m[36m (13.1ms)[0m  [1mcommit transaction[0m
  [1m[36m (14.7ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.8ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.0ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (16.9ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (26.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:51:29 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 21:51:29 UTC +00:00]]
  [1m[35m (13.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 21:51:29 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 21:51:29 UTC +00:00]]
  [1m[35m (12.7ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 2ms (Views: 0.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:51:29 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9f2feb4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:51:29 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:51:29 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9f510dc,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:51:29 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:51:29 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9f65884,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:51:29 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 21:51:29 UTC", "updated_at"=>"2014-01-21 21:51:29 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:51:29 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9f91984,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:51:29 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1[0m  [["total_price", #<BigDecimal:9fb139c,'0.1555E3',18(18)>], ["updated_at", Tue, 21 Jan 2014 21:51:29 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 8ms (Views: 0.5ms | ActiveRecord: 1.1ms)
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:51:29 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a8812b0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:51:29 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1  [["total_price", nil], ["updated_at", Tue, 21 Jan 2014 21:51:29 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.3ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:51:29 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ab8031c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:51:29 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#show as HTML
  Parameters: {"reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 21:51:29 UTC", "updated_at"=>"2014-01-21 21:51:29 UTC"}}
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 1]]
  [1m[36m (13.0ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.3ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 1]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[36m (15.1ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.1ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (16.7ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (12.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (29.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (15.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.2ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:56:25 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 21:56:25 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 21:56:25 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 21:56:25 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:56:25 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a7d5820,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:56:25 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:56:25 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a7f4a18,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:56:25 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 21:56:25 UTC", "updated_at"=>"2014-01-21 21:56:25 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:56:25 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a84fae4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:56:25 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1  [["total_price", #<BigDecimal:a873c00,'0.1555E3',18(18)>], ["updated_at", Tue, 21 Jan 2014 21:56:25 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 1.0ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:56:25 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a887f70,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:56:25 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1[0m  [["total_price", nil], ["updated_at", Tue, 21 Jan 2014 21:56:25 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.3ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
Completed 200 OK in 1ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:56:25 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b4293ec,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:56:25 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:56:25 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b464230,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:56:25 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#show as HTML
  Parameters: {"reservation"=>{"id"=>"1"}}
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 1]]
  [1m[36m (13.2ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.3ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 1]]
  [1m[36m (12.7ms)[0m  [1mcommit transaction[0m
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (23.7ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (21.8ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.9ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:57:25 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 21:57:25 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 21:57:25 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 21:57:25 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:57:25 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a6d86e8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:57:25 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 21:57:25 UTC", "updated_at"=>"2014-01-21 21:57:25 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:57:25 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a73cd78,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:57:25 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1  [["total_price", #<BigDecimal:a765fe8,'0.1555E3',18(18)>], ["updated_at", Tue, 21 Jan 2014 21:57:25 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 1.0ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:57:25 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a779390,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:57:25 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1[0m  [["total_price", nil], ["updated_at", Tue, 21 Jan 2014 21:57:25 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 0.9ms)
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.3ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:57:25 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b06a134,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:57:25 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#show as HTML
  Parameters: {"reservation"=>{"id"=>"1"}}
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:57:25 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b347c94,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:57:25 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:57:25 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b37e398,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:57:25 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 2ms (Views: 1.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 1]]
  [1m[36m (12.7ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 1]]
  [1m[36m (13.2ms)[0m  [1mcommit transaction[0m
  [1m[36m (15.0ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.9ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (14.5ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (15.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.2ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:58:05 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 21:58:05 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 21:58:06 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 21:58:06 UTC +00:00]]
  [1m[35m (12.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.3ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 2ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:58:06 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b14bf30,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:58:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:58:06 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b16d1f8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:58:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:58:06 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b181900,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:58:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 21:58:06 UTC", "updated_at"=>"2014-01-21 21:58:06 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:58:06 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b1ad94c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:58:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.3ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1[0m  [["total_price", #<BigDecimal:b1cd38c,'0.1555E3',18(18)>], ["updated_at", Tue, 21 Jan 2014 21:58:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 8ms (Views: 0.7ms | ActiveRecord: 1.1ms)
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:58:06 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ba9d480,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:58:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1  [["total_price", nil], ["updated_at", Tue, 21 Jan 2014 21:58:06 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.7ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:58:06 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:bd9c2f8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:58:06 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#show as HTML
  Parameters: {"reservation"=>{"id"=>"1"}}
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 1]]
  [1m[36m (13.1ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.3ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 1]]
  [1m[36m (12.7ms)[0m  [1mcommit transaction[0m
  [1m[36m (15.2ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.0ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.8ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.1ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (12.8ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.6ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (12.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.0ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (33.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (2.8ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:59:27 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 21:59:27 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 21:59:27 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 21:59:27 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:59:27 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a573e74,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:59:27 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#show as HTML
  Parameters: {"reservation"=>{"id"=>"1"}}
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:59:27 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a5c259c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:59:27 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:59:27 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a5d50d4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:59:27 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 21:59:27 UTC", "updated_at"=>"2014-01-21 21:59:27 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 21:59:27 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a605fcc,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:59:27 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1[0m  [["total_price", #<BigDecimal:a620764,'0.1555E3',18(18)>], ["updated_at", Tue, 21 Jan 2014 21:59:27 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.8ms)
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:59:27 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:adc27ec,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:59:27 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1  [["total_price", nil], ["updated_at", Tue, 21 Jan 2014 21:59:27 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.8ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 21:59:27 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b20ee54,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 21:59:27 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.1ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 1]]
  [1m[36m (13.0ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.3ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 1]]
  [1m[36m (13.0ms)[0m  [1mcommit transaction[0m
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.6ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.2ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (17.2ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (24.7ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (14.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (18.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (23.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:07:34 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 22:07:34 UTC +00:00]]
  [1m[35m (13.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 22:07:34 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 22:07:34 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:07:34 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9bbe3fc,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:07:34 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#show as HTML
  Parameters: {"reservation"=>{"id"=>"1"}}
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 4ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:07:34 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9c15300,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:07:34 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:07:34 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9c37a40,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:07:34 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 22:07:34 UTC", "updated_at"=>"2014-01-21 22:07:34 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:07:34 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9c5facc,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:07:34 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1  [["total_price", #<BigDecimal:a537064,'0.1555E3',18(18)>], ["updated_at", Tue, 21 Jan 2014 22:07:34 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 0.9ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:07:34 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a7e3718,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:07:34 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.3ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1[0m  [["total_price", nil], ["updated_at", Tue, 21 Jan 2014 22:07:34 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.8ms)
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:07:34 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a873804,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:07:34 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mStamp::Service Load (0.1ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 1]]
  [1m[35m (13.4ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 1]]
  [1m[35m (13.4ms)[0m  commit transaction
  [1m[36m (15.5ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.3ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (24.6ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (14.4ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (23.9ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (18.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.4ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:08:59 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 22:08:59 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 22:08:59 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 22:08:59 UTC +00:00]]
  [1m[35m (12.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.4ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:08:59 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9e7bba8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:08:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:08:59 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9ea0d18,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:08:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:08:59 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9ecd764,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:08:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#show as HTML
  Parameters: {"reservation"=>{"id"=>"1"}}
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:08:59 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9ee4388,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:08:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 22:08:59 UTC", "updated_at"=>"2014-01-21 22:08:59 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:08:59 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a7e395c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:08:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1[0m  [["total_price", #<BigDecimal:aab6634,'0.1555E3',18(18)>], ["updated_at", Tue, 21 Jan 2014 22:08:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 0.8ms)
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:08:59 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:aad07dc,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:08:59 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1  [["total_price", nil], ["updated_at", Tue, 21 Jan 2014 22:08:59 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mStamp::Service Load (0.1ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 1]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.4ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 1]]
  [1m[35m (12.6ms)[0m  commit transaction
  [1m[36m (14.5ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.7ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.6ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.0ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.8ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (27.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (30.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:09:31 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 22:09:31 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 22:09:31 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 22:09:31 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:09:31 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9c78ef0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:09:31 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1[0m  [["total_price", nil], ["updated_at", Tue, 21 Jan 2014 22:09:31 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 9ms (Views: 0.5ms | ActiveRecord: 1.2ms)
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:09:31 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9ceb4dc,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:09:31 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1  [["total_price", #<BigDecimal:9d0b408,'0.1555E3',18(18)>], ["updated_at", Tue, 21 Jan 2014 22:09:31 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 0.9ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:09:31 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9d1c80c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:09:31 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 22:09:31 UTC", "updated_at"=>"2014-01-21 22:09:31 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.5ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:09:31 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a616a5c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:09:31 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#show as HTML
  Parameters: {"reservation"=>{"id"=>"1"}}
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:09:31 UTC +00:00], ["customer_id", 1], ["updated_at", Tue, 21 Jan 2014 22:09:31 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:09:31 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a91954c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:09:31 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:09:31 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a942a3c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:09:31 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 2ms (Views: 2.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 1]]
  [1m[36m (13.5ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.4ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 1]]
  [1m[36m (13.5ms)[0m  [1mcommit transaction[0m
  [1m[36m (14.4ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.7ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.5ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.7ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.7ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (28.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (18.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (4.9ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:09:54 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 22:09:54 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 22:09:54 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 22:09:54 UTC +00:00]]
  [1m[35m (12.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.3ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:09:54 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ae77c3c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:09:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:09:54 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ae9c12c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:09:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.3ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:09:54 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:aec980c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:09:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#show as HTML
  Parameters: {"reservation"=>{"id"=>"1"}}
  [1m[36mStamp::Reservation Load (0.3ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:09:54 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:aee041c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:09:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 22:09:54 UTC", "updated_at"=>"2014-01-21 22:09:54 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:09:54 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b7df9b4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:09:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1[0m  [["total_price", #<BigDecimal:bab26c8,'0.1555E3',18(18)>], ["updated_at", Tue, 21 Jan 2014 22:09:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 9ms (Views: 0.5ms | ActiveRecord: 1.1ms)
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:09:54 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:bacc870,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:09:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.3ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1  [["total_price", nil], ["updated_at", Tue, 21 Jan 2014 22:09:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.7ms | ActiveRecord: 0.8ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.3ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 1]]
  [1m[35m (12.5ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 1]]
  [1m[35m (12.5ms)[0m  commit transaction
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.7ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (12.8ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (12.8ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.2ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (16.7ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.8ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:13:16 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 22:13:16 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 22:13:16 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 22:13:16 UTC +00:00]]
  [1m[35m (12.7ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.3ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 2ms (Views: 0.8ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:13:16 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ad0834c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:13:16 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:13:16 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ad5c668,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:13:16 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 22:13:16 UTC", "updated_at"=>"2014-01-21 22:13:16 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:13:16 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ad8e99c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:13:16 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1[0m  [["total_price", #<BigDecimal:adaf14c,'0.1555E3',18(18)>], ["updated_at", Tue, 21 Jan 2014 22:13:16 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 0.9ms)
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:13:16 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b5452e4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:13:16 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 200 OK in 23ms (Views: 0.4ms | ActiveRecord: 0.5ms)
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:13:16 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b9a873c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:13:16 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:13:16 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ba0e1a4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:13:16 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#show as HTML
  Parameters: {"reservation"=>{"id"=>"1"}}
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mStamp::Service Load (0.1ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 1]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 1]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (16.8ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (14.2ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.7ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (33.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:14:01 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 22:14:01 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 22:14:01 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 22:14:01 UTC +00:00]]
  [1m[35m (13.4ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:14:01 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a1d43a4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:14:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:14:01 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a22d7ec,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:14:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.3ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:14:01 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a275678,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:14:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#show as HTML
  Parameters: {"reservation"=>{"id"=>"1"}}
  [1m[36mStamp::Reservation Load (0.3ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:14:01 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:aa1b044,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:14:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 22:14:01 UTC", "updated_at"=>"2014-01-21 22:14:01 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:14:01 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ae2d5c4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:14:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1[0m  [["total_price", #<BigDecimal:ae75c84,'0.1555E3',18(18)>], ["updated_at", Tue, 21 Jan 2014 22:14:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 0.9ms)
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:14:01 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:aeabaa0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:14:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 1]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 1]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (14.1ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.3ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (35.1ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.8ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:16:01 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 22:16:01 UTC +00:00]]
  [1m[35m (13.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 22:16:01 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 22:16:01 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:16:01 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:afa45ec,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:16:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:16:01 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:affd7f0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:16:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:16:01 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b03cc84,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:16:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#show as HTML
  Parameters: {"reservation"=>{"id"=>"1"}}
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:16:01 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b7bd120,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:16:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 22:16:01 UTC", "updated_at"=>"2014-01-21 22:16:01 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:16:01 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:bbeed70,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:16:01 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1[0m  [["total_price", #<BigDecimal:bc330d8,'0.1555E3',18(18)>], ["updated_at", Tue, 21 Jan 2014 22:16:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.8ms)
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:16:01 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:bc58860,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:16:01 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mStamp::Service Load (0.1ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 1]]
  [1m[35m (13.9ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 1]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (15.0ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.3ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (20.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (3.9ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:17:05 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 22:17:05 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 22:17:05 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 22:17:05 UTC +00:00]]
  [1m[35m (13.4ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:17:05 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a7b8e00,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:17:05 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 22:17:05 UTC", "updated_at"=>"2014-01-21 22:17:05 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:17:05 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a8d6f08,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:17:05 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1  [["total_price", #<BigDecimal:a8f843c,'0.1555E3',18(18)>], ["updated_at", Tue, 21 Jan 2014 22:17:05 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 0.9ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:17:05 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a913408,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:17:05 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 200 OK in 10ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:17:05 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b4cf0bc,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:17:05 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:17:05 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b52f78c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:17:05 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.3ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:17:05 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b56a9a4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:17:05 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#show as HTML
  Parameters: {"reservation"=>{"id"=>"1"}}
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.3ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 1]]
  [1m[35m (13.4ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 1]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (15.0ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.3ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (19.0ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.9ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:17:46 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 22:17:46 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 22:17:46 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 22:17:46 UTC +00:00]]
  [1m[35m (12.7ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:17:46 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a7a4dd8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:17:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 200 OK in 12ms (Views: 0.4ms | ActiveRecord: 0.5ms)
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:17:46 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a8ebb24,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:17:46 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1  [["total_price", #<BigDecimal:a905218,'0.1555E3',18(18)>], ["updated_at", Tue, 21 Jan 2014 22:17:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 0.9ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:17:46 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b09f640,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:17:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 22:17:46 UTC", "updated_at"=>"2014-01-21 22:17:46 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:17:46 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b4acd28,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:17:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#show as HTML
  Parameters: {"reservation"=>{"id"=>"1"}}
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 3ms (Views: 0.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:17:46 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b51a8b4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:17:46 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:17:46 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b547e04,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:17:46 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.3ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 1]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 1]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (14.7ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.6ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.0ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (16.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (31.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.6ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:21:15 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 22:21:15 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 22:21:16 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 22:21:16 UTC +00:00]]
  [1m[35m (12.7ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:21:16 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a4e46ac,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:21:16 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 22:21:16 UTC", "updated_at"=>"2014-01-21 22:21:16 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:21:16 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a5faeb0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:21:16 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1  [["total_price", #<BigDecimal:a61c3bc,'0.1555E3',18(18)>], ["updated_at", Tue, 21 Jan 2014 22:21:16 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 0.8ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:21:16 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a636fc8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:21:16 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:21:16 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b1f6e08,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:21:16 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:21:16 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b257690,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:21:16 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.3ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:21:16 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b2928f8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:21:16 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#show as HTML
  Parameters: {"reservation"=>{"id"=>"1"}}
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mStamp::Service Load (0.1ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 1]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 1]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (15.1ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.0ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.6ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (17.2ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.9ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.4ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:22:40 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 22:22:40 UTC +00:00]]
  [1m[35m (13.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 22:22:40 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 22:22:40 UTC +00:00]]
  [1m[35m (12.6ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:22:40 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a34042c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:22:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:22:40 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a3945b8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:22:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 22:22:40 UTC", "updated_at"=>"2014-01-21 22:22:40 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:22:40 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a3c67c0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:22:40 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1[0m  [["total_price", #<BigDecimal:a3e6ea8,'0.1555E3',18(18)>], ["updated_at", Tue, 21 Jan 2014 22:22:40 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 0.8ms)
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:22:41 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ab7cf00,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:22:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:22:41 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:afe18c0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:22:41 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#show as HTML
  Parameters: {"reservation"=>{"id"=>"1"}}
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:22:41 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b021f10,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:22:41 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mStamp::Service Load (0.1ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 1]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 1]]
  [1m[35m (13.2ms)[0m  commit transaction
  [1m[36m (14.0ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (24.7ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.1ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.7ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (16.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:22:58 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 22:22:58 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 22:22:58 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 22:22:58 UTC +00:00]]
  [1m[35m (12.7ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:22:58 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:96c0440,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:22:58 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.3ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:22:58 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9719180,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:22:58 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#show as HTML
  Parameters: {"reservation"=>{"id"=>"1"}}
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:22:58 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:973dee0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:22:58 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:22:58 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:97543e8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:22:58 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 22:22:58 UTC", "updated_at"=>"2014-01-21 22:22:58 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:22:58 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9f053d0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:22:58 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1[0m  [["total_price", #<BigDecimal:a30f084,'0.1555E3',18(18)>], ["updated_at", Tue, 21 Jan 2014 22:22:58 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 0.8ms)
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:22:58 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a3384d4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:22:58 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 1]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 1]]
  [1m[35m (13.5ms)[0m  commit transaction
  [1m[36m (16.6ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.8ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (24.9ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (17.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (5.3ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:23:51 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 22:23:51 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 22:23:51 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 22:23:51 UTC +00:00]]
  [1m[35m (13.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:23:51 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a3e86b8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:23:51 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 22:23:51 UTC", "updated_at"=>"2014-01-21 22:23:51 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 7ms (Views: 0.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:23:51 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a502ecc,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:23:51 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1  [["total_price", #<BigDecimal:a524464,'0.1555E3',18(18)>], ["updated_at", Tue, 21 Jan 2014 22:23:51 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.8ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:23:51 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a53f188,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:23:51 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 200 OK in 9ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:23:51 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b0fb170,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:23:51 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:23:51 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b147f34,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:23:51 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#show as HTML
  Parameters: {"reservation"=>{"id"=>"1"}}
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:23:51 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b19b940,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:23:51 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mStamp::Service Load (0.1ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 1]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 1]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (15.2ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.8ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.3ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.9ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.3ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (16.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (30.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:25:25 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 22:25:25 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 22:25:25 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 22:25:25 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:25:25 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:af5864c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:25:25 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 22:25:25 UTC", "updated_at"=>"2014-01-21 22:25:25 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:25:25 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b0719d4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:25:25 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1  [["total_price", #<BigDecimal:b095a64,'0.1555E3',18(18)>], ["updated_at", Tue, 21 Jan 2014 22:25:25 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 0.8ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:25:25 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b0ad6b4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:25:25 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:25:25 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b9b7b38,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:25:25 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#show as HTML
  Parameters: {"reservation"=>{"id"=>"1"}}
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:25:25 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:bc8d998,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:25:25 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 1]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 1]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (15.3ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.2ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (25.3ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (24.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (18.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:26:07 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 22:26:07 UTC +00:00]]
  [1m[35m (12.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 22:26:07 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 22:26:07 UTC +00:00]]
  [1m[35m (12.3ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:26:07 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9cdc720,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:26:07 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 22:26:07 UTC", "updated_at"=>"2014-01-21 22:26:07 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:26:07 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9df1ae8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:26:07 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1  [["total_price", #<BigDecimal:9e15b50,'0.1555E3',18(18)>], ["updated_at", Tue, 21 Jan 2014 22:26:07 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.4ms | ActiveRecord: 0.9ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.3ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:26:07 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9e2f154,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:26:07 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#show as HTML
  Parameters: {"reservation"=>{"id"=>"1"}}
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:26:07 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a5dbefc,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:26:07 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:26:07 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a9c2f98,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:26:07 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mStamp::Service Load (0.1ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 1]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 1]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (21.3ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.1ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.9ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.0ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (28.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (18.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (24.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (4.1ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:26:36 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 22:26:36 UTC +00:00]]
  [1m[35m (13.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 22:26:36 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 22:26:36 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:26:36 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:94dc28c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:26:36 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.3ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:26:36 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:95351c0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:26:36 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#show as HTML
  Parameters: {"reservation"=>{"id"=>"1"}}
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 3ms (Views: 0.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:26:36 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9554214,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:26:36 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 22:26:36 UTC", "updated_at"=>"2014-01-21 22:26:36 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:26:36 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:958213c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:26:36 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1  [["total_price", #<BigDecimal:9e5e670,'0.1555E3',18(18)>], ["updated_at", Tue, 21 Jan 2014 22:26:36 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.8ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:26:36 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a1016fc,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:26:36 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:26:37 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a1cfac0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:26:37 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mStamp::Service Load (0.1ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 1]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 1]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (14.2ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.8ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.9ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (256.9ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (20.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (23.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (18.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (16.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.2ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:30:54 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 22:30:54 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 22:30:54 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 22:30:54 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:30:54 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9317be0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:30:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:30:54 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:93ba0e8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:30:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#show as HTML
  Parameters: {"reservation"=>{"id"=>"1"}}
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 4ms (Views: 0.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:30:54 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:942170c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:30:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:30:54 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9437890,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:30:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.3ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:30:54 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9fc6940,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:30:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1  [["total_price", #<BigDecimal:a01edfc,'0.1555E3',18(18)>], ["updated_at", Tue, 21 Jan 2014 22:30:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 0.9ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:30:54 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a053a5c,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:30:54 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 22:30:54 UTC", "updated_at"=>"2014-01-21 22:30:54 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:30:54 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a0a8b88,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:30:54 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.3ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 1]]
  [1m[36m (13.0ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.4ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 1]]
  [1m[36m (12.9ms)[0m  [1mcommit transaction[0m
  [1m[36m (15.2ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.3ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (19.1ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.0ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (30.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (24.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (15.4ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.6ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.0ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.1ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (16.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (17.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (4.7ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:31:29 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 22:31:29 UTC +00:00]]
  [1m[35m (12.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 22:31:29 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 22:31:29 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 2ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:31:30 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:966fbbc,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:31:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:31:30 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:96c49a0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:31:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:31:30 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:96fd8e0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:31:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:31:30 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9e82cf0,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:31:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 22:31:30 UTC", "updated_at"=>"2014-01-21 22:31:30 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.3ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:31:30 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a2a1df4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:31:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1  [["total_price", #<BigDecimal:a2fa184,'0.1555E3',18(18)>], ["updated_at", Tue, 21 Jan 2014 22:31:30 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:31:30 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a32eed4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:31:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.3ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:31:30 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a3a1da8,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:31:30 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#show as HTML
  Parameters: {"reservation"=>{"id"=>"1"}}
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.1ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 1]]
  [1m[36m (12.9ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.3ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 1]]
  [1m[36m (13.3ms)[0m  [1mcommit transaction[0m
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.6ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.3ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (12.9ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.2ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (24.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (16.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (2.8ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:31:47 UTC +00:00], ["name", "service type 1"], ["updated_at", Tue, 21 Jan 2014 22:31:47 UTC +00:00]]
  [1m[35m (12.8ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Tue, 21 Jan 2014 22:31:47 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Tue, 21 Jan 2014 22:31:47 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:31:47 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a268734,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:31:47 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:31:47 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a361154,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:31:47 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#show as HTML
  Parameters: {"reservation"=>{"id"=>"1"}}
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.3ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:31:47 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a387ee4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:31:47 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 200 OK in 10ms (Views: 0.3ms | ActiveRecord: 0.4ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.3ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:31:47 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ac91d64,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:31:47 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1  [["total_price", #<BigDecimal:af58034,'0.1555E3',18(18)>], ["updated_at", Tue, 21 Jan 2014 22:31:47 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 0.8ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.3ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:31:47 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:af997dc,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:31:47 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-21 22:31:47 UTC", "updated_at"=>"2014-01-21 22:31:47 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.3ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Tue, 21 Jan 2014 22:31:47 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:aff9d94,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:31:47 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
Processing by Stamp::Api::V1::ReservationsController#destroy as HTML
  Parameters: {"reservation"=>{"id"=>"1"}}
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 18ms (Views: 0.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Tue, 21 Jan 2014 22:31:47 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:b0f4ab4,'0.1E3',9(36)>], ["updated_at", Tue, 21 Jan 2014 22:31:47 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 1]]
  [1m[36m (13.6ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.3ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 1]]
  [1m[36m (13.2ms)[0m  [1mcommit transaction[0m
  [1m[36m (21.9ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.5ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (24.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.4ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.2ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.8ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (34.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (16.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (6.2ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sat, 25 Jan 2014 00:02:08 UTC +00:00], ["name", "service type 1"], ["updated_at", Sat, 25 Jan 2014 00:02:08 UTC +00:00]]
  [1m[35m (13.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.4ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00]]
  [1m[35m (12.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "stamp_pre_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9c4f0f0,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_pre_reservations"[0m
Processing by Stamp::Api::V1::PreReservationsController#destroy as HTML
  Parameters: {"pre_reservation"=>{"id"=>"1"}}
  [1m[35mStamp::PreReservation Load (0.3ms)[0m  SELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations" WHERE "stamp_pre_reservations"."id" = ? LIMIT 1  [["id", "1"]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_pre_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.3ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_pre_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a4390b8,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::PreReservationsController#show as HTML
  Parameters: {"pre_reservation"=>{"id"=>"1"}}
  [1m[36mStamp::PreReservation Load (0.1ms)[0m  [1mSELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations" WHERE "stamp_pre_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::PreReservationsController#index as HTML
  [1m[35mStamp::PreReservation Load (0.2ms)[0m  SELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations"
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_pre_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a8619ec,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::PreReservationsController#index as HTML
  [1m[35mStamp::PreReservation Load (0.1ms)[0m  SELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations"
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[36mStamp::PreReservation Load (0.1ms)[0m  [1mSELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.3ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_pre_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a8a5994,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::PreReservationsController#update as HTML
  Parameters: {"pre_reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-25 00:02:09 UTC", "updated_at"=>"2014-01-25 00:02:09 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[36mStamp::PreReservation Load (0.1ms)[0m  [1mSELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations" WHERE "stamp_pre_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_pre_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a912ef4,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::PreReservationsController#update as HTML
  Parameters: {"pre_reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::PreReservation Load (0.1ms)[0m  SELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations" WHERE "stamp_pre_reservations"."id" = ? LIMIT 1  [["id", "1"]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36mStamp::PreReservation Load (0.1ms)[0m  [1mSELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations" WHERE "stamp_pre_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_pre_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a944d64,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::PreReservationsController#update as HTML
  Parameters: {"pre_reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::PreReservation Load (0.1ms)[0m  SELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations" WHERE "stamp_pre_reservations"."id" = ? LIMIT 1  [["id", "1"]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36mStamp::PreReservation Load (0.1ms)[0m  [1mSELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations" WHERE "stamp_pre_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_pre_reservations"
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_pre_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a9796e0,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_pre_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 1]]
  [1m[36m (13.2ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 1]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name") VALUES (?)[0m  [["name", "Test User"]]
  [1m[35m (12.5ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00], ["name", "service type 2"], ["updated_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00]]
  [1m[36m (13.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.2ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 72000], ["created_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 2], ["updated_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00]]
  [1m[36m (12.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:a9fce28,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
Processing by Stamp::Api::V1::ReservationsController#destroy as HTML
  Parameters: {"reservation"=>{"id"=>"1"}}
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 19ms (Views: 0.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:aaadf20,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#show as HTML
  Parameters: {"reservation"=>{"id"=>"1"}}
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:aaeb58c,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.3ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:ab0048c,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"2", "total_price"=>"100.0", "created_at"=>"2014-01-25 00:02:09 UTC", "updated_at"=>"2014-01-25 00:02:09 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.3ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:ab34458,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.3ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"2", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1  [["total_price", #<BigDecimal:ab631cc,'0.1555E3',18(18)>], ["updated_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 0.8ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.3ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:ab7a1ec,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"2", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 200 OK in 58ms (Views: 0.3ms | ActiveRecord: 0.8ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:8eb5214,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:02:09 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 2]]
  [1m[36m (13.4ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.2ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 2]]
  [1m[36m (13.2ms)[0m  [1mcommit transaction[0m
  [1m[36m (35.0ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.1ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (12.9ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.7ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (13.0ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (13.3ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (16.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (3.2ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sat, 25 Jan 2014 00:05:03 UTC +00:00], ["name", "service type 1"], ["updated_at", Sat, 25 Jan 2014 00:05:03 UTC +00:00]]
  [1m[35m (13.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Sat, 25 Jan 2014 00:05:03 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Sat, 25 Jan 2014 00:05:03 UTC +00:00]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:05:03 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9eb6668,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:05:03 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:05:03 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a668028,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:05:03 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#show as HTML
  Parameters: {"reservation"=>{"id"=>"1"}}
  [1m[35mStamp::Reservation Load (0.3ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 25 Jan 2014 00:05:03 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:aabf428,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:05:03 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
Processing by Stamp::Api::V1::ReservationsController#destroy as HTML
  Parameters: {"reservation"=>{"id"=>"1"}}
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 25 Jan 2014 00:05:03 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ac12578,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:05:03 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 25 Jan 2014 00:05:04 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ac41404,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:05:04 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.3ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 25 Jan 2014 00:05:04 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:ac80e38,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:05:04 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1  [["total_price", #<BigDecimal:acabbb0,'0.1555E3',18(18)>], ["updated_at", Sat, 25 Jan 2014 00:05:04 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 0.8ms)
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 25 Jan 2014 00:05:04 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:acc69d8,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:05:04 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-25 00:05:04 UTC", "updated_at"=>"2014-01-25 00:05:04 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 1]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 1]]
  [1m[35m (13.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (13.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sat, 25 Jan 2014 00:05:04 UTC +00:00], ["name", "service type 2"], ["updated_at", Sat, 25 Jan 2014 00:05:04 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.3ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 2 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Sat, 25 Jan 2014 00:05:04 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 2], ["updated_at", Sat, 25 Jan 2014 00:05:04 UTC +00:00]]
  [1m[35m (12.6ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_pre_reservations"
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_pre_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:05:04 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:ad7a8c0,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:05:04 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_pre_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_pre_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:05:04 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:adba0c4,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:05:04 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::PreReservationsController#show as HTML
  Parameters: {"pre_reservation"=>{"id"=>"1"}}
  [1m[35mStamp::PreReservation Load (0.2ms)[0m  SELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations" WHERE "stamp_pre_reservations"."id" = ? LIMIT 1  [["id", "1"]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_pre_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:05:04 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:adde834,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:05:04 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_pre_reservations"
Processing by Stamp::Api::V1::PreReservationsController#destroy as HTML
  Parameters: {"pre_reservation"=>{"id"=>"1"}}
  [1m[36mStamp::PreReservation Load (0.1ms)[0m  [1mSELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations" WHERE "stamp_pre_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_pre_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_pre_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:05:04 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:ae059c0,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:05:04 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::PreReservationsController#index as HTML
  [1m[35mStamp::PreReservation Load (0.2ms)[0m  SELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations"
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[36mStamp::PreReservation Load (0.1ms)[0m  [1mSELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::PreReservationsController#index as HTML
  [1m[35mStamp::PreReservation Load (0.2ms)[0m  SELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations"
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_pre_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:05:04 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:ae359a4,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:05:04 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::PreReservationsController#update as HTML
  Parameters: {"pre_reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"2", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::PreReservation Load (0.1ms)[0m  [1mSELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations" WHERE "stamp_pre_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35mStamp::PreReservation Load (0.1ms)[0m  SELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations" WHERE "stamp_pre_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.3ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_pre_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:05:04 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:ae6b84c,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:05:04 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::PreReservationsController#update as HTML
  Parameters: {"pre_reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"2", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::PreReservation Load (0.1ms)[0m  [1mSELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations" WHERE "stamp_pre_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35mStamp::PreReservation Load (0.1ms)[0m  SELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations" WHERE "stamp_pre_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.3ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_pre_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:05:04 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:90fea84,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:05:04 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::PreReservationsController#update as HTML
  Parameters: {"pre_reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"2", "total_price"=>"100.0", "created_at"=>"2014-01-25 00:05:04 UTC", "updated_at"=>"2014-01-25 00:05:04 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::PreReservation Load (0.1ms)[0m  SELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations" WHERE "stamp_pre_reservations"."id" = ? LIMIT 1  [["id", "1"]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 2]]
  [1m[36m (16.7ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.3ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 2]]
  [1m[36m (12.7ms)[0m  [1mcommit transaction[0m
  [1m[36m (15.3ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.6ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.4ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.7ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.4ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.4ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (13.3ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (25.0ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (16.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (12.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (13.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (13.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (12.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (13.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (3.0ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sat, 25 Jan 2014 00:08:35 UTC +00:00], ["name", "service type 1"], ["updated_at", Sat, 25 Jan 2014 00:08:35 UTC +00:00]]
  [1m[35m (13.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Sat, 25 Jan 2014 00:08:35 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Sat, 25 Jan 2014 00:08:35 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_pre_reservations"
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_pre_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:08:35 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:932b758,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:08:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_pre_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::PreReservationsController#index as HTML
  [1m[36mStamp::PreReservation Load (0.2ms)[0m  [1mSELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations"[0m
Completed 200 OK in 1ms (Views: 0.7ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_pre_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 25 Jan 2014 00:08:35 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9f0decc,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:08:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::PreReservationsController#index as HTML
  [1m[36mStamp::PreReservation Load (0.2ms)[0m  [1mSELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations"[0m
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[35mStamp::PreReservation Load (0.3ms)[0m  SELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.3ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_pre_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:08:35 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9f632dc,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:08:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::PreReservationsController#show as HTML
  Parameters: {"pre_reservation"=>{"id"=>"1"}}
  [1m[35mStamp::PreReservation Load (0.2ms)[0m  SELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations" WHERE "stamp_pre_reservations"."id" = ? LIMIT 1  [["id", "1"]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_pre_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:08:35 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:9fb57d0,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:08:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::PreReservationsController#update as HTML
  Parameters: {"pre_reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-25 00:08:35 UTC", "updated_at"=>"2014-01-25 00:08:35 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::PreReservation Load (0.1ms)[0m  SELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations" WHERE "stamp_pre_reservations"."id" = ? LIMIT 1  [["id", "1"]]
Completed 200 OK in 2ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.3ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_pre_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:08:35 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a078fc8,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:08:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::PreReservationsController#update as HTML
  Parameters: {"pre_reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::PreReservation Load (0.1ms)[0m  [1mSELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations" WHERE "stamp_pre_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35mStamp::PreReservation Load (0.1ms)[0m  SELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations" WHERE "stamp_pre_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.3ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_pre_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:08:35 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a0aee0c,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:08:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::PreReservationsController#update as HTML
  Parameters: {"pre_reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::PreReservation Load (0.1ms)[0m  [1mSELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations" WHERE "stamp_pre_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 200 OK in 2ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35mStamp::PreReservation Load (0.1ms)[0m  SELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations" WHERE "stamp_pre_reservations"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.3ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_pre_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:08:35 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a0d4c38,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:08:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_pre_reservations"
Processing by Stamp::Api::V1::PreReservationsController#destroy as HTML
  Parameters: {"pre_reservation"=>{"id"=>"1"}}
  [1m[36mStamp::PreReservation Load (0.1ms)[0m  [1mSELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations" WHERE "stamp_pre_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
Completed 200 OK in 1ms (Views: 0.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_pre_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.3ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 1]]
  [1m[36m (12.7ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.3ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 1]]
  [1m[36m (28.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name") VALUES (?)[0m  [["name", "Test User"]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:08:35 UTC +00:00], ["name", "service type 2"], ["updated_at", Sat, 25 Jan 2014 00:08:35 UTC +00:00]]
  [1m[36m (13.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mStamp::ServiceType Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 2 LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)  [["closing_hours", 72000], ["created_at", Sat, 25 Jan 2014 00:08:35 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 2], ["updated_at", Sat, 25 Jan 2014 00:08:35 UTC +00:00]]
  [1m[36m (12.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 25 Jan 2014 00:08:35 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:a182d9c,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:08:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.2ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.3ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:08:35 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:a1dc9b4,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:08:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 25 Jan 2014 00:08:35 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:a204568,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:08:35 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#show as HTML
  Parameters: {"reservation"=>{"id"=>"1"}}
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:08:35 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:a233f5c,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:08:35 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"2", "total_price"=>"100.0", "created_at"=>"2014-01-25 00:08:35 UTC", "updated_at"=>"2014-01-25 00:08:35 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:08:36 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:a267f14,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:08:36 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"2", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1[0m  [["total_price", #<BigDecimal:a286cac,'0.1555E3',18(18)>], ["updated_at", Sat, 25 Jan 2014 00:08:36 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 6ms (Views: 0.6ms | ActiveRecord: 0.9ms)
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.3ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:08:36 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:a2a1cdc,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:08:36 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"2", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:08:36 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:a2e1670,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:08:36 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
Processing by Stamp::Api::V1::ReservationsController#destroy as HTML
  Parameters: {"reservation"=>{"id"=>"1"}}
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 54ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35mStamp::TimeSlot Load (0.2ms)[0m  SELECT "stamp_time_slots".* FROM "stamp_time_slots"
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?  [["id", 2]]
  [1m[36m (13.2ms)[0m  [1mcommit transaction[0m
  [1m[35mStamp::ServiceType Load (0.3ms)[0m  SELECT "stamp_service_types".* FROM "stamp_service_types"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?  [["id", 2]]
  [1m[36m (12.9ms)[0m  [1mcommit transaction[0m
  [1m[36m (14.7ms)[0m  [1mCREATE TABLE "stamp_pre_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.3ms)[0m  CREATE TABLE "stamp_price_ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "service_id" integer, "from" datetime, "to" datetime, "value" decimal, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.2ms)[0m  [1mCREATE TABLE "stamp_reservations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "customer_id" integer, "service_id" integer, "total_price" decimal, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.7ms)[0m  CREATE TABLE "stamp_service_types" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "created_at" datetime, "updated_at" datetime, "service_type_id" integer) 
  [1m[36m (13.3ms)[0m  [1mCREATE INDEX "index_stamp_service_types_on_service_type_id" ON "stamp_service_types" ("service_type_id")[0m
  [1m[35m (13.7ms)[0m  CREATE TABLE "stamp_services" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "owner_id" integer, "name" varchar(255), "opening_hours" integer, "closing_hours" integer, "external_id" varchar(255), "period_size" integer, "service_type_id" integer, "payment_method" integer, "created_at" datetime, "updated_at" datetime) 
  [1m[36m (13.5ms)[0m  [1mCREATE TABLE "stamp_time_slots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "reservation_id" integer, "service_id" integer, "from" datetime, "units" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (13.9ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255)) 
  [1m[36m (12.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [1m[35m (12.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.2ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (12.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20140116003541')
  [1m[36m (16.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20140103151101')[0m
  [1m[35m (12.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141615')
  [1m[36m (25.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141804')[0m
  [1m[35m (18.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141711')
  [1m[36m (12.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141753')[0m
  [1m[35m (16.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20131103141810')
  [1m[36m (14.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20131103141659')[0m
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (18.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mSQL (3.3ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00], ["name", "service type 1"], ["updated_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00]]
  [1m[35m (23.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 1 LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00], ["external_id", "external 1"], ["name", "service 1"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 1], ["updated_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00]]
  [1m[35m (13.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:99775bc,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::ReservationsController#index as HTML
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations"[0m
Completed 200 OK in 1ms (Views: 0.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a29adc4,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::ReservationsController#show as HTML
  Parameters: {"reservation"=>{"id"=>"1"}}
  [1m[36mStamp::Reservation Load (0.2ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 3ms (Views: 0.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a55c030,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
Processing by Stamp::Api::V1::ReservationsController#destroy as HTML
  Parameters: {"reservation"=>{"id"=>"1"}}
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ?  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "stamp_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a66c150,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 200 OK in 8ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a74de98,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"1", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "stamp_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_reservations"."id" = 1[0m  [["total_price", #<BigDecimal:a76cc1c,'0.1555E3',18(18)>], ["updated_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 7ms (Views: 0.5ms | ActiveRecord: 0.9ms)
  [1m[36mStamp::Reservation Load (0.1ms)[0m  [1mSELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a793a38,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::ReservationsController#update as HTML
  Parameters: {"reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"1", "total_price"=>"100.0", "created_at"=>"2014-01-25 00:13:11 UTC", "updated_at"=>"2014-01-25 00:13:11 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations" WHERE "stamp_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 4ms (Views: 0.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00], ["customer_id", 1], ["service_id", 1], ["total_price", #<BigDecimal:a7ccd24,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.2ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mStamp::Service Load (0.1ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 1]]
  [1m[35m (13.4ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.2ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 1]]
  [1m[35m (16.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name") VALUES (?)  [["name", "Test User"]]
  [1m[36m (12.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "stamp_service_types" ("created_at", "name", "updated_at") VALUES (?, ?, ?)[0m  [["created_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00], ["name", "service type 2"], ["updated_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00]]
  [1m[35m (13.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::ServiceType Exists (0.2ms)[0m  SELECT 1 AS one FROM "stamp_service_types" WHERE "stamp_service_types"."id" = 2 LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "stamp_services" ("closing_hours", "created_at", "external_id", "name", "opening_hours", "owner_id", "payment_method", "period_size", "service_type_id", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["closing_hours", 72000], ["created_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00], ["external_id", "external 2"], ["name", "service 2"], ["opening_hours", 36000], ["owner_id", 1], ["payment_method", 0], ["period_size", 1800], ["service_type_id", 2], ["updated_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00]]
  [1m[35m (12.5ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "stamp_pre_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:a8570f0,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::PreReservationsController#index as HTML
  [1m[36mStamp::PreReservation Load (0.2ms)[0m  [1mSELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations"[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
Processing by Stamp::Api::V1::PreReservationsController#index as HTML
  [1m[36mStamp::PreReservation Load (0.2ms)[0m  [1mSELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations"[0m
Completed 200 OK in 1ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_pre_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:a8b56a0,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Processing by Stamp::Api::V1::PreReservationsController#show as HTML
  Parameters: {"pre_reservation"=>{"id"=>"1"}}
  [1m[36mStamp::PreReservation Load (0.2ms)[0m  [1mSELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations" WHERE "stamp_pre_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Completed 200 OK in 2ms (Views: 0.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_pre_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:a8d9474,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_pre_reservations"
Processing by Stamp::Api::V1::PreReservationsController#destroy as HTML
  Parameters: {"pre_reservation"=>{"id"=>"1"}}
  [1m[36mStamp::PreReservation Load (0.1ms)[0m  [1mSELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations" WHERE "stamp_pre_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "stamp_pre_reservations" WHERE "stamp_pre_reservations"."id" = ?  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "stamp_pre_reservations"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_pre_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:a90fc04,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::PreReservationsController#update as HTML
  Parameters: {"pre_reservation"=>{"customer_id"=>"1", "total_price"=>nil, "service_id"=>"2", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::PreReservation Load (0.1ms)[0m  [1mSELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations" WHERE "stamp_pre_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Completed 200 OK in 5ms (Views: 0.3ms | ActiveRecord: 0.3ms)
  [1m[36mStamp::PreReservation Load (0.1ms)[0m  [1mSELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations" WHERE "stamp_pre_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_pre_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:a94e094,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStamp::Service Load (0.4ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
Processing by Stamp::Api::V1::PreReservationsController#update as HTML
  Parameters: {"pre_reservation"=>{"customer_id"=>"1", "total_price"=>"155.5", "service_id"=>"2", "id"=>"1"}}
Unpermitted parameters: customer_id, total_price, service_id
  [1m[36mStamp::PreReservation Load (0.1ms)[0m  [1mSELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations" WHERE "stamp_pre_reservations"."id" = ? LIMIT 1[0m  [["id", "1"]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
Unpermitted parameters: id
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "stamp_pre_reservations" SET "total_price" = ?, "updated_at" = ? WHERE "stamp_pre_reservations"."id" = 1[0m  [["total_price", #<BigDecimal:8be4b34,'0.1555E3',18(18)>], ["updated_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 0.8ms)
  [1m[36mStamp::PreReservation Load (0.1ms)[0m  [1mSELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations" WHERE "stamp_pre_reservations"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mStamp::Service Load (0.3ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "stamp_pre_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)  [["created_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:8f83c04,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Processing by Stamp::Api::V1::PreReservationsController#update as HTML
  Parameters: {"pre_reservation"=>{"id"=>"1", "customer_id"=>"1", "service_id"=>"2", "total_price"=>"100.0", "created_at"=>"2014-01-25 00:13:11 UTC", "updated_at"=>"2014-01-25 00:13:11 UTC"}}
Unpermitted parameters: customer_id, service_id, total_price, created_at, updated_at
  [1m[35mStamp::PreReservation Load (0.1ms)[0m  SELECT "stamp_pre_reservations".* FROM "stamp_pre_reservations" WHERE "stamp_pre_reservations"."id" = ? LIMIT 1  [["id", "1"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
Unpermitted parameters: id, created_at, updated_at
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 200 OK in 4ms (Views: 0.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "stamp_pre_reservations"[0m
  [1m[35mStamp::Service Load (0.2ms)[0m  SELECT "stamp_services".* FROM "stamp_services" ORDER BY "stamp_services"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "stamp_pre_reservations" ("created_at", "customer_id", "service_id", "total_price", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["created_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00], ["customer_id", 1], ["service_id", 2], ["total_price", #<BigDecimal:985a170,'0.1E3',9(36)>], ["updated_at", Sat, 25 Jan 2014 00:13:11 UTC +00:00]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "stamp_pre_reservations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mStamp::TimeSlot Load (0.1ms)[0m  [1mSELECT "stamp_time_slots".* FROM "stamp_time_slots"[0m
  [1m[35mStamp::Reservation Load (0.1ms)[0m  SELECT "stamp_reservations".* FROM "stamp_reservations"
  [1m[36mStamp::Service Load (0.2ms)[0m  [1mSELECT "stamp_services".* FROM "stamp_services"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "stamp_services" WHERE "stamp_services"."id" = ?[0m  [["id", 2]]
  [1m[35m (13.0ms)[0m  commit transaction
  [1m[36mStamp::ServiceType Load (0.3ms)[0m  [1mSELECT "stamp_service_types".* FROM "stamp_service_types"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "stamp_service_types" WHERE "stamp_service_types"."id" = ?[0m  [["id", 2]]
  [1m[35m (12.7ms)[0m  commit transaction
